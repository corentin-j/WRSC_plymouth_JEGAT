<!DOCTYPE html>
<html class=" js postmessage history draganddrop borderimage borderradius boxshadow textshadow cssgradients csstransforms csstransforms3d csstransitions generatedcontent localstorage sessionstorage" lang="en-US"><head><style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>
		
			
				
			
			
			
				
					
			 
		
		
		
		<meta name="Description" content="This work presents an orientation tracking system based on a double stage Kalman filter for sensor fusion in 9D IMU. The IMU is composed by a 3D gyro, a 3D">
		
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<!-- Disable "click" touch event 300ms delay for Chrome/Firefox on Android -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<title>A double stage Kalman filter for sensor fusion and orientation tracking in 9D IMU - IEEE Conference Publication</title>
		
		


<script src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/ads"></script><script src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/ads_002"></script><script src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/pubads_impl_rendering_2019070101.js"></script><script src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/utag_003.js" type="text/javascript" async=""></script><script async="" type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/gpt.js"></script><script src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/settings.js"></script>
<link rel="stylesheet" type="text/css" href="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/cookieconsent.css">
<script src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/cookieconsent.js"></script>

<script>
window.addEventListener("load", function(){
 window.cookieconsent.initialise(json)
});
</script>



		





 


	
	
	
	
	
	
	
	
	
	
	
	
	

	

	

	
	
	

	

	

	
	
	
	
	
	

	

	
	
	
	
	
	
	
	
	
	
	
		
	

	

	

	
		
	
		
		
			
			
	


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">






<style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style>.refinement-section[_ngcontent-c0]   input[type=password][_ngcontent-c0], .refinement-section[_ngcontent-c0]   input[type=text][_ngcontent-c0]{border:1px solid #b7b7b7;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.refinement-section[_ngcontent-c0]   .refinement-content[_ngcontent-c0]   label[_ngcontent-c0]{display:inline}.layout-btn-blue[_ngcontent-c0]{padding:.25em 2.5em}</style><style>.gl-notification[_ngcontent-c1]{width:99%;left:0}</style><style>.refinement-section[_ngcontent-c2]   input[type=password][_ngcontent-c2], .refinement-section[_ngcontent-c2]   input[type=text][_ngcontent-c2]{border:1px solid #b7b7b7;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.refinement-section[_ngcontent-c2]   .refinement-content[_ngcontent-c2]   label[_ngcontent-c2]{display:inline}.layout-btn-blue[_ngcontent-c2]{padding:.25em 2.5em}
.button-blue[_ngcontent-c2]{color:#fff;background:#069;border-radius:3px;-webkit-transition:all .3s ease-in-out 0s;transition:all .3s ease-in-out 0s}.button-blue[_ngcontent-c2]:hover{background:#0081c1}.button-blue[_ngcontent-c2]:active{background:#17445a}.button-blue.disabled[_ngcontent-c2], .button-blue[_ngcontent-c2]:disabled{color:#bbb;background:#f8f8f8;cursor:pointer;pointer-events:none;border:1px solid #bbb}footer[_ngcontent-c2]{background:#123445;color:#fff;color:hsla(0,0%,100%,.825)}a[_ngcontent-c2]{color:inherit}.footer-nav[_ngcontent-c2]{margin:0 .35rem}.footer-nav-subheader[_ngcontent-c2]{color:#fff;margin:0}.footer-nav-list[_ngcontent-c2]{margin:-.2rem .35rem 0;padding:0;list-style:none}.footer-nav-list-item[_ngcontent-c2]{margin-bottom:.8rem}.footer-bottom[_ngcontent-c2]{padding:.5rem .7rem}.footer-bottom-terms[_ngcontent-c2]{font-size:.8rem;line-height:1.3rem;margin-bottom:.5rem}.footer-bottom-info-container[_ngcontent-c2]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.footer-bottom-info[_ngcontent-c2]{color:#fff}.footer-bottom-logo-container[_ngcontent-c2]{height:40px;overflow:hidden}.footer-bottom-logo[_ngcontent-c2]{position:relative;bottom:10px}</style><style>.refinement-section[_ngcontent-c3]   input[type=password][_ngcontent-c3], .refinement-section[_ngcontent-c3]   input[type=text][_ngcontent-c3]{border:1px solid #b7b7b7;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.refinement-section[_ngcontent-c3]   .refinement-content[_ngcontent-c3]   label[_ngcontent-c3]{display:inline}.layout-btn-blue[_ngcontent-c3]{padding:.25em 2.5em}
.button-blue[_ngcontent-c3]{color:#fff;background:#069;border-radius:3px;-webkit-transition:all .3s ease-in-out 0s;transition:all .3s ease-in-out 0s}.button-blue[_ngcontent-c3]:hover{background:#0081c1}.button-blue[_ngcontent-c3]:active{background:#17445a}.button-blue.disabled[_ngcontent-c3], .button-blue[_ngcontent-c3]:disabled{color:#bbb;background:#f8f8f8;cursor:pointer;pointer-events:none;border:1px solid #bbb}.accordion-header[_ngcontent-c3]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer}.footer-nav-accordion[_ngcontent-c3]{border-bottom:1px solid #ddd}.footer-nav-accordion[_ngcontent-c3]   .accordion-header[_ngcontent-c3]{padding:.8rem .1rem .8rem .35rem}</style><style>.refinement-section[_ngcontent-c4]   input[type=password][_ngcontent-c4], .refinement-section[_ngcontent-c4]   input[type=text][_ngcontent-c4]{border:1px solid #b7b7b7;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.refinement-section[_ngcontent-c4]   .refinement-content[_ngcontent-c4]   label[_ngcontent-c4]{display:inline}.layout-btn-blue[_ngcontent-c4]{padding:.25em 2.5em}
.button-blue[_ngcontent-c4]{color:#fff;background:#069;border-radius:3px;-webkit-transition:all .3s ease-in-out 0s;transition:all .3s ease-in-out 0s}.button-blue[_ngcontent-c4]:hover{background:#0081c1}.button-blue[_ngcontent-c4]:active{background:#17445a}.button-blue.disabled[_ngcontent-c4], .button-blue[_ngcontent-c4]:disabled{color:#bbb;background:#f8f8f8;cursor:pointer;pointer-events:none;border:1px solid #bbb}@media only screen and (max-width:767px){.document-main.sidebar-opened[_ngcontent-c4]{position:absolute;top:0;padding-top:128px;height:100%;overflow:hidden;opacity:.6}}.tab-inner[_ngcontent-c4]{padding-left:0;padding-right:0;padding-bottom:10px}.tab-inner[_ngcontent-c4]   .tab-content[_ngcontent-c4]{text-align:left;margin:20px;white-space:normal}.tab-inner[_ngcontent-c4]   .tab-content[_ngcontent-c4]   .action[_ngcontent-c4]{text-align:center;margin-top:10px}.tab-inner[_ngcontent-c4]   .tab-content[_ngcontent-c4]   .export-form[_ngcontent-c4]{width:100%}.tab-inner[_ngcontent-c4]   .tab-content[_ngcontent-c4]   .header[_ngcontent-c4]   a[_ngcontent-c4]{margin-top:-4px}.tab-inner[_ngcontent-c4]   ul.nav.nav-tabs[_ngcontent-c4]{font-size:small;border-bottom:1px solid #999;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:-webkit-box;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;padding-left:10px;padding-right:10px;margin-bottom:10px}.tab-inner[_ngcontent-c4]   ul.nav.nav-tabs[_ngcontent-c4]   .nav-item[_ngcontent-c4]   .nav-link[_ngcontent-c4]{padding:.4em .3em;background-color:#b7b7b7;border:1px solid #999;margin-bottom:-1px;margin-right:.1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#333;text-decoration:none}.tab-inner[_ngcontent-c4]   ul.nav.nav-tabs[_ngcontent-c4]   .nav-item[_ngcontent-c4]   .nav-link.active[_ngcontent-c4]{color:#069;font-weight:700;background-color:#f5f5f5;border-bottom:0}.overflow-ellipsis[_ngcontent-c4]{text-overflow:ellipsis}.fullWidth[_ngcontent-c4]{width:100%}.disqus-container[_ngcontent-c4]{padding:0 1em}@media only screen and (max-width:767px){.document-sidebar[_ngcontent-c4]{position:absolute;height:calc(100% - 129px);z-index:11000;right:0;padding:0;background:#fffbf5;border:2px solid #f8ac2e;max-width:40vw;-webkit-transform:translateX(40vw);transform:translateX(40vw);-webkit-transition:transform .25s ease-in-out 0s;-webkit-transition:-webkit-transform .25s ease-in-out 0s;transition:-webkit-transform .25s ease-in-out 0s;transition:transform .25s ease-in-out 0s;transition:transform .25s ease-in-out 0s,-webkit-transform .25s ease-in-out 0s}}@media only screen and (max-width:575px){.document-sidebar[_ngcontent-c4]{max-width:80vw;-webkit-transform:translateX(80vw);transform:translateX(80vw)}}@media only screen and (max-width:767px){.document-sidebar.opened[_ngcontent-c4]{position:relative;height:100%;margin-left:calc(100% - 40vw);-webkit-transform:translateX(0);transform:translateX(0);-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}}@media only screen and (max-width:575px){.document-sidebar.opened[_ngcontent-c4]{margin-left:calc(100% - 80vw)}}@media only screen and (max-width:767px){.document-sidebar-content[_ngcontent-c4]{max-height:calc(100% - 129px);width:100%;overflow:scroll;position:absolute}}@media only screen and (max-width:767px){.document-sidebar-content.opened[_ngcontent-c4]{position:relative;height:100%;max-height:100%}}@media only screen and (max-width:767px){.document-sidebar.top-spacing[_ngcontent-c4]{margin-top:8.5rem}}@media only screen and (min-width:768px){.document-sidebar-rel-art[_ngcontent-c4]{padding:0 .65rem}}.header-rel-art-toggle-mobile[_ngcontent-c4]{top:-2px}</style><style>.refinement-section[_ngcontent-c6]   input[type=password][_ngcontent-c6], .refinement-section[_ngcontent-c6]   input[type=text][_ngcontent-c6]{border:1px solid #b7b7b7;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.refinement-section[_ngcontent-c6]   .refinement-content[_ngcontent-c6]   label[_ngcontent-c6]{display:inline}.layout-btn-blue[_ngcontent-c6]{padding:.25em 2.5em}
.button-blue[_ngcontent-c6]{color:#fff;background:#069;border-radius:3px;-webkit-transition:all .3s ease-in-out 0s;transition:all .3s ease-in-out 0s}.button-blue[_ngcontent-c6]:hover{background:#0081c1}.button-blue[_ngcontent-c6]:active{background:#17445a}.button-blue.disabled[_ngcontent-c6], .button-blue[_ngcontent-c6]:disabled{color:#bbb;background:#f8f8f8;cursor:pointer;pointer-events:none;border:1px solid #bbb}.document-title[_ngcontent-c6], .document[_ngcontent-c6]   .document-header[_ngcontent-c6]   .document-title-container[_ngcontent-c6], .pure-g[_ngcontent-c6]{letter-spacing:normal}.document-title[_ngcontent-c6]{margin:0}.document-title-fix[_ngcontent-c6]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:100%}.document-disqus-anchor-icon[_ngcontent-c6]{display:inline-block}.document-header-inner-container[_ngcontent-c6]{max-width:100%;width:100%}.document-header-breadcrumbs-container[_ngcontent-c6]{padding:.4rem 1rem .8rem 1rem;margin:0;font-size:.8em}.document-header-metrics-banner[_ngcontent-c6]{padding:.4rem 1rem .8rem 1rem;width:100%}.document-header-title-container[_ngcontent-c6]{padding:.4rem 1rem .8rem 1rem;display:-webkit-box;display:-ms-flexbox;display:flex}@media only screen and (max-width:767px){.document-header-title-container[_ngcontent-c6]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.document-header-title-container[_ngcontent-c6]   .right-container[_ngcontent-c6]{margin-left:auto}@media only screen and (max-width:767px){.document-header-title-container[_ngcontent-c6]   .right-container[_ngcontent-c6]{margin-left:0;margin-right:auto}}.document-header-title-container[_ngcontent-c6]   .badge-container[_ngcontent-c6]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:auto;background:no-repeat url("data:image/svg+xml;charset=utf-8,%3Csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 168 65'%3E%3Cdefs%3E%3Cstyle%3E.cls-1{fill:none;stroke:%23e5e5e5;stroke-linecap:round;stroke-linejoin:round;fill-rule:evenodd}%3C/style%3E%3C/defs%3E%3Ctitle%3Ebg_badge_border%3C/title%3E%3Cpath class='cls-1' d='M166.5 218h164.82a2.19 2.19 0 0 1 2.18 2.21v59.12a2.66 2.66 0 0 1-2.66 2.67H166.5l17.57-31.56z' transform='translate(-166 -217.5)'/%3E%3C/svg%3E");width:150px;height:60px;cursor:pointer}@media only screen and (max-width:767px){.document-header-title-container[_ngcontent-c6]   .badge-container[_ngcontent-c6]{margin-top:1rem}}.document-header-title-container[_ngcontent-c6]   .badge-container[_ngcontent-c6]   .fa-chevron-circle-down[_ngcontent-c6]{margin-top:auto;margin-left:auto;padding-right:.25rem;padding-bottom:.3rem;color:#069}.document-header-title-container[_ngcontent-c6]   .badge-container[_ngcontent-c6]   .badge[_ngcontent-c6]{width:45px;height:45px;margin-left:1.5rem}.document-header-title-container[_ngcontent-c6]   .badge-container[_ngcontent-c6]   .badge-text[_ngcontent-c6]{margin-left:.5rem;font-size:.75rem;font-weight:700;line-height:normal;color:#069}.document-header-title-container[_ngcontent-c6]   .badge-container[_ngcontent-c6]   .badge-icn-available[_ngcontent-c6]{background:no-repeat url("data:image/svg+xml;charset=utf-8,%3Csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 29 35'%3E%3Cdefs%3E%3Cstyle%3E.cls-1,.cls-4{fill:%231272c4}.cls-1,.cls-2,.cls-3{fill-rule:evenodd}.cls-2{fill:%23d8d9d9}.cls-3{fill:%23fff}%3C/style%3E%3C/defs%3E%3Ctitle%3Eicn_reviewed_badge%3C/title%3E%3Cpath class='cls-1' d='M246.6 239.31a2 2 0 0 1-.78.92 2.14 2.14 0 0 1-1.32.31 1.82 1.82 0 0 1-.43 1.21 2.08 2.08 0 0 1-1.23.7 1.8 1.8 0 0 1 0 1.35 1.88 1.88 0 0 1-.91 1 1.83 1.83 0 0 1 .51 1.26 1.87 1.87 0 0 1-.36 1.08 1.84 1.84 0 0 1 .67.94 1.8 1.8 0 0 1 0 1.17 2 2 0 0 1 1 .73 1.84 1.84 0 0 1 .33 1.23 2.16 2.16 0 0 1 1.29.4 1.93 1.93 0 0 1 .75 1.15 2.12 2.12 0 0 1 1.43 0 2 2 0 0 1 1.11.85 2.16 2.16 0 0 1 2.49-.14 2.12 2.12 0 0 1 2.25-.6 1.92 1.92 0 0 1 .78-.92 2.14 2.14 0 0 1 1.32-.31 1.8 1.8 0 0 1 .43-1.21 2 2 0 0 1 1.22-.7 1.8 1.8 0 0 1 0-1.35 1.88 1.88 0 0 1 .91-1 1.83 1.83 0 0 1-.51-1.26 1.8 1.8 0 0 1 .36-1.08 1.93 1.93 0 0 1-.67-.94 1.8 1.8 0 0 1 0-1.17 2.07 2.07 0 0 1-1-.73 1.8 1.8 0 0 1-.33-1.23 2.17 2.17 0 0 1-1.29-.41 1.9 1.9 0 0 1-.75-1.15 2.12 2.12 0 0 1-1.43 0 2.05 2.05 0 0 1-1.11-.85 2.13 2.13 0 0 1-2.49.13 2 2 0 0 1-1 .63 2.18 2.18 0 0 1-1.24-.01zm3.4-6.81a2 2 0 0 1 2.05 1.92v.17l.06-.16a2.08 2.08 0 0 1 2.6-1.19 1.89 1.89 0 0 1 1.27 2.44l-.06.19.13-.16a2.16 2.16 0 0 1 2.88-.33 1.86 1.86 0 0 1 .48 2.52 2.13 2.13 0 0 1 2.64.64 1.82 1.82 0 0 1-.12 2.28 2.06 2.06 0 0 1 2 1.38 1.85 1.85 0 0 1-.74 2.08 2 2 0 0 1 1.35 1.81 2 2 0 0 1-2.05 1.92h-.18l.17.06a1.9 1.9 0 0 1 1.27 2.44 2.11 2.11 0 0 1-2.61 1.19l-.2-.07.17.13a1.84 1.84 0 0 1 .36 2.69 2.15 2.15 0 0 1-2.69.46 1.85 1.85 0 0 1-.68 2.47 2.17 2.17 0 0 1-2.44-.11 2 2 0 0 1-1.47 1.84 2.15 2.15 0 0 1-2.23-.7 2 2 0 0 1-1.92 1.27 2 2 0 0 1-2.05-1.92v-.18l-.06.17a2.1 2.1 0 0 1-2.6 1.19 1.89 1.89 0 0 1-1.33-2.44l.06-.2-.13.16a2.15 2.15 0 0 1-2.88.34 1.85 1.85 0 0 1-.48-2.52 2.13 2.13 0 0 1-2.64-.64 1.82 1.82 0 0 1 .12-2.29 2 2 0 0 1-2-1.37 1.85 1.85 0 0 1 .74-2.09 1.93 1.93 0 0 1-1.35-1.8 2 2 0 0 1 2.05-1.92h.18l-.17-.06a1.89 1.89 0 0 1-1.27-2.44 2.09 2.09 0 0 1 2.6-1.19l.21.06-.17-.12a1.85 1.85 0 0 1-.36-2.7 2.16 2.16 0 0 1 2.69-.45 1.86 1.86 0 0 1 .68-2.48 2.15 2.15 0 0 1 2.44.12 2 2 0 0 1 1.47-1.84 2.13 2.13 0 0 1 2.22.69 2.07 2.07 0 0 1 1.99-1.26z' transform='translate(-235.5 -232.5)'/%3E%3Cpath class='cls-1' d='M6.53 19.08h15.54V35l-7.72-3.45L6.53 35V19.08z'/%3E%3Cpath class='cls-2' d='M249.84 255.33c5.23 0 9.5-4 9.5-9s-4.27-8.95-9.5-8.95-9.51 4-9.51 8.95 4.27 9 9.51 9z' transform='translate(-235.5 -232.5)'/%3E%3Cpath class='cls-3' d='M249.85 257.07c6.55 0 11.88-5 11.88-11.14s-5.33-11.13-11.88-11.13-11.85 5-11.85 11.13 5.31 11.14 11.85 11.14z' transform='translate(-235.5 -232.5)'/%3E%3Cellipse class='cls-4' cx='14.4' cy='13.58' rx='9.23' ry='8.84'/%3E%3C/svg%3E")}.document-header-title-container[_ngcontent-c6]   .badge-container[_ngcontent-c6]   .badge-icn-reviewed[_ngcontent-c6]{background:no-repeat url("data:image/svg+xml;charset=utf-8,%3Csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 28.27 35.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1{fill:%23d8d9d9}.cls-1,.cls-2,.cls-3{fill-rule:evenodd}.cls-2{fill:%23fff}.cls-3,.cls-4{fill:%23196600}%3C/style%3E%3C/defs%3E%3Ctitle%3Eicn_available_badge%3C/title%3E%3Cpath class='cls-1' d='M145 111.26a9.12 9.12 0 1 0-9.27-9.11 9.21 9.21 0 0 0 9.27 9.11z' transform='translate(-130.25 -88.18)'/%3E%3Cpath class='cls-2' d='M145 113a11.34 11.34 0 1 0-11.58-11.34A11.48 11.48 0 0 0 145 113z' transform='translate(-130.25 -88.18)'/%3E%3Cpath class='cls-3' d='M141.07 95.12a2 2 0 0 1-.76.93 2 2 0 0 1-1.28.32 1.94 1.94 0 0 1-1.62 1.94 1.93 1.93 0 0 1 0 1.38 2 2 0 0 1-.89 1.05 1.91 1.91 0 0 1 .14 2.38 1.92 1.92 0 0 1 .66 1 2 2 0 0 1 0 1.19 2 2 0 0 1 .95.74 1.92 1.92 0 0 1 .33 1.26 1.94 1.94 0 0 1 1.25.41 1.91 1.91 0 0 1 .73 1.17 2 2 0 0 1 1.4 0 2 2 0 0 1 1.08.87 2 2 0 0 1 1.31-.48 2.05 2.05 0 0 1 1.12.34 2 2 0 0 1 1-.64 2.11 2.11 0 0 1 1.22 0 1.88 1.88 0 0 1 .75-.93 2 2 0 0 1 1.29-.32 1.84 1.84 0 0 1 .42-1.23 2 2 0 0 1 1.19-.72 1.9 1.9 0 0 1 0-1.37 2 2 0 0 1 .89-1 1.94 1.94 0 0 1-.49-1.28 1.9 1.9 0 0 1 .35-1.1 2 2 0 0 1-.66-1 1.93 1.93 0 0 1 0-1.19 2 2 0 0 1-1-.74 1.92 1.92 0 0 1-.32-1.26 2 2 0 0 1-1.26-.41 2 2 0 0 1-.73-1.17 2 2 0 0 1-2.48-.83 2 2 0 0 1-1.3.48 2.06 2.06 0 0 1-1.13-.34 2 2 0 0 1-1 .64 2.07 2.07 0 0 1-1.16-.09zm3.32-6.94a2 2 0 0 1 2 2v.18l.06-.17a2 2 0 0 1 2.55-1.25 1.94 1.94 0 0 1 1.24 2.48l-.07.2.13-.17a2 2 0 0 1 2.81-.33 1.94 1.94 0 0 1 .47 2.56 2 2 0 0 1 2.57.65 1.93 1.93 0 0 1-.11 2.33 2 2 0 0 1 1.91 1.4 1.94 1.94 0 0 1-.72 2.12 1.95 1.95 0 0 1-.69 3.79h-.18l.17.06a2 2 0 0 1 1.24 2.49 2 2 0 0 1-2.54 1.21l-.2-.06.17.12a2 2 0 0 1 .35 2.75 2 2 0 0 1-2.62.46 1.94 1.94 0 0 1-.67 2.52 2 2 0 0 1-2.38-.11 2 2 0 0 1-1.42 1.87 2 2 0 0 1-2.18-.71 2 2 0 0 1-3.87-.67v-.17l-.06.16a2 2 0 0 1-2.54 1.22 2 2 0 0 1-1.24-2.49l.07-.2-.13.17a2 2 0 0 1-2.8.34 1.94 1.94 0 0 1-.48-2.57 2 2 0 0 1-2.57-.65 1.93 1.93 0 0 1 .11-2.33 2 2 0 0 1-1.91-1.4 2 2 0 0 1 .73-2.12 2 2 0 0 1 .68-3.8h.18l-.17-.05a2 2 0 0 1-1.28-2.49 2 2 0 0 1 2.54-1.21l.2.07-.17-.13a1.94 1.94 0 0 1-.34-2.75 2 2 0 0 1 2.61-.46 1.94 1.94 0 0 1 .67-2.52 2 2 0 0 1 2.38.11 2 2 0 0 1 1.43-1.87 2 2 0 0 1 2.17.71 2 2 0 0 1 1.9-1.29z' transform='translate(-130.25 -88.18)'/%3E%3Cpath class='cls-3' d='M6.37 19.44h15.15v16.2l-7.53-3.51-7.62 3.51v-16.2z'/%3E%3Cpath class='cls-1' d='M144.23 111.43a9.12 9.12 0 1 0-9.27-9.11 9.2 9.2 0 0 0 9.27 9.11z' transform='translate(-130.25 -88.18)'/%3E%3Cpath class='cls-2' d='M144.24 113.2a11.34 11.34 0 1 0-11.58-11.34 11.48 11.48 0 0 0 11.58 11.34z' transform='translate(-130.25 -88.18)'/%3E%3Ccircle class='cls-4' cx='14.04' cy='13.83' r='9'/%3E%3C/svg%3E")}.document-header-cover-image[_ngcontent-c6]{padding:.4rem 1rem .8rem 1rem;padding-right:0}.document-header-cover-image[_ngcontent-c6]   img[_ngcontent-c6]{border:1px solid #000;max-width:98%}.document-banner-access[_ngcontent-c6]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex}.mobile-serp-nav[_ngcontent-c6]{padding:.4rem 1rem .8rem 1rem}.breadcrumbs-separator[_ngcontent-c6]{padding:.4rem}.book-chapter-mark-container[_ngcontent-c6]{padding-top:.5rem}.book-chapter-icon-container[_ngcontent-c6]{padding:.8rem 0;display:-webkit-box;display:-ms-flexbox;display:flex}.book-chapter-icon-link[_ngcontent-c6]{font-size:.87rem}.book-chapter-icon-link.truncated[_ngcontent-c6]{overflow:hidden;white-space:nowrap}.book-chapter-mark-container[_ngcontent-c6]{max-width:80vw}.icon-open-blue-book[_ngcontent-c6]{top:2px;position:relative;margin-right:.5em}.ellipsis--horizontal[_ngcontent-c6]{display:-webkit-box;display:-ms-flexbox;display:flex;max-height:1.2rem;border-radius:3px;padding:0 .4rem;color:#fff;background-color:#0081c1}.ellipsis--horizontal[_ngcontent-c6]:hover{opacity:.9}.ellipsis--horizontal.active[_ngcontent-c6]{background-color:#17445a}.publisher-info-label[_ngcontent-c6]{color:#060;font-size:1rem;font-weight:700}</style><style>.action-item-container[_ngcontent-c8]{width:135px}.download-pdf[_ngcontent-c8]{padding-left:0!important}</style><style></style><style>.iq-plus-inner-container[_ngcontent-c15]{border:2px solid #17445a;font-size:.88em}.iq-plus-error-container[_ngcontent-c15]{overflow:hidden;color:#196600;font-weight:700;display:-webkit-box;display:-ms-flexbox;display:flex;min-height:200px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.iq-plus-error-container[_ngcontent-c15]   p[_ngcontent-c15]{padding:1.5em}.iq-plus-graph[_ngcontent-c15]{overflow:hidden;background-color:#d1dfe8}.iq-plus-graph-loading-div[_ngcontent-c15]{background-color:#17445a;padding:.7em;border-radius:50%;display:inline-block}.iq-plus-graph-loading-div[_ngcontent-c15]   i[_ngcontent-c15]{position:relative;top:2.5px;right:2.5px}.iq-plus-graph-inner-container[_ngcontent-c15]{display:-webkit-box;display:-ms-flexbox;display:flex;padding:.5em 1em;min-height:32px}.iq-plus-graph-name[_ngcontent-c15]{width:42%;font-size:.8em;font-weight:700;color:#069;text-align:right}.iq-plus-graph-value[_ngcontent-c15]{width:60%;margin-left:5px}.iq-plus-graph-data-visualization[_ngcontent-c15]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:.9em;font-weight:700;color:#fff;background-image:-webkit-gradient(linear,left top,right top,from(#e37222),to(#e4a42c));background-image:linear-gradient(90deg,#e37222,#e4a42c);height:100%;min-width:1.3em}.iq-plus-expand-container[_ngcontent-c15], .iq-plus-graph-data-visualization[_ngcontent-c15]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.iq-plus-expand-container[_ngcontent-c15]{padding:.5em;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.iq-plus-expand-container.expanded[_ngcontent-c15]{background-color:#17445a}.iq-plus-expand-btn[_ngcontent-c15]   i[_ngcontent-c15]{top:2px;position:relative}.iq-plus-bottom-message[_ngcontent-c15]{background-color:#17445a;color:#fff}.iq-plus-bottom-message[_ngcontent-c15]   p[_ngcontent-c15]{margin:0;padding-bottom:.5em}.iq-plus-find-out-more-btn[_ngcontent-c15]{padding:.5em 1em;border-radius:5px;border:1px solid #51c4fd;color:#eddf9d;text-decoration:none;background-color:#17445a;text-align:center;font-size:1em}.iq-plus-find-out-more-btn[_ngcontent-c15]   i[_ngcontent-c15]{top:2px;position:relative}.iq-plus-header[_ngcontent-c15]{padding:.5em 1em;font-weight:700}.iq-plus-header[_ngcontent-c15], .iq-plus-top-header[_ngcontent-c15]{background-color:#17445a;color:#fff}.iq-plus-top-header[_ngcontent-c15]{display:-webkit-box;display:-ms-flexbox;display:flex}.iq-plus-top-header-borders[_ngcontent-c15]{position:relative;margin-right:1.5em}.iq-plus-top-header-borders[_ngcontent-c15]:after{content:" ";position:absolute;display:block;width:100%;height:100%;top:0;left:0;z-index:1;background:transparent;-webkit-transform-origin:bottom left;transform-origin:bottom left;-webkit-transform:skew(-40deg,0deg);transform:skew(-40deg,0deg);border-right:1.5px solid #fff;border-bottom:1.2px solid #fff}.iq-plus-top-header-logo[_ngcontent-c15]{padding:.2em .4em 0 0}.iq-plus-footer[_ngcontent-c15]{border-top:2px solid #17445a}.img-iqplus-default[_ngcontent-c15]{cursor:default}.Spinner[_ngcontent-c15]{margin:0;position:relative;height:122px}</style><style>.download-citations[_ngcontent-c19]{width:100%}.download-citations[_ngcontent-c19]   .stats-download-citations-radioButtons-container[_ngcontent-c19]   section[_ngcontent-c19]{text-align:left}.download-citations[_ngcontent-c19]   .stats-download-citations-radioButtons-container[_ngcontent-c19]   section.stats-include[_ngcontent-c19]{border-right:1px solid #e7e7e7}.download-citations[_ngcontent-c19]   .stats-download-citations-radioButtons-container[_ngcontent-c19]   section.stats-include.mobile-div[_ngcontent-c19]{border:0}.download-citations[_ngcontent-c19]   .stats-download-citations-radioButtons-container[_ngcontent-c19]   section[_ngcontent-c19]   label[_ngcontent-c19]{color:#2c2c2c;padding-bottom:1em;font-size:1em}.download-citations[_ngcontent-c19]   .stats-download-citations[_ngcontent-c19]   .buttons[_ngcontent-c19]{text-align:center;margin-top:2em}.download-citations[_ngcontent-c19]   .stats-download-citations[_ngcontent-c19]   .buttons[_ngcontent-c19]   .stats-download-citations-button-cancel[_ngcontent-c19]{margin-right:.5em}.download-citations[_ngcontent-c19]   .stats-download-citations[_ngcontent-c19]   .buttons[_ngcontent-c19]   .stats-download-citations-button-download[_ngcontent-c19]{margin-left:1em}</style><style>.email-popup[_ngcontent-c20]{width:100%;color:#000}.email-popup[_ngcontent-c20]   i.popover-close-icon[_ngcontent-c20]{background-image:url(/assets/img/sprite.png?v=1528231377898);background-position:-340px -65px;width:15px;height:15px;display:-webkit-box;display:-ms-flexbox;display:flex;float:right;cursor:pointer}.email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .form-group[_ngcontent-c20]{text-align:left}.email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .form-group[_ngcontent-c20]   .header[_ngcontent-c20]{font-size:1.5em;text-align:left;margin-bottom:1em}.email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .form-group[_ngcontent-c20]   .email-input-div[_ngcontent-c20]{padding-bottom:10px}.email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .form-group[_ngcontent-c20]   .email-input-div[_ngcontent-c20]   input[_ngcontent-c20]{height:28px;width:100%}.email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .form-group[_ngcontent-c20]   .email-input-div[_ngcontent-c20]   input[_ngcontent-c20], .email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .form-group[_ngcontent-c20]   .email-input-div[_ngcontent-c20]   textarea[_ngcontent-c20]{font-size:1.2em}.email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .form-group[_ngcontent-c20]   label[_ngcontent-c20]{font-size:1.2em;color:#2c2c2c}.email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .form-group[_ngcontent-c20]   textarea[_ngcontent-c20]{width:100%;height:75px}.email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .form-group[_ngcontent-c20]   .captcha[_ngcontent-c20]{padding:0 10.5px}.email-popup[_ngcontent-c20]   .stats-email-popover-container[_ngcontent-c20]   .stats-email-popover-button-send[_ngcontent-c20]{margin-left:15px}</style><style>.download-collabratec-container[_ngcontent-c21]{width:190px}.download-collabratec-container[_ngcontent-c21]   p[_ngcontent-c21]{color:#2c2c2c}</style><style>.manage-citation-alerts-container[_ngcontent-c22]{width:151px}.manage-citation-alerts-container[_ngcontent-c22]   .manage-alerts-link[_ngcontent-c22]{margin:10px 0}</style><style>.toc-container[_ngcontent-c7]{padding:.6em .5em;border-bottom:1px solid #ddd}.toc-heading[_ngcontent-c7]{font-size:1em;padding-bottom:.5em}.toc-list[_ngcontent-c7]{list-style:none;padding:0}.toc-list-item[_ngcontent-c7]{padding:.5em 0}.toc-list-item[_ngcontent-c7]   a.disabled[_ngcontent-c7]{color:#333}.toc-list-link[_ngcontent-c7]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:.9em}.toc-list-icon[_ngcontent-c7]{margin-right:5px}.toc-show-more-btn[_ngcontent-c7]{font-size:.85em;font-weight:700}</style><script type="text/javascript" async="" charset="utf-8" id="utag_ieeexplore.main_32" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/utag_002.js"></script><script type="text/javascript" async="" charset="utf-8" id="tiqapp" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/utag.js"></script><style>[_nghost-c11]{width:100%}.ft-toc[_ngcontent-c11]{height:52px;border-top:1px solid #e5e5e5;border-bottom:1px solid #e5e5e5}.ft-toc[_ngcontent-c11] > div[_ngcontent-c11]{margin-top:13px}.ft-toc[_ngcontent-c11]   a.toc-link[_ngcontent-c11]{font-size:1.2em;font-weight:700}.ft-toc[_ngcontent-c11]   a.toc-link[_ngcontent-c11]:hover{text-decoration:none}.ft-toc[_ngcontent-c11]   a.toc-link[_ngcontent-c11]   img[_ngcontent-c11]{position:relative;top:-2px;margin-right:.3em}.full-text-toc-wrapper[_ngcontent-c11]   .previous-next-nav-ctrl[_ngcontent-c11]{overflow:visible}.stats-document-container-fullTextSection[_ngcontent-c11]{padding:0 15px}.stats-document-container-rh[_ngcontent-c11]{padding-right:1em;padding-left:1em}.previous-next-nav-ctrl[_ngcontent-c11]{overflow:visible}.toc-container[_ngcontent-c11]{margin-bottom:.7em;font-weight:700}.toc-container[_ngcontent-c11]   a[_ngcontent-c11]:hover{text-decoration:none}</style><style>.accordion-header[_ngcontent-c29]{color:#069;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.accordion-header[_ngcontent-c29]   .accordion-chevron[_ngcontent-c29]   .fa[_ngcontent-c29]{font-size:1.5rem}.accordion-header[_ngcontent-c29]:hover{color:#0081c1}.container-active[_ngcontent-c29]   .accordion-header[_ngcontent-c29]{color:#17445a}</style><style>.abstract-first-page-preview[_ngcontent-c9]{border:1px solid #000;width:100%}.abstract-graphic-asset[_ngcontent-c9]{width:450px!important}</style><style>.document-resizer[_ngcontent-c28]{text-align:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:8px}.document-resizer[_ngcontent-c28]   .document-resizer-slider[_ngcontent-c28]{line-height:normal;padding-bottom:10px}.document-resizer[_ngcontent-c28]   .document-resizer-slider[_ngcontent-c28]   .small-font[_ngcontent-c28]{font-size:10px}.document-resizer[_ngcontent-c28]   .document-resizer-slider[_ngcontent-c28]   input[type=range][_ngcontent-c28]{vertical-align:middle;width:60%;border-radius:3px;height:5px;background-color:#fff}.document-resizer[_ngcontent-c28]   .document-resizer-slider[_ngcontent-c28]   input[type=range][_ngcontent-c28]::-webkit-slider-runnable-track{background:#fff;border:none}.document-resizer[_ngcontent-c28]   .document-resizer-slider[_ngcontent-c28]   input[type=range][_ngcontent-c28]::-webkit-slider-thumb{background-color:#fff;border:1px solid #fff}.document-resizer[_ngcontent-c28]   .document-resizer-slider[_ngcontent-c28]   .large-font[_ngcontent-c28]{font-size:20px}.document-resizer[_ngcontent-c28]   .document-resizer-slider[_ngcontent-c28]   span[_ngcontent-c28]{font-weight:700;margin:0 5px;vertical-align:middle;color:#fff}.pure-button-primary[_ngcontent-c28]{border:1px solid #fff}</style><style>ul.back-to-top[_ngcontent-c42]{display:none;list-style:none;padding:0;width:100%}.back-to-top-btn[_ngcontent-c42]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:45px;height:45px;background-color:#069;opacity:.7}</style><link rel="preload" href="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/integrator_002.js" as="script"><script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/integrator_002.js"></script><link rel="preload" href="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/integrator.js" as="script"><script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/integrator.js"></script><script src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/pubads_impl_2019070101.js" async=""></script><style>.header-rel-art-pub[_ngcontent-c14]{margin:.25rem 0 .25rem}.header-rel-art-pub[_ngcontent-c14]:last-child{margin:0 0 .5rem}</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax.MathJax_FullWidth {text-align: center; display: table-cell!important; width: 10000em!important}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none; box-sizing: content-box}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax_LineBox {display: table!important}
.MathJax_LineBox span {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Main; src: url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?V=2.7.4') format('woff'), url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Main; src: url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?V=2.7.4') format('woff'), url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?V=2.7.4') format('opentype'); font-weight: bold}
@font-face {font-family: MathJax_Main; src: url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?V=2.7.4') format('woff'), url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?V=2.7.4') format('opentype'); font-style: italic}
@font-face {font-family: MathJax_Math; src: url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?V=2.7.4') format('woff'), url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?V=2.7.4') format('opentype'); font-style: italic}
@font-face {font-family: MathJax_Caligraphic; src: url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?V=2.7.4') format('woff'), url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Size1; src: url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?V=2.7.4') format('woff'), url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Size2; src: url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?V=2.7.4') format('woff'), url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Size3; src: url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?V=2.7.4') format('woff'), url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Size4; src: url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?V=2.7.4') format('woff'), url('https://ieeexplore.ieee.org/xploreAssets/MathJax-274/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?V=2.7.4') format('opentype')}
</style><style></style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style></head><body class="body-resp"><div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window cc-banner cc-type-info cc-theme-block cc-bottom cc-color-override-170793312 " style=""><!--googleoff: all--><span id="cookieconsent:desc" class="cc-message">IEEE
 websites place cookies on your device to give you the best user 
experience. By using our websites, you agree to the placement of these 
cookies. To learn more, read our <a aria-label="learn more about cookies" role="button" tabindex="0" class="cc-link" href="https://www.ieee.org/about/help/security_privacy.html" target="_blank">Privacy Policy.</a></span><div class="cc-compliance"><a aria-label="dismiss cookie message" role="button" tabindex="0" class="cc-btn cc-dismiss">Accept &amp; Close</a></div><!--googleon: all--></div><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px none; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div><g:compress>
	<link rel="stylesheet" href="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/simplePassMeter.css">
	<link rel="stylesheet" type="text/css" media="screen, print" href="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/styles.css">
	<link rel="stylesheet" href="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/idangerous.css">
	<link rel="stylesheet" type="text/css" media="screen, print" href="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/jquery-ui-1.css">
</g:compress>




		

	<script type="text/javascript">
		var googletag = googletag || {};
		googletag.cmd = googletag.cmd || [];
		(function() {
		var gads = document.createElement('script');
		gads.async = true;
		gads.type = 'text/javascript';
		var useSSL = 'https:' == document.location.protocol;
		gads.src = (useSSL ? 'https:' : 'http:') + 
		'//www.googletagservices.com/tag/js/gpt.js';
		var node = document.getElementsByTagName('script')[0];
		node.parentNode.insertBefore(gads, node);
		})();
	</script>

		<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/jquery.js" charset="utf-8"></script>
		

		<!--[if gt IE 8]>
				<link rel="stylesheet" type="text/css" href="/assets/css/ie9.css?cv=20190618_000001" />
		<![endif]-->

		<!--[if IE 8]>
				<link rel="stylesheet" type="text/css" href="/assets/css/ie8.css?cv=20190618_000001" />
		<![endif]-->

		<!--[if IE 7]>
				<link rel="stylesheet" type="text/css" href="/assets/css/ie7.css?cv=20190618_000001" />
		<![endif]-->

		<!--[if IE 6]>
				<link rel="stylesheet" type="text/css" href="/assets/css/ie6.css?cv=20190618_000001" />
		<![endif]-->
		
	
	
		<p class="JumpLink" id="PageTop"><a href="#" title="Click here to Skip to main content" accesskey="s">Skip to Main Content</a></p>

		<div id="global-notification" class="row stats-global-notification">
			<div class="hide col Notification Notification--global Notification--fixed">
				<a href="" class="Notification-close js-close" aria-label="close message button"><i class="fa fa-close"></i></a>
				<div class="Notification-header"></div>
				<div class="Notification-text"></div>
			</div>
		</div>

		<div id="LayoutWrapper">
			<div class="container-fluid">
				<div class="row">
					<div class="col">
						
							










	
		<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6Mc4deRE.js"></script>
	

	



	
















	
		
		
	
	




	




	





<div class="Metanav stats-metanav">
	<div class="Metanav-ieee-links">
		<ul class="Menu Menu--horizontal Menu--dividers">
			<li class="Menu-item stats-extLink stats-Unav_exit_aaa"><a href="http://www.ieee.org/" id="u-home" class="ieeeorg">IEEE.org</a></li>
			<li class="Menu-item stats-extLink">IEEE <em>Xplore</em> Digital Library</li>
			<li class="Menu-item stats-extLink"><a href="http://standards.ieee.org/" id="u-standards" class="exitstandardsorg">IEEE-SA</a></li>
			<li class="Menu-item stats-extLink"><a href="http://spectrum.ieee.org/" id="u-spectrum" class="exitspectrum">IEEE Spectrum</a></li>
			<li class="Menu-item stats-extLink"><a href="http://www.ieee.org/sitemap.html" id="u-more" class="exitmoreieeesites">More Sites</a></li>
		</ul>
	</div>
	<div class="Metanav-user-links">
		<ul class="Menu Menu--horizontal Menu--dividers u-relative u-pullRight">
			
				<li class="Menu-item stats-mnEvLinks" id="global-header-cart-count">
					<a class="cart stats-Unav_exit_Cart" href="https://www.ieee.org/cart/public/myCart/page.html?refSite=http://ieeexplore.ieee.org&amp;refSiteName=IEEE%20Xplore" title="View Cart" tabindex="0"><span id="cartCount">Cart&nbsp;(0)</span></a>
					<div class="content-r cart-summary product-cart" style="display:none" id="mc_ieee-mini-cart-include_wrapper">
						<a class="cart-close" onclick="closeCart(event);" tabindex="0"></a>
						<span style="display:none" id="mc_ieee-mini-cart-include"></span><div id="mc_minicart-container" class="mc-minicart-content"></div>
					</div>
				</li>
			
			
			
				<li class="Menu-item stats-mnEvLinks"><a class="create-account stats-Unav_CreateAcct" href="#" title="Create Account">Create Account</a></li>
				<li class="Menu-item stats-mnEvLinks">
					<a class="sign-in stats-Unav_P_SignIn" href="#" title="Sign In">Personal Sign In</a>
					


<div id="personal-sign-in" class="hide Overlay Overlay--right stats-metanav-signin-modal" aria-hidden="true">
	<div class="Overlay-tab">
		<span class="Overlay-label">Personal Sign In</span>
	</div>
	<div class="Overlay-body">
		<div class="Notification hide u-mb-1">
			<div class="Notification-header"></div>
			<div class="Notification-text"></div>
		</div>

		














<!-- If for signin forms that need to be hidden, use this template -->

    
        <div id="gdpr-hidden-personal-signin-gdpr-container" class="gdpr-signin-container col-md-12" style="display: none;">
            <div class="welcome-msg u-pb-1">
                For IEEE to continue sending you helpful information on our products
                and services, please consent to our updated Privacy Policy.
            </div>
            <div class="checkbox-disclaimer row">
                <div class="col-1">
                    <label class="custom-checkbox">
                        <input id="gdpr-hidden-personal-signin-gdpr-checkbox" type="checkbox" onchange="acceptGdpr(this)">
                        <span class="checkmark"></span>
                    </label>
                </div>
                <div class="col">
                    I have read and accepted the <a href="https://www.ieee.org/security-privacy.html" target="_blank">IEEE Privacy Policy</a>.
                </div>
            </div>

        
            

            
            <div class="u-pt-1 u-align-right col-12">
                <button id="gdpr-hidden-personal-signin-back-signin-btn" class="layout-btn-blue disabled">Accept &amp; Sign In
            
        
        
               		<span id="gdpr-hidden-personal-signin-SpinnerImage" class="hide">
						<img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/move-spinner.gif">
					</span>
                </button>
            </div>
        </div>
    
    
    



       
        <script>
        	function acceptGdpr(checkBox){
                var gdprTextBox=jQuery(".gdpr-hidden-personal-signin").find(".gdprAccepted");
                if(!gdprTextBox || !gdprTextBox.val() || !gdprTextBox.val()==='unknown'){
                	alert("Required \n <input type='hidden' name='gdprAccepted' class='gdprAccepted' value='unknown' /> \n In Form gdpr-hidden-personal-signin")
                }                
                gdprTextBox.val(checkBox.checked);
        	}
        	function showGdpr(){
         		jQuery(".gdpr-hidden-personal-signin").addClass('hidden-signin-form');
                jQuery('#gdpr-hidden-personal-signin-gdpr-container').show();
                jQuery('#gdpr-hidden-personal-signin-SpinnerImage').hide();
        	}
        	function hideGdpr(){
                jQuery('#gdpr-hidden-personal-signin-gdpr-container').hide();
                jQuery(".gdpr-hidden-personal-signin").removeClass('hidden-signin-form');
        	}    
            // On GDPR checkbox click, toggle enable/disable back to sign in button.
            jQuery('#gdpr-hidden-personal-signin-gdpr-checkbox').change(function(){
                if (jQuery(this).is(':checked')) {
                    jQuery('#gdpr-hidden-personal-signin-back-signin-btn').removeClass('disabled');
                } else {
                    jQuery('#gdpr-hidden-personal-signin-back-signin-btn').addClass('disabled');
                }
            });
        	jQuery('#gdpr-hidden-personal-signin-back-signin-btn').on('dblclick',function(event){
        		event.preventDefault();
        		return false;
        	});
            // On Back to sign in button click, show sign in form.
            jQuery('#gdpr-hidden-personal-signin-back-signin-btn').click(function(){
            	jQuery(this).attr("disabled","disabled")
        		jQuery('#gdpr-hidden-personal-signin-SpinnerImage').show();
                jQuery(".gdpr-hidden-personal-signin").find(".js-submit").click();
            });    
            // On Back to sign in button click, show sign in form.

        </script>
    
    


    
	
     	<script>
          // If checkbox is show, hide the sign in form until checkbox accepted.
          jQuery(document).ready(function(){
          	hideGdpr();
          });
        </script>	
	
         
		

		<form action="https://ieeexplore.ieee.org/servlet/LoginModalController" class="gdpr-hidden-personal-signin form-personal-signin pure-form row justify-content-center">
				<input type="hidden" name="src2" id="src2" value="loginModalWindow"> 
				<input type="hidden" name="url2" id="url2" value="/xpl/loginModal.jsp">
				<div class="col-6 col-md-5 u-pr-1">
					<label class="overlabel" for="username">Email Address</label>
					<input class="pure-input-1 username" name="username" type="text" autocomplete="off" placeholder="Email Address">
				</div>
				<div class="col-6 col-md-5 u-pr-1">
					<label class="overlabel" for="password">Password</label>
					<input class="pure-input-1 password" name="password" type="password" placeholder="Password">
				</div>
				<input type="hidden" name="gdprAccepted" class="gdprAccepted" value="unknown"> 
				<div class="col-3 col-md-2">
					<button class="js-submit pure-button pure-button-primary stats-Unav_Per_SignIn">Sign In</button>
				</div>
		</form>
		<a href="#" class="gdpr-hidden-personal-signin u-pullRight js-forgotUserPass stats-forgotUserPass stats-Unav_Per_SignIn_Forgot_UP">Forgot Password?</a>
	</div>
</div>

				</li>
			
		</ul>
	</div>
</div> <!-- Metanav -->
<!--
TODOS
* update the way the shopping cart updates counts.  It's inserting string text + count.
* port logic for modal service unavailable to js
 -->



	


<div class="Header" id="xplore-header" data-service="true" data-inst="true" data-web="false">
	<div class="row">
		<div class="logo-container logo-container-left">
			
				
					<a href="https://ieeexplore.ieee.org/Xplore/home.jsp" accesskey="1" title="Delivering full text access to the world's highest quality technical literature in engineering and technology" alt="IEEE Advancing Technology for Humanity" class="logo-xplore"></a>
				
				
			
		</div>

		<div class="institutional-sign-in-container">
				
					
					
				




















	
		
		<div id="loggedInLogo">
			<div id="loggedinlogo-wrapper">
				<div class="branding-container">

					
						<img class="hide-mobile" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/44497_Plymouth_44497.gif" title="Access provided by" width="200" height="60">
					

					<span class="branding-text">
						<span>Access provided by:</span>
						<h4>Plymouth University</h4>
						
						
							
							
								<a class="sign-out" href="https://ieeexplore.ieee.org/servlet/Login?logout=/Xplore/guesthome.jsp" title="Sign Out" accesskey="3"><i class="icon icon-double-caret"></i>Sign Out</a>
							
						
					</span>
				</div>
			</div>
		</div>
		
		

		
		
		<div id="contAdminWindowContent">
			<a class="mwclose">X</a>
			<table>
			
				
				
				
				
				
				
			</table>
		</div>

	
	


		</div>

		<div class="logo-container logo-container-right">
			<span class="logo-ieee u-pullRight"></span>
		</div>
	</div>
</div>




<!--  code for desktop capturing removed -->

							















<div class="Toolbar stats-toolbar-menu">
	<ul class="Toolbar-list">
		<li id="primary-browse" class="Toolbar-item Toolbar-item-browse is-menu">
			<a class="Toolbar-button Toolbar-button-browse stats-browse-content" tabindex="0">
				<span class="Toolbar-button-browse-text">Browse<i class="Toolbar-dropdown-icon"></i></span>
			</a>
			<ul class="Menu Menu--overlay Toolbar-subnav-menu Toolbar-browse-subnav-menu" style="display: none;">
				<li><a href="https://ieeexplore.ieee.org/browse/books/title/" class="Books stats-browse-book">Books</a></li>
				<li><a href="https://ieeexplore.ieee.org/browse/conferences/title/" accesskey="c" class="ConfProceedings stats-browse-conf">Conferences</a></li>
				<li><a href="https://ieeexplore.ieee.org/xpl/courses.jsp" class="EducationCourses stats-browse-course">Courses</a></li>
				<li><a href="https://ieeexplore.ieee.org/browse/periodicals/title/" accesskey="j" class="Journals_Mag stats-browse-jrnl">Journals &amp; Magazines</a></li>
				<li><a href="https://ieeexplore.ieee.org/browse/standards/collection/ieee" accesskey="b" class="Standards stats-browse-std">Standards</a></li>
				<!-- <li>
					<a tabindex="0" id="byTopicLink" class="ByTopic stats-browse-by-topic">Topics <i class="Toolbar-topics-caret-icon fa fa-angle-right"></i></a>
					




<script>
	function goToTopic(topic) {
		var topicMap = applySpecialCharacterMapping(topic); 
		var url = "/xpl/topicbrowse.jsp?topic=" + escape(topicMap);
		window.top.location.href = url;
	}
</script>


<div id="browse-by-topic" class="Overlay stats-browsebytopic-menu">
	<div class="Overlay-body">
		<ul class="List List--no-style">
			
				
					<li><a href="/browse/topics/Aerospace">Aerospace</a></li>
				
			
				
					<li><a href="/browse/topics/Ancillary Data">Ancillary Data</a></li>
				
			
				
					<li><a href="/browse/topics/Audio">Audio</a></li>
				
			
				
					<li><a href="/browse/topics/Bioengineering">Bioengineering</a></li>
				
			
				
					<li><a href="/browse/topics/Career Development">Career Development</a></li>
				
			
				
					<li><a href="/browse/topics/Communication, Networking and Broadcast Technologies">Communication, Networking and Broadcast Technologies</a></li>
				
			
				
					<li><a href="/browse/topics/Communication. Networking and Broadcasting">Communication. Networking and Broadcasting</a></li>
				
			
				
					<li><a href="/browse/topics/Components, Circuits, Devices and Systems">Components, Circuits, Devices and Systems</a></li>
				
			
				
					<li><a href="/browse/topics/Compression">Compression</a></li>
				
			
				
					<li><a href="/browse/topics/Computing and Processing">Computing and Processing</a></li>
				
			
				
					<li><a href="/browse/topics/Computing and Processing (Hardware/Software)">Computing and Processing (Hardware/Software)</a></li>
				
			
				
					<li><a href="/browse/topics/Control">Control</a></li>
				
			
				
					<li><a href="/browse/topics/D-Cinema">D-Cinema</a></li>
				
			
				
					<li><a href="/browse/topics/Emerging Technologies">Emerging Technologies</a></li>
				
			
				
					<li><a href="/browse/topics/Engineered Materials, Dielectrics and Plasmas">Engineered Materials, Dielectrics and Plasmas</a></li>
				
			
				
					<li><a href="/browse/topics/Engineering Profession">Engineering Profession</a></li>
				
			
				
			
				
					<li><a href="/browse/topics/Fields, Waves and Electromagnetics">Fields, Waves and Electromagnetics</a></li>
				
			
				
					<li><a href="/browse/topics/File Formats">File Formats</a></li>
				
			
				
					<li><a href="/browse/topics/Film">Film</a></li>
				
			
				
					<li><a href="/browse/topics/General Topics for Engineers">General Topics for Engineers</a></li>
				
			
				
					<li><a href="/browse/topics/General Topics for Engineers (Math, Science and Engineering)">General Topics for Engineers (Math, Science and Engineering)</a></li>
				
			
				
					<li><a href="/browse/topics/Geoscience">Geoscience</a></li>
				
			
				
					<li><a href="/browse/topics/IEEE Standards">IEEE Standards</a></li>
				
			
				
					<li><a href="/browse/topics/Identification">Identification</a></li>
				
			
				
					<li><a href="/browse/topics/Image Formats">Image Formats</a></li>
				
			
				
					<li><a href="/browse/topics/Interfaces">Interfaces</a></li>
				
			
				
					<li><a href="/browse/topics/Metadata">Metadata</a></li>
				
			
				
					<li><a href="/browse/topics/Networks">Networks</a></li>
				
			
				
					<li><a href="/browse/topics/Nuclear Engineering">Nuclear Engineering</a></li>
				
			
				
					<li><a href="/browse/topics/Photonics and Electrooptics">Photonics and Electrooptics</a></li>
				
			
				
					<li><a href="/browse/topics/Power, Energy and Industry Applications">Power, Energy and Industry Applications</a></li>
				
			
				
					<li><a href="/browse/topics/Projection">Projection</a></li>
				
			
				
					<li><a href="/browse/topics/Recording">Recording</a></li>
				
			
				
					<li><a href="/browse/topics/Robotics and Control Systems">Robotics and Control Systems</a></li>
				
			
				
					<li><a href="/browse/topics/Security">Security</a></li>
				
			
				
					<li><a href="/browse/topics/Security, D-Cinema">Security, D-Cinema</a></li>
				
			
				
					<li><a href="/browse/topics/Signal Processing and Analysis">Signal Processing and Analysis</a></li>
				
			
				
					<li><a href="/browse/topics/Stereoscopic">Stereoscopic</a></li>
				
			
				
					<li><a href="/browse/topics/Subtitles">Subtitles</a></li>
				
			
				
					<li><a href="/browse/topics/Telecommunications">Telecommunications</a></li>
				
			
				
					<li><a href="/browse/topics/Television">Television</a></li>
				
			
				
					<li><a href="/browse/topics/Test & Measurement">Test & Measurement</a></li>
				
			
				
					<li><a href="/browse/topics/Time & Sync">Time & Sync</a></li>
				
			
				
					<li><a href="/browse/topics/Transportation">Transportation</a></li>
				
			
				
					<li><a href="/browse/topics/Wrappers">Wrappers</a></li>
				
			
		</ul>
	</div>
</div>

				</li> -->
			</ul>
		</li>
		
		
		<li class="Toolbar-item is-menu hide-mobile">
			<a class="Toolbar-button Toolbar-button-settings" tabindex="0">My Settings<i class="Toolbar-dropdown-icon"></i></a>
			<ul class="Menu Menu--overlay Toolbar-subnav-menu stats-my-settings" style="display: none;">
				
				<li><a href="https://ieeexplore.ieee.org/xpl/tocalerts_list.jsp" class="ALERTS">Content Alerts</a></li>
                					
				<li><a href="https://ieeexplore.ieee.org/search/savedsearches" class="stats-saved-searches">Search Alerts</a></li>
				
				
					<li><a href="https://ieeexplore.ieee.org/my-settings/my-xplore" class="stats-my-xplore"><i>MyXplore</i> App</a></li>
				
				<li><a href="https://ieeexplore.ieee.org/Xplore/login.jsp?reason=fromPreferencesMenu" class="" id="">Preferences</a></li>
				<li><a href="https://ieeexplore.ieee.org/articleSale/purchaseHistory.jsp" class="PURCHASEHISTORY" id="PURCHASEHISTORY">Purchase History</a></li>
				<li><a href="https://ieeexplore.ieee.org/search/searchHistoryMore.jsp" id="search-history" class="searchhistory">Search History</a></li>
				<li><a href="https://ieeexplore.ieee.org/Xplore/accessinfo.jsp" class="WHATCANIACCESS" id="WHATCANIACCESS">What can I access?</a></li>
			</ul>
		</li>
		
		
		 <li class="Toolbar-item is-menu hide-mobile">
			<a class="Toolbar-button Toolbar-button-help" tabindex="0">Get Help<i class="Toolbar-dropdown-icon"></i></a>
			<ul class="Menu Menu--overlay Toolbar-subnav-menu stats-get-help" style="display: none;">
				<li><a href="https://ieeexplore.ieee.org/xpl/feedback.jsp" id="Feedback">Feedback</a></li>
				<li><a href="https://ieeexplore.ieee.org/xpl/techform.jsp" id="TechSupport">Technical Support</a></li>
				<li><a href="https://ieeexplore.ieee.org/Xplorehelp/Help_start.html" id="Resources">Resources and Help</a></li>
			</ul>
		</li>

		

		
	</ul>
</div>













 



						
						







	
		
		
			
			
			
		
	
	




						<div id="global-alert-message"></div>
						






<script type="text/javascript">
	
	
	
	document.write('<base href="/document/" />');
	
	
</script><!-- base href="https://ieeexplore.ieee.org/document/" -->






<script type="text/javascript">
var body_rightsLink ="", body_publisher = "";
var recordId = "";


var AUTHOR_PROFILE = 'ON';
if (AUTHOR_PROFILE.toUpperCase() == "OFF"){
	var AUTHOR_PROFILE_ENABLED = false;
}else{
	var AUTHOR_PROFILE_ENABLED = true;
}

var global = {
	document: {
		disqus:{
			remote_auth_s3 : 'KHt9KQ== bd3278716829c5929deca2fcbf81e8e31dc60050 1562682879',
			public_api_key:'1lxKgMbpNIbQvfk2tqLcWeSVloE8rgIY2CV1tCu3Vp641oL4eEITYBbkViJJGNYY',
			short_name:'ieeexplore',
			client_url:'https://ieeexplore.ieee.org',
			sso_enabled:'{$sessionProfile.provisioned}'
		},

		fullTextAccess: true,
		isAccessFromInstitution: true
		
	}
};
	
	global.document.metadata={"userInfo":{"customerNameRaw":"Plymouth University","institute":true,"member":false,"individual":false,"guest":false,"subscribedContent":false,"fileCabinetContent":false,"fileCabinetUser":false,"institutionalFileCabinetUser":false,"products":"NOKIA BELL LABS|ISOL55|MCCIS5|EBOOKS:2015:2017|NOWCSEC:2018:2018|IEL|MITPJRNLS|MCCIS6|IBM|MCCIS7|ISOL85|MCCIS8|VDE|NOKIA BELL LABS|","instType":"Academic","userIds":[44497],"showPatentCitations":true,"showGet802Link":false,"openUrlImgLoc":"/assets/img/btn.find-in-library.png","openUrlLink":"NA","instLogoFile":"44497_Plymouth_44497.gif","showOpenUrlLink":false,"marketingInfoCaptured":false,"tracked":false},"authors":[{"name":"Simone Sabatelli","affiliation":"Dept. of Information Engineering, University of Pisa, Pisa, Italy","firstName":"Simone","lastName":"Sabatelli","affiliation":"Dept. of Information Engineering, University of Pisa, Pisa, Italy","id":"38072181800"},{"name":"Marco Galgani","affiliation":"Dept. of Information Engineering, University of Pisa, Pisa, Italy","firstName":"Marco","lastName":"Galgani","affiliation":"Dept. of Information Engineering, University of Pisa, Pisa, Italy","id":"38233581400"},{"name":"Luca Fanucci","affiliation":"Dept. of Information Engineering, University of Pisa, Pisa, Italy","firstName":"Luca","lastName":"Fanucci","affiliation":"Dept. of Information Engineering, University of Pisa, Pisa, Italy","id":"37265849900"},{"name":"Alessandro Rocchi","affiliation":"SensorDynamics AG, Navacchio (Pisa), Italy","firstName":"Alessandro","lastName":"Rocchi","affiliation":"SensorDynamics AG, Navacchio (Pisa), Italy","id":"37352270100"}],"isbn":[{"format":"Electronic ISBN","value":"978-1-4577-1725-3"},{"format":"Print ISBN","value":"978-1-4577-1724-6"},{"format":"CD-ROM ISBN","value":"978-1-4577-1723-9"}],"articleNumber":"6166315","dbTime":"3 ms","metrics":{"citationCountPaper":16,"citationCountPatent":0,"totalDownloads":1687},"pdfUrl":"/stamp/stamp.jsp?tp=&arnumber=6166315","purchaseOptions":{"showOtherFormatPricingTab":false,"showPdfFormatPricingTab":true,"pdfPricingInfoAvailable":true,"otherPricingInfoAvailable":false,"mandatoryBundle":false,"optionalBundle":false,"pdfPricingInfo":[{"memberPrice":"$14.95","nonMemberPrice":"$33.00","partNumber":"6166315","type":"PDF/HTML"}]},"formulaStrippedArticleTitle":"A double stage Kalman filter for sensor fusion and orientation tracking in 9D IMU","getProgramTermsAccepted":false,"sections":{"abstract":"true","authors":"true","figures":"true","multimedia":"false","references":"true","citedby":"true","keywords":"true","definitions":"false","algorithm":"false","supplements":"false","footnotes":"false","disclaimer":"false","metrics":"true"},"keywords":[{"type":"IEEE Keywords","kwd":["Magnetic separation","Kalman filters","Algorithm design and analysis","Estimation","Quaternions","Compass","Accelerometers"]},{"type":"INSPEC: Controlled Indexing","kwd":["accelerometers","compasses","computational complexity","field programmable gate arrays","gyroscopes","Kalman filters","magnetic sensors","microsensors","sensor fusion"]},{"type":"INSPEC: Non-Controlled Indexing","kwd":["double stage Kalman filter","sensor fusion","9D IMU","orientation tracking system","3D gyro","3D accelerometer","magnetic compass","algorithm complexity reduction","gyro data","angular position estimation","roll angle correction","pitch angle correction","accelerometer data","inertial measurement unit","ASIP","FPGA","6D sensor","application specific instruction set processor"]},{"type":"Author Keywords ","kwd":["orientation tracking","angular position","Kalman filter","quaternions","inertial measurement unit","sensor fusion"]}],"allowComments":false,"pubLink":"/xpl/conhome/6162919/proceeding","issueLink":"/xpl/tocresult.jsp?isnumber=6166268","standardTitle":"A double stage Kalman filter for sensor fusion and orientation tracking in 9D IMU","title":"A double stage Kalman filter for sensor fusion and orientation tracking in 9D IMU","abstract":"This work presents an orientation tracking system based on a double stage Kalman filter for sensor fusion in 9D IMU. The IMU is composed by a 3D gyro, a 3D accelerometer and a magnetic compass. The filter was divided into two stages to reduce algorithm complexity. Gyro data are used to first estimate the angular position, then the first stage corrects roll and pitch angles using accelerometer data. The second stage processes magnetic compass data to correct the yaw angle. One of the advantages of this kind of filter is that a magnetic anomaly does not influence roll and pitch estimation accuracy. The flexibility is also desirable, because if the magnetic compass is not available, it is simply possible to switch off the second stage of the filter. In this work an ASIP was designed to process the filter algorithm and a proof of concept on FPGA was successfully realized. In the future the ASIP will be integrated within the logic of a new 6D sensor that could be optionally interfaced with an external magnetic compass.","endPage":"5","doi":"10.1109/SAS.2012.6166315","publicationTitle":"2012 IEEE Sensors Applications Symposium Proceedings","startPage":"1","displayPublicationTitle":"2012 IEEE Sensors Applications Symposium Proceedings","pdfPath":"/iel5/6162919/6166268/06166315.pdf","rightsLink":"http://s100.copyright.com/AppDispatchServlet?publisherName=ieee&publication=proceedings&title=A+double+stage+Kalman+filter+for+sensor+fusion+and+orientation+tracking+in+9D+IMU&isbn=978-1-4577-1724-6&publicationDate=Feb.+2012&author=Simone+Sabatelli&ContentID=10.1109/SAS.2012.6166315&orderBeanReset=true&startPage=1&endPage=5&proceedingName=2012+IEEE+Sensors+Applications+Symposium+Proceedings","isJournal":false,"isConference":true,"isBook":false,"dateOfInsertion":"09 March 2012","isGetArticle":false,"isGetAddressInfoCaptured":false,"isMarketingOptIn":false,"xploreDocumentType":"Conference Publication","applyOUPFilter":false,"isOUP":false,"isDynamicHtml":true,"isFreeDocument":false,"isSAE":false,"isNow":false,"isCustomDenial":false,"isPromo":false,"chronOrPublicationDate":"7-9 Feb. 2012","htmlAbstractLink":"/document/6166315/","isNotDynamicOrStatic":false,"isStandard":false,"publicationDate":"Feb. 2012","conferenceDate":"7-9 Feb. 2012","publisher":"IEEE","isProduct":false,"isEphemera":false,"isOpenAccess":false,"isEarlyAccess":false,"isChapter":false,"isStaticHtml":true,"isMorganClaypool":false,"htmlLink":"/document/6166315/","accessionNumber":"12578698","persistentLink":"https://ieeexplore.ieee.org/servlet/opac?punumber=6162919","isSMPTE":false,"isACM":false,"startPage":"1","openAccessFlag":"F","ephemeraFlag":"false","title":"A double stage Kalman filter for sensor fusion and orientation tracking in 9D IMU","confLoc":"Brescia, Italy","accessionNumber":"12578698","html_flag":"true","ml_html_flag":"true","sourcePdf":"1569524729.pdf","content_type":"Conferences","mlTime":"PT0.037758S","chronDate":"7-9 Feb. 2012","xplore-pub-id":"6162919","pdfPath":"/iel5/6162919/6166268/06166315.pdf","isNumber":"6166268","rightsLinkFlag":"1","dateOfInsertion":"09 March 2012","contentType":"conferences","publicationDate":"Feb. 2012","publicationNumber":"6162919","citationCount":"16","xplore-issue":"6166268","articleId":"6166315","publicationTitle":"2012 IEEE Sensors Applications Symposium Proceedings","sections":{"abstract":"true","authors":"true","figures":"true","multimedia":"false","references":"true","citedby":"true","keywords":"true","definitions":"false","algorithm":"false","supplements":"false","footnotes":"false","disclaimer":"false","metrics":"true"},"onlineDate":"","conferenceDate":"7-9 Feb. 2012","publisher":"IEEE","publicationYear":"2012","subType":"IEEE Conference","_value":"IEEE","lastupdate":"2019-06-17","mediaPath":"/mediastore_new/IEEE/content/media/6162919/6166268/6166315","endPage":"5","displayPublicationTitle":"2012 IEEE Sensors Applications Symposium Proceedings","doi":"10.1109/SAS.2012.6166315"};


	global.document.userLoggedIn=true;







</script>






















<div ng-app="xpl.document" class="ng-scope">
	
	
		<div class="Search ng-isolate-scope" ng-class="{'Search-with-count': showCount}" show-count="false">
	<!-- TODO Start: Integrate latest count -->
	<!-- ngIf: showCount -->
	<!-- TODO End: Integrate latest count -->
	
	<div class="Search-main-container">
		<select class="Search-control stats-search-type-dropdown ng-pristine ng-untouched ng-valid ng-not-empty" ng-options="s.name for s in search" ng-change="onToggle(activeSearchType)" ng-model="activeSearchType" aria-label="content type dropdown" aria-invalid="false"><option label="All" value="object:4" selected="selected">All</option><option label="Books" value="object:5">Books</option><option label="Conferences" value="object:6">Conferences</option><option label="Courses" value="object:7">Courses</option><option label="Journals &amp; Magazines" value="object:8">Journals &amp; Magazines</option><option label="Standards" value="object:9">Standards</option><option label="Authors" value="object:10">Authors</option><option label="Citations" value="object:11">Citations</option></select>
		<form class="js-inputs Search-inputs ng-pristine ng-valid" autocomplete="off">
			<div class="Notification Notification--float hide" style="opacity: 0; display: none;">
				<div class="Notification-header"></div>
				<div class="Notification-text"></div>
			</div>
			<div class="Search-group-input-wrapper">
				<div class="Search-group-container">
					<fieldset class="Search-group stats-search-basic" ng-show="search.basic.isActive" aria-hidden="false">
						<div class="Search-input-container Search-fullwidth-input">
							<div class="u-relative stats-basic-input Typeahead ng-isolate-scope ng-empty ng-valid" placeholder="Enter keywords or phrases (Note: Searches metadata only by default. A search for 'smart grid' = 'smart AND grid')" ul-class="Search-basic-typeahead ui-autocomplete ui-front ui-menu ui-widget ui-widget-content" ng-model="search.basic.input.query" on-return="onTypeaheadReturn($event)" service-method="getSuggestions()" min-chars="3" aria-invalid="false">
	<input class="Typeahead-input ng-pristine ng-untouched ng-valid ng-empty" type="text" ng-model="ngModel" ng-keydown="onKeyDown($event)" ng-keyup="onKeyUp($event)" ng-blur="onBlur($event)" ng-focus="onFocus($event)" placeholder="Enter keywords or phrases (Note: Searches metadata only by default. A search for 'smart grid' = 'smart AND grid')" aria-invalid="false">
	<ul class="Typeahead-menu Search-basic-typeahead ui-autocomplete ui-front ui-menu ui-widget ui-widget-content ng-hide" ng-hide="!items || !items.length || items.length &lt; 1 || hideDiv" aria-hidden="true">
		<!-- ngRepeat: item in items track by $index -->
	</ul>
</div></div>
					</fieldset>
					<!-- NOTE: <fieldset> elements render whitespace characters as textnodes with widths and structuring the div's like so helps get rid of spacing issues -->
					<fieldset class="Search-group stats-search-author ng-hide" ng-show="search.author.isActive" aria-hidden="true">
						<input type="hidden" name="matchBoolean" value="true" autocomplete="off">
						<div class="Search-input-container Search-halfwidth-input">
							<label for="fname" class="overlabel">First Name / Given Name</label>
							<input class="stats-fname-input ng-pristine ng-untouched ng-valid ng-empty" id="fname" ng-model="search.author.input.searchWithin.firstName" type="text" placeholder="First Name / Given Name" aria-invalid="false">
						</div><div class="Search-input-container Search-halfwidth-input">
							<label for="lname" class="overlabel">Family Name / Last Name / Surname</label>
							<input class="stats-lname-input ng-pristine ng-untouched ng-valid ng-empty" id="lname" ng-model="search.author.input.searchWithin.lastName" type="text" placeholder="Family Name / Last Name / Surname" aria-invalid="false">
						</div>
					</fieldset>
					<fieldset class="Search-group stats-search-books ng-hide" ng-show="search.books.isActive" aria-hidden="true">
						<div class="Search-input-container Search-fullwidth-input">
							<label for="bk_query" class="overlabel">Enter keyword or title</label>
							<input class="stats-books-query-input ng-pristine ng-untouched ng-valid ng-empty" id="bk_query" ng-model="search.books.input.query" type="text" placeholder="Enter keyword or title" aria-invalid="false">
						</div>
					</fieldset>
					<fieldset class="Search-group stats-search-conferences ng-hide" ng-show="search.conferences.isActive" aria-hidden="true">
						<div class="Search-input-container Search-fullwidth-input">
							<label for="conf_title" class="overlabel">Enter keyword or title</label>
							<input class="stats-conf-title-input ng-pristine ng-untouched ng-valid ng-empty" id="conf_title" ng-model="search.conferences.input.query" type="text" placeholder="Enter keyword or title" aria-invalid="false">
						</div>
					</fieldset>
					<fieldset class="Search-group stats-search-courses ng-hide" ng-show="search.courses.isActive" aria-hidden="true">
						<div class="Search-input-container Search-fullwidth-input">
							<label for="crs_query" class="overlabel">Enter keyword or title</label>
							<input class="stats-courses-query-input ng-pristine ng-untouched ng-valid ng-empty" id="crs_query" ng-model="search.courses.input.query" type="text" placeholder="Enter keyword or title" aria-invalid="false">
						</div>
					</fieldset>
					<fieldset class="Search-group stats-search-periodicals ng-hide" ng-show="search.periodicals.isActive" aria-hidden="true">
						<div class="Search-input-container Search-fullwidth-input">
							<label for="per_title" class="overlabel">Enter keyword or title</label>
							<input class="stats-jm-query-input ng-pristine ng-untouched ng-valid ng-empty" id="per_title" ng-model="search.periodicals.input.query" type="text" placeholder="Enter keyword or title" aria-invalid="false">
						</div>
					</fieldset>
					<fieldset class="Search-group stats-search-standards ng-hide" ng-show="search.standards.isActive" aria-hidden="true">
						<div class="Search-input-container Search-fullwidth-input">
							<label for="std_query" class="overlabel">Enter keyword or title</label>
							<input class="stats-standards-query-input ng-pristine ng-untouched ng-valid ng-empty" id="std_query" ng-model="search.standards.input.query" type="text" placeholder="Enter keyword or title" aria-invalid="false">
						</div>
					</fieldset>
					<fieldset class="Search-group stats-search-pubs ng-hide" ng-show="search.publication.isActive" aria-hidden="true">
						<div class="Search-input-container Search-pubtitle-input">
							<label for="pqs_title" class="overlabel">Publication Title</label>
							<input class="stats-citations-query-input ng-pristine ng-untouched ng-valid ng-empty" id="pqs_title" ng-model="search.publication.input.searchWithin.title" type="text" placeholder="Publication Title" aria-invalid="false">
						</div><div class="Search-input-container Search-pubvol-input">
							<label for="pqs_volume" class="overlabel">Volume</label>
							<input class="stats-citations-vol-input ng-pristine ng-untouched ng-valid ng-empty" id="pqs_volume" ng-model="search.publication.input.searchWithin.volume" type="text" placeholder="Volume" aria-invalid="false">
						</div><div class="Search-input-container Search-pubissue-input">
							<label for="pqs_issue" class="overlabel">Issue</label>
							<input class="stats-citations-issue-input ng-pristine ng-untouched ng-valid ng-empty" id=" pqs_issue" ng-model="search.publication.input.searchWithin.issue" type="text" placeholder="Issue" aria-invalid="false">
						</div><div class="Search-input-container Search-pubpage-input">
							<label for="pqs_spage" class="overlabel">Start Page</label>
							<input class="stats-citations-page-input ng-pristine ng-untouched ng-valid ng-empty" id="pqs_spage" ng-model="search.publication.input.searchWithin.startPage" type="text" placeholder="Start Page" aria-invalid="false">
						</div>
					</fieldset>
				</div>
				<div class="Search-form-submit-container">
					<button class="js-search Search-submit Button btn-search stats-search-submit" type="submit" aria-label="Search">
						<i class="fa fa-search Search-submit-icon"></i>
					</button>
				</div>
			</div>
		</form>
	</div>

	<div class="Search-misc-container">
		<div class="Search-within-publication-container">
			<!-- ngIf: $ctrl.withinPublication.isActive -->
		</div>

		<div class="Search-options-container">
			<div class="Search-option stats-search-menu">
				<a class="Search-option-title" href="https://ieeexplore.ieee.org/search/advsearch.jsp" target="_self" id="advancedSearch">Advanced Search</a>
			</div>
			<div class="Search-option Search-menu stats-search-menu" ng-class="{ 'active': showMenu} " ng-mouseleave="showMenu = false">
				<a href="#" class="Search-option-title" id="otherSearchOptions" ng-click="showMenu = !showMenu">Other Search Options<i class="icon icon--flip icon-more-options-caret"></i></a>
				<ul class="Menu Menu--overlay">
					<li><a href="https://ieeexplore.ieee.org/search/advsearch.jsp?expression-builder" target="_self" class="CommandSearch" id="commandSearch">Command Search</a></li>
					<li><a href="https://ieeexplore.ieee.org/search/advsearch.jsp?quick-search" target="_self" class="CitationSearch" id="citationSearch">Citation Search</a></li>
					<li><a href="https://ieeexplore.ieee.org/search/savedsearches" target="_self" class="SAVEDSEARCHES" id="savedSearches">Search Alerts</a></li>
					<li><a href="https://ieeexplore.ieee.org/search/searchHistoryMore.jsp" target="_self" class="searchhistory" id="searchHistory">Search History</a></li>
				</ul>
			</div>
		</div>
	</div>

</div>
	
	<div class="global-content-wrapper">
		<xpl-root _nghost-c0="" ng-version="5.1.2"><xpl-global-notification _ngcontent-c0="" _nghost-c1=""><!----></xpl-global-notification>
<router-outlet _ngcontent-c0=""></router-outlet><xpl-document-details _nghost-c4=""><div _ngcontent-c4="" class="row document ng-document stats-document">
	<div _ngcontent-c4="" class="document-main col-9">
		<!----><section _ngcontent-c4="" class="document-main-leaderboard-ad col-12">
			<!----><xpl-leaderboard-ad _ngcontent-c4="" class="hide-desktop" _nghost-c5=""><!----><div _ngcontent-c5="" class="Ads-leaderboard">
	<div _ngcontent-c5="" class="row u-flex-wrap-nowrap">
		<div _ngcontent-c5="" class="ad-leaderboard-title">Advertisement</div>
		<!----><div _ngcontent-c5="" class="ads-close-container">
			<i _ngcontent-c5="" aria-hidden="true" class="ads-close-button"></i>
		</div>
	</div>
	
	<div _ngcontent-c5="" class="ad-leaderboard-ad-container">
		<!---->
		<!----><div _ngcontent-c5="" class="Ads-leaderBoardTablet" xplgoogleadmigr=""><div id="div-gpt-ad-1527779562942-0" style="width: 576px; height: 71px; display: none; margin: 0px auto; padding-bottom: 0.5em;"></div><script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1527779562942-0"); });</script></div>
		<!----><div _ngcontent-c5="" class="Ads-leaderBoardMobile" xplgoogleadmigr=""><div id="div-gpt-ad-1527779762448-0" style="width: 320px; height: 40px; display: none; margin: 0px auto; padding-bottom: 0.5em;"></div><script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1527779762448-0"); });</script></div>
	</div>
</div>
</xpl-leaderboard-ad>
		</section>
		
		<section _ngcontent-c4="" class="document-main-header row">
			<!----><div _ngcontent-c4="" class="col-12">
				<xpl-document-header _ngcontent-c4="" _nghost-c6=""><!----><section _ngcontent-c6="" class="document-header row">
	<!----><div _ngcontent-c6="" class="document-header-breadcrumbs-container col-12">
		<div _ngcontent-c6="" class="breadcrumbs col">
			<!----><span _ngcontent-c6="">
				<!----><a _ngcontent-c6="" href="https://ieeexplore.ieee.org/browse/conferences/title/">Conferences</a>
				<!---->
				<span _ngcontent-c6="" class="breadcrumbs-separator"> &gt;</span>
			</span><span _ngcontent-c6="">
				<!----><a _ngcontent-c6="" href="https://ieeexplore.ieee.org/xpl/conhome/6162919/proceeding">2012 IEEE Sensors Application...</a>
				<!---->
				<span _ngcontent-c6="" class="breadcrumbs-separator"></span>
			</span>
			<a _ngcontent-c6="" class="icon-help-blue hide-mobile" href="https://ieeexplore.ieee.org/Xplorehelp/#/ieee-xplore-training/working-with-documents#interactive-html" id="help" target="blank" text="Help" title="Get help using Conference documents"></a>
		</div>
	</div>

	<div _ngcontent-c6="" class="document-header-inner-container row">
		<!---->
		<div _ngcontent-c6="" class="col-12">
			
			<!----><div _ngcontent-c6="" class="row stats-document-header">
				<div _ngcontent-c6="" class="row document-title-fix">
					<!---->
					
					<div _ngcontent-c6="" class="document-header-title-container col">
						<div _ngcontent-c6="" class="left-container">
							<h1 _ngcontent-c6="" class="document-title">
								<span _ngcontent-c6="">A double stage Kalman filter for sensor fusion and orientation tracking in 9D IMU</span>
								<!---->
								<!---->
							</h1>

							<div _ngcontent-c6="" class="u-mb-1">
								<div _ngcontent-c6="" class="publisher-info-container black-tooltip">
									<span _ngcontent-c6="" class="publisher-info-label" placement="bottom">
										Publisher: IEEE</span>
									<!---->
								</div>
							</div>

							<!---->

							<!---->

							<!---->

							<!---->

							<!---->
						</div>

						<!---->
					</div>
					
				</div>
				
				<!----><div _ngcontent-c6="" class="hide-desktop">
					<!---->
				</div>
				<!---->
				<div _ngcontent-c6="" class="document-main-subheader">
					<div _ngcontent-c6="" class="document-main-author-banner">
						<!----><div _ngcontent-c6="" class="document-authors-banner stats-document-authors-banner">
							<div _ngcontent-c6="" class="row authors-banner-row u-flex-align-items-center u-flex-wrap-nowrap">
								<div _ngcontent-c6="" class="authors-banner-row-top">
									<div _ngcontent-c6="" class="authors-count-container">
										<div _ngcontent-c6="" class="authors-count u-mr-02">
											4
										</div>
										<div _ngcontent-c6="" class="authors-count-text">Author(s)</div>
									</div>
								</div>
								<div _ngcontent-c6="" class="authors-banner-row-middle">
									<div _ngcontent-c6="" class="authors-container stats-document-authors-banner-authorsContainer">
										<div _ngcontent-c6="" class="authors-info-container overflow-ellipsis">
											<!----><span _ngcontent-c6="" class="authors-info">
												<!----><span _ngcontent-c6="" class="blue-tooltip">
													<!----><a _ngcontent-c6="" placement="bottom" triggers="hover" href="https://ieeexplore.ieee.org/author/38072181800">
														<span _ngcontent-c6="">Simone Sabatelli</span>
														<!---->
													</a><!---->
													<!---->
													<!---->
												</span>
												<!---->
												<!---->
												<span _ngcontent-c6="">; </span>
												<!---->
											</span><span _ngcontent-c6="" class="authors-info">
												<!----><span _ngcontent-c6="" class="blue-tooltip">
													<!----><a _ngcontent-c6="" placement="bottom" triggers="hover" href="https://ieeexplore.ieee.org/author/38233581400">
														<span _ngcontent-c6="">Marco Galgani</span>
														<!---->
													</a><!---->
													<!---->
													<!---->
												</span>
												<!---->
												<!---->
												<span _ngcontent-c6="">; </span>
												<!---->
											</span><span _ngcontent-c6="" class="authors-info">
												<!----><span _ngcontent-c6="" class="blue-tooltip">
													<!----><a _ngcontent-c6="" placement="bottom" triggers="hover" href="https://ieeexplore.ieee.org/author/37265849900">
														<span _ngcontent-c6="">Luca Fanucci</span>
														<!---->
													</a><!---->
													<!---->
													<!---->
												</span>
												<!---->
												<!---->
												<span _ngcontent-c6="">; </span>
												<!---->
											</span><span _ngcontent-c6="" class="authors-info">
												<!----><span _ngcontent-c6="" class="blue-tooltip">
													<!----><a _ngcontent-c6="" placement="bottom" triggers="hover" href="https://ieeexplore.ieee.org/author/37352270100">
														<span _ngcontent-c6="">Alessandro Rocchi</span>
														<!---->
													</a><!---->
													<!---->
													<!---->
												</span>
												<!---->
												<!---->
												<span _ngcontent-c6=""></span>
												<!---->
											</span>
										</div>
									</div>
								</div>
								<div _ngcontent-c6="" class="u-flex-display-flex u-flex-align-items-center nowrap">
									<div _ngcontent-c6="" class="authors-view-all-link-container hide-mobile">
										<a _ngcontent-c6="">View All Authors</a>
									</div>
					
									<div _ngcontent-c6="" class="authors-mobile-view-all-container blue-tooltip hide-desktop">
										<a _ngcontent-c6="" class="authors-viewall-link" placement="bottom-right" triggers="click:click" xplpopoverclosehandler="">
											<i _ngcontent-c6="" class="authors-viewall-icon"></i>
										</a>
									</div>
									<!---->
								</div>
							</div>
						</div>
					</div>
		
					<div _ngcontent-c6="" class="document-header-metrics-banner row">
						
						<div _ngcontent-c6="" class="document-banner col stats-document-banner">
							
							<xpl-login-modal-trigger _ngcontent-c6="" _nghost-c17=""><!---->

								<!---->
							</xpl-login-modal-trigger>
							
							<!---->
							<!---->
							
							<!----><button _ngcontent-c6="" class="sip-modal-button stats-document-banner-viewDocument">
								<div _ngcontent-c6="" class="main-txt">
									View Document
								</div>
							</button>
							
							<!----><div _ngcontent-c6="" class="document-banner-metric-container row">
								<!----><button _ngcontent-c6="" class="document-banner-metric col">
									<div _ngcontent-c6="" class="document-banner-metric-count">16</div>
									<div _ngcontent-c6="">Paper</div>
									<div _ngcontent-c6="">Citations</div>
								</button>
				
								<!---->
				
								<!----><button _ngcontent-c6="" class="document-banner-metric col">
									<div _ngcontent-c6="" class="document-banner-metric-count">1687</div>
									<!---->
									<!----><div _ngcontent-c6="">
										<div _ngcontent-c6="">Full</div>
										<div _ngcontent-c6="">Text Views</div>	
									</div>
								</button>
							</div>

							<div _ngcontent-c6="" class="document-banner-access">
								<!---->
										
								<!----> 
							</div>
						</div> 
						
						
						<!----> 
						
		
						<!----> 
		
						<div _ngcontent-c6="" class="col-9-24 hide-mobile">
							<!---->
							<!----><xpl-document-toolbar _ngcontent-c6="" _nghost-c18=""><div _ngcontent-c18="" class="col-actions stats-document-container-lh u-printing-invisible-ie u-printing-invisible-ff">
	<div _ngcontent-c18="" class="action-item-container">
		<ul _ngcontent-c18="" class="doc-actions doc-toolbar stats-document-lh-actions black-tooltip">
			<li _ngcontent-c18="" class="doc-actions-item" placement="bottom">
				
				<!---->
				
				<!----><a _ngcontent-c18="" class="doc-actions-link stats-document-lh-action-downloadPdf_2 pdf" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=6166315">
					<i _ngcontent-c18="" class="icon doc-act-icon-pdf"></i>
				</a>
				
				<xpl-login-modal-trigger _ngcontent-c18="" _nghost-c17=""><!---->

					<!---->
				</xpl-login-modal-trigger>
				
				<!---->
			</li>
			<li _ngcontent-c18="" class="doc-actions-item" placement="bottom">
				<xpl-popover-download-citation _ngcontent-c18="" class="white-blue-border-tooltip citation-popover" _nghost-c19=""><!---->

<a _ngcontent-c19="" class="doc-actions-link stats-document-lh-action-downloadCitations hide-mobile" triggers="click:click" xplpopoverclosehandler="">
	<i _ngcontent-c19="" class="icon doc-act-icon-citations"></i> <span _ngcontent-c19="" class="doc-actions-text"> Download Citation </span>	 
</a></xpl-popover-download-citation>
			</li>
			<li _ngcontent-c18="" class="doc-actions-item" placement="bottom">
				<a _ngcontent-c18="" class="doc-actions-link stats-document-lh-action-viewReferences" target="blank" href="https://ieeexplore.ieee.org/xpl/dwnldReferences?arnumber=6166315">
					<i _ngcontent-c18="" class="icon doc-act-icon-references"></i>
				</a>
			</li>
			<li _ngcontent-c18="" class="doc-actions-item" placement="bottom">
				<xpl-email-article _ngcontent-c18="" class="white-blue-border-tooltip email-popover" label="Email" placement="bottom-right" _nghost-c20=""><!---->
<a _ngcontent-c20="" class="doc-actions-link stats-document-lh-action-email" triggers="click:click" xplpopoverclosehandler="">
	<!----><span _ngcontent-c20="">
		<!----><span _ngcontent-c20="" class="hide-mobile">
			<i _ngcontent-c20="" class="icon doc-act-icon-email"></i>
			<span _ngcontent-c20="" class="doc-actions-text">Email</span>
		</span>
		<!---->
	</span>
	<!---->
</a>
</xpl-email-article>
			</li>
			
			<li _ngcontent-c18="" class="stats-permission doc-actions-item" placement="bottom">
				<!----><a _ngcontent-c18="" class="doc-actions-link stats-document-lh-action-requestPermissions_1">
					<i _ngcontent-c18="" class="icon doc-act-icon-copyright"></i>
				</a>
				<!---->
			</li>
			<li _ngcontent-c18="" class="doc-actions-item disabled-look enable-hover" placement="bottom">
				<xpl-popover-download-collabratec _ngcontent-c18="" class="white-blue-border-tooltip download-collabratec" _nghost-c21=""><!---->
<a _ngcontent-c21="" class="doc-actions-link stats-document-lh-action-export_1" href="#" triggers="click:click" xplpopoverclosehandler="">
	<i _ngcontent-c21="" class="icon doc-act-icon-export"></i> <span _ngcontent-c21="" class="hide-desktop">Export to Collabratec</span>
</a>
</xpl-popover-download-collabratec>
			</li>
			<li _ngcontent-c18="" class="doc-actions-item" placement="bottom">
				<xpl-manage-alerts _ngcontent-c18="" class="white-blue-border-tooltip alerts-popover" _nghost-c22=""><!---->
<a _ngcontent-c22="" class="doc-actions-link stats-document-lh-action-alerts hide-mobile" triggers="click:click" xplpopoverclosehandler="">
	<i _ngcontent-c22="" class="icon doc-act-icon-alert"></i> <span _ngcontent-c22="" class="doc-actions-text">Alerts</span>
</a>

<div _ngcontent-c22="" class="manage-alerts-popover-content hide-desktop">
	<h1 _ngcontent-c22="" class="header">Alerts</h1>
	<div _ngcontent-c22="" class="manage-alerts-link">
		<a _ngcontent-c22="" href="https://ieeexplore.ieee.org/xpl/citation_alerts.jsp">
			Manage Content Alerts
			<i _ngcontent-c22="" class="icon icon-courses-chevron-blue"></i>
			
		</a>
	</div>
	<div _ngcontent-c22="" class="manage-alerts-link">
		<a _ngcontent-c22="">
			Add to Citation Alerts
			<i _ngcontent-c22="" class="icon icon-courses-chevron-blue"></i>
		</a>
	</div>
</div></xpl-manage-alerts>
			</li>
			<!---->
		</ul>
	</div>
</div></xpl-document-toolbar>
						</div>
						<!---->
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<hr _ngcontent-c6="">
</section>

<!----></xpl-document-header>
			</div>
		</section>

		<div _ngcontent-c4="" class="row document-main-body">
			<div _ngcontent-c4="" class="document-main-left-trail col-5-24 ">
				<!----><div _ngcontent-c4="" class="col-24-24">
					<div _ngcontent-c4="" class="row">
						
						<nav _ngcontent-c4="" class="col-24-24 bg-ltgry tab-nav">
							<div _ngcontent-c4="" class="doc-tabs-list stats-document-tabs" id="document-tabs">
								<!----><div _ngcontent-c4="" class="browse-pub-tab active" routerlinkactive="active">
									<a _ngcontent-c4="" class="document-tab-link" href="https://ieeexplore.ieee.org/document/6166315">Abstract</a>
								</div>

								<!----><xpl-full-text-toc _ngcontent-c4="" class="hide-mobile" _nghost-c7=""><!----><div _ngcontent-c7="" class="toc-container">
	<div _ngcontent-c7="" class="toc-heading">Document Sections</div>
	<ul _ngcontent-c7="" class="toc-list">
		<!----><li _ngcontent-c7="" class="toc-list-item">
			<!----><a _ngcontent-c7="" class="toc-list-link">
				<!----><div _ngcontent-c7="" class="toc-list-icon">I.</div>
				<div _ngcontent-c7="" class="toc-list-icon"><!----></div>
				<div _ngcontent-c7="">Introduction</div>
			</a>

			<!---->
		</li><li _ngcontent-c7="" class="toc-list-item">
			<!----><a _ngcontent-c7="" class="toc-list-link">
				<!----><div _ngcontent-c7="" class="toc-list-icon">II.</div>
				<div _ngcontent-c7="" class="toc-list-icon"><!----></div>
				<div _ngcontent-c7="">System modelling</div>
			</a>

			<!---->
		</li><li _ngcontent-c7="" class="toc-list-item">
			<!----><a _ngcontent-c7="" class="toc-list-link">
				<!----><div _ngcontent-c7="" class="toc-list-icon">III.</div>
				<div _ngcontent-c7="" class="toc-list-icon"><!----></div>
				<div _ngcontent-c7="">Algorithm simplifications</div>
			</a>

			<!---->
		</li><li _ngcontent-c7="" class="toc-list-item">
			<!----><a _ngcontent-c7="" class="toc-list-link">
				<!----><div _ngcontent-c7="" class="toc-list-icon">IV.</div>
				<div _ngcontent-c7="" class="toc-list-icon"><!----></div>
				<div _ngcontent-c7="">ASIP design</div>
			</a>

			<!---->
		</li><li _ngcontent-c7="" class="toc-list-item">
			<!----><a _ngcontent-c7="" class="toc-list-link">
				<!----><div _ngcontent-c7="" class="toc-list-icon">V.</div>
				<div _ngcontent-c7="" class="toc-list-icon"><!----></div>
				<div _ngcontent-c7="">Simulations</div>
			</a>

			<!---->
		</li>
	</ul>
	<!---->
</div>
</xpl-full-text-toc>

								<!----><div _ngcontent-c4="" class="browse-pub-tab" routerlinkactive="active">
									<a _ngcontent-c4="" class="document-tab-link" href="https://ieeexplore.ieee.org/document/6166315/authors">Authors</a>
								</div><div _ngcontent-c4="" class="browse-pub-tab" routerlinkactive="active">
									<a _ngcontent-c4="" class="document-tab-link" href="https://ieeexplore.ieee.org/document/6166315/figures">Figures</a>
								</div><div _ngcontent-c4="" class="browse-pub-tab" routerlinkactive="active">
									<a _ngcontent-c4="" class="document-tab-link" href="https://ieeexplore.ieee.org/document/6166315/references">References</a>
								</div><div _ngcontent-c4="" class="browse-pub-tab" routerlinkactive="active">
									<a _ngcontent-c4="" class="document-tab-link" href="https://ieeexplore.ieee.org/document/6166315/citations">Citations</a>
								</div><div _ngcontent-c4="" class="browse-pub-tab" routerlinkactive="active">
									<a _ngcontent-c4="" class="document-tab-link" href="https://ieeexplore.ieee.org/document/6166315/keywords">Keywords</a>
								</div><div _ngcontent-c4="" class="browse-pub-tab" routerlinkactive="active">
									<a _ngcontent-c4="" class="document-tab-link" href="https://ieeexplore.ieee.org/document/6166315/metrics">Metrics</a>
								</div><div _ngcontent-c4="" class="browse-pub-tab similar" routerlinkactive="active">
									<a _ngcontent-c4="" class="document-tab-link" href="https://ieeexplore.ieee.org/document/6166315/similar">More Like This</a>
								</div>
							</div>
						</nav>
					</div>
				</div>
			</div>

			<div _ngcontent-c4="" class="document-main-content-container">
				<!----><xpl-left-side-bar _ngcontent-c4="" _nghost-c8=""><div _ngcontent-c8="" class="col-2 col-actions ng-col-actions hide-desktop stats-document-container-lh u-printing-invisible-ie u-printing-invisible-ff col-actions-mobile-closed ng-col-actions-mobile-closed document-mobile-leftrail-stick" cssclasstostick="document-mobile-leftrail-stick" fromelementid="mobile-tab-pane" offsetfrom="100" offsetto="-800" scrollreset="true" tillelementid="full-text-footer" xplscrollsnapmigr="">
	<div _ngcontent-c8="">
		<!----><div _ngcontent-c8="" class="doc-actions-mobile-expand-button"></div>
		<ul _ngcontent-c8="" class="doc-actions stats-document-lh-actions">
			<li _ngcontent-c8="" class="doc-actions-item">
				<!---->
				<!----><a _ngcontent-c8="" class="doc-actions-link stats-document-lh-action-downloadPdf_2" target="_blank" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=6166315">
					<i _ngcontent-c8="" class="icon doc-act-icon-pdf"></i> Download PDF
				</a>
				<xpl-login-modal-trigger _ngcontent-c8="" _nghost-c17=""><!---->

					<!---->
				</xpl-login-modal-trigger>
			</li>
			<li _ngcontent-c8="" class="doc-actions-item black-tooltip">
				<!----><a _ngcontent-c8="" class="doc-actions-link stats-document-lh-action-downloadPdf_3">
					<i _ngcontent-c8="" class="icon doc-act-icon-citations"></i> Download Citation
				</a>
				<!---->
				<!---->
			</li>
			<li _ngcontent-c8="" class="doc-actions-item">
				<!----><a _ngcontent-c8="" class="doc-actions-link stats-document-lh-action-viewReferences" target="blank" href="https://ieeexplore.ieee.org/xpl/dwnldReferences?arnumber=6166315">
					<i _ngcontent-c8="" class="icon doc-act-icon-references"></i> View References
				</a>
				<!---->
			</li>
			<li _ngcontent-c8="" class="doc-actions-item">
				<a _ngcontent-c8="" class="doc-actions-link stats-document-lh-action-email">
					<span _ngcontent-c8="">
						<i _ngcontent-c8="" class="icon doc-act-icon-email"></i>
						Email
					</span>
				</a>					
				<!---->
			</li>
			<li _ngcontent-c8="" class="stats-permission doc-actions-item">
				<!----><a _ngcontent-c8="" class="doc-actions-link stats-document-lh-action-requestPermissions_1" title="Request permission for reuse.">
					<i _ngcontent-c8="" class="icon doc-act-icon-copyright"></i> Request Permissions
				</a>
				<!---->
			</li>
			<li _ngcontent-c8="" class="doc-actions-item disabled-look black-tooltip">
				<!---->
				
				<!----><a _ngcontent-c8="" class="doc-actions-link stats-document-lh-action-downloadPdf_3" placement="right" triggers="click" xplpopoverclosehandler="">
					<i _ngcontent-c8="" class="icon doc-act-icon-export"></i> Export to Collabratec
				</a><!---->
			</li>
			<li _ngcontent-c8="" class="doc-actions-item">
				<!----><a _ngcontent-c8="" class="doc-actions-link stats-document-lh-action-alerts">
					<i _ngcontent-c8="" class="icon doc-act-icon-alert"></i> Alerts
				</a>						
				<!---->
				<!---->
			</li>

			<!---->
		</ul>
	</div>
</div>

<!---->
</xpl-left-side-bar>
				<section _ngcontent-c4="" class="tab-pane col-24-24 u-printing-display-inline-ie u-printing-display-inline-ff">
					<div _ngcontent-c4="" id="mobile-tab-pane"></div>
					<!---->
					<!----><div _ngcontent-c4="" class="document-main-left-trail-content">
						<!---->
						<div _ngcontent-c4="" id=""><router-outlet _ngcontent-c4=""></router-outlet><xpl-document-abstract _nghost-c9=""><section _ngcontent-c9="" class="document-abstract document-tab">
	<!---->
		
	
	<div _ngcontent-c9="" class="abstract-mobile-div hide-desktop">
		<div _ngcontent-c9="" class="row">
			<!----><div _ngcontent-c9="" class="mobile-col-12">
				<!---->
				
				<!----><div _ngcontent-c9="" class="u-pb-1">
					<strong _ngcontent-c9=""> Abstract:</strong>
					<span _ngcontent-c9="" xplmathjax="">This work presents an 
orientation tracking system based on a double stage Kalman filter for 
sensor fusion in 9D IMU. The IMU is composed by a 3D gyro, a 3D 
accelerometer ...</span>
					<!----><span _ngcontent-c9="">
						<a _ngcontent-c9="" class="mobile-toggle-btn">View more</a>
					</span>
				</div>
				
				<!---->
				<!---->
			</div>
		</div>

		<!---->

		<!---->

		<div _ngcontent-c9="" class="metadata-toggle-btn mobile-content">
			<strong _ngcontent-c9="">
				<i _ngcontent-c9="" class="icon-caret-abstract"></i>
				<span _ngcontent-c9="">Metadata</span>
			</strong>
		</div>

		<!---->
		<!---->
	</div>

	
	<div _ngcontent-c9="" class="abstract-desktop-div hide-mobile">
		<div _ngcontent-c9="" class="abstract-text row">
			<!---->

			<!----><div _ngcontent-c9="" class="col-12">
				<!---->
				<!----><div _ngcontent-c9="" class="u-mb-1">
					<strong _ngcontent-c9=""> Abstract:</strong>
					<div _ngcontent-c9="">This work presents an orientation tracking 
system based on a double stage Kalman filter for sensor fusion in 9D 
IMU. The IMU is composed by a 3D gyro, a 3D accelerometer and a magnetic
 compass. The filter was divided into two stages to reduce algorithm 
complexity. Gyro data are used to first estimate the angular position, 
then the first stage corrects roll and pitch angles using accelerometer 
data. The second stage processes magnetic compass data to correct the 
yaw angle. One of the advantages of this kind of filter is that a 
magnetic anomaly does not influence roll and pitch estimation accuracy. 
The flexibility is also desirable, because if the magnetic compass is 
not available, it is simply possible to switch off the second stage of 
the filter. In this work an ASIP was designed to process the filter 
algorithm and a proof of concept on FPGA was successfully realized. In 
the future the ASIP will be integrated within the logic of a new 6D 
sensor that could be optionally interfaced with an external magnetic 
compass.</div>
				</div>
				<!---->
				<!---->
			</div>
		</div>

		<!---->

		<!---->
	
		<!---->
		<!----><div _ngcontent-c9="" class="u-pb-1 stats-document-abstract-publishedIn" data-tealium_data="{&quot;docType&quot;: &quot;Conference&quot;}">
			<strong _ngcontent-c9="">Published in: </strong>
			<a _ngcontent-c9="" href="https://ieeexplore.ieee.org/xpl/conhome/6162919/proceeding">2012 IEEE Sensors Applications Symposium Proceedings</a>
		</div>
		<!---->
		<div _ngcontent-c9="" class="row u-pt-1">
			<div _ngcontent-c9="" class="col-6">
				<!---->
				<!---->
				<!---->
				<!---->
				<!---->
				<!----><div _ngcontent-c9="" class="u-pb-1 doc-abstract-confdate"> 
					<strong _ngcontent-c9="">Date of Conference: </strong>
					7-9 Feb. 2012
				</div>
				<!---->
				<!---->
				<!----><div _ngcontent-c9="" class="u-pb-1 doc-abstract-dateadded"> 
					<strong _ngcontent-c9="">Date Added to IEEE <i _ngcontent-c9="">Xplore</i>: </strong>
					09 March 2012
				</div>
		
				<!----><div _ngcontent-c9="" class="u-pb-1"> 
					
					<!----><div _ngcontent-c9="">
						<strong _ngcontent-c9="">
							<i _ngcontent-c9="" class="icon-caret-abstract"></i>
							<span _ngcontent-c9="">ISBN Information:</span>
						</strong>
					</div>
					
					<!---->
				</div>
				<!---->

				<!---->
			</div>
			<div _ngcontent-c9="" class="col-6">
				<!----><div _ngcontent-c9="" class="u-pb-1">
					<strong _ngcontent-c9="">INSPEC Accession Number: </strong>
					12578698
				</div>
				<!----><div _ngcontent-c9="" class="u-pb-1 stats-document-abstract-doi">
					<strong _ngcontent-c9="">DOI: </strong>
					<a _ngcontent-c9="" append-to-href="?src=document" target="_blank" href="https://doi.org/10.1109/SAS.2012.6166315">10.1109/SAS.2012.6166315</a>
				</div>
				<!---->
				<!---->
				<!---->			
				<!----><div _ngcontent-c9="" class="u-pb-1 doc-abstract-publisher publisher-info-container black-tooltip"> 
					<strong _ngcontent-c9="">Publisher:</strong>
					<span _ngcontent-c9="" class="publisher-info-label" placement="bottom">IEEE</span>
					<!---->
				</div>
				<!---->
				<!----><div _ngcontent-c9="" class="u-pb-1 doc-abstract-conferenceLoc">
					<strong _ngcontent-c9="">Conference Location: </strong>
					Brescia, Italy
				</div>
				<!---->
				<!---->
			</div>
		</div>

		<!---->

		<!---->
	</div>
</section></xpl-document-abstract></div>
						<!----><xpl-leaderboard-middle-ad _ngcontent-c4="" class=" hide-desktop" _nghost-c10=""><!----><div _ngcontent-c10="" class="Ads-leaderboard">
	<div _ngcontent-c10="" class="row u-flex-wrap-nowrap">
		<div _ngcontent-c10="" class="ad-leaderboard-title">Advertisement</div>
		<!----><div _ngcontent-c10="" class="ads-close-container">
			<i _ngcontent-c10="" aria-hidden="true" class="ads-close-button"></i>
		</div>
	</div>

	<div _ngcontent-c10="" class="ad-leaderboard-ad-container">
		<!---->
		<!----><div _ngcontent-c10="" class="Ads-leaderBoardMiddleTablet" xplgoogleadmigr=""><div id="div-gpt-ad-1527780343424-0" style="width: 576px; height: 71px; display: none; margin: 0px auto; padding-bottom: 0.5em;"></div><script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1527780343424-0"); });</script></div>
		<!----><div _ngcontent-c10="" class="Ads-leaderBoardMiddleMobile" xplgoogleadmigr=""><div id="div-gpt-ad-1527780523694-0" style="width: 320px; height: 40px; display: none; margin: 0px auto; padding-bottom: 0.5em;"></div><script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1527780523694-0"); });</script></div>
	</div>
</div></xpl-leaderboard-middle-ad>
						<xpl-document-full-text _ngcontent-c4="" _nghost-c11=""><section _ngcontent-c11="">
	<!---->
	<!----><div _ngcontent-c11="" class="row full-text-toc-wrapper" id="toc-wrapper">
		
		<div _ngcontent-c11="" class="col-12 u-align-center ft-toc previous-next-nav-ctrl hide-desktop document-toc-stick" cssclasstostick="document-toc-stick" fromelementid="toc-wrapper" offsetfrom="150" offsetto="-800" scrollreset="true" tillelementid="full-text-footer" xplscrollsnapmigr="">
			<div _ngcontent-c11="" class="toc-container hide-desktop">
				<!---->

				<a _ngcontent-c11="" class="toc-link {'disabled': !toc}" ngclass="{'disabled': !toc}">
					<img _ngcontent-c11="" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/toc-icon.png">
					Contents
				</a>
			</div>
			<!---->
		</div>
	</div>
	<hr _ngcontent-c11="">
	<div _ngcontent-c11="" class="row document-full-text-content">
		
		<!----><div _ngcontent-c11="" class="col col-text stats-document-container-fullTextSection u-printing-display-inline-ie u-printing-display-inline-ff" id="full-text-section" style="font-size: 15px;">
			<span _ngcontent-c11="" id="full-text-header">
				
			</span>

			<!---->

			<!----><div _ngcontent-c11="">
				<!---->

				
				<!---->
				

				
				<!---->

				
				<!---->

				
				<!----><div _ngcontent-c11="" class="document-text ng-non-bindable stats-document-dynamicFullTextOrSnippet-container" xplfulltextdomhandler="" xplmathjax=""><!--?xml version="1.0" encoding="UTF-8"?-->
<div id="BodyWrapper" class="ArticlePage" xmlns:ieee="http://www.ieeexplore.ieee.org"><div id="article">
<div class="section" id="sec1"><div class="header article-hdr"><div class="kicker">
		                        SECTION I.</div><h2>Introduction</h2></div><p>MEMS
 sensors are used in many consumer applications, like smartphones and 
tablets. Nowadays high-end smartphones have a lot of different sensors, 
such as gyro, accelerometer and magnetic compass. Now integrated 
sensors, like a gyro plus accelerometer 6D sensor, are available on the 
market, but all the sensor fusion algorithms necessary to obtain 
additional information, such as an estimated angular position, are 
executed via software by the smartphone processor.</p><p>There are a lot
 of works about sensor fusion algorithms, but in most of them a quite 
complex algorithm is developed that must be executed by a separate 
microcontroller or is executed offline on a pc. Generally the angular 
position is represented with a quaternion, because it is a compact and 
singularity free way to represent angular position and can be quickly 
reconverted in a rotational matrix form or in Euler angles. Kalman 
filters with different formulations are used as sensor fusion 
algorithms.</p><p>For example, in <a ref-type="bibr" anchor="ref1" id="context_ref_1_1">[1]</a>
 an Extended Kalman Filter (EKF) is used with a three rate gyro and 
three accelerometers. In the state equation the position quaternion and 
also the angular velocities and the gyro drift are included.</p><p>A complete set of sensors to form a 9D IMU is used for better angle estimation in <a ref-type="bibr" anchor="ref2" id="context_ref_2_1">[2]</a>:
 a complete EKF is developed with accelerometer and magnetic compass 
data in the correction equation. Also gyro bias is estimated. In <a ref-type="bibr" anchor="ref3" id="context_ref_3_1">[3]</a>,
 instead of using an EKF, a QUaternion ESTimate (QUEST) algorithm is 
used to estimate the position quaternion from accelerometer and magnetic
 compass data, so that is possible to use a linear Kalman Filter (KF). 
The algorithm complexity is moved from the EKF to the QUEST algorithm. 
In a more recent work <a ref-type="bibr" anchor="ref4" id="context_ref_4_1">[4]</a>
 an alternative to QUEST algorithm was proposed: it is called Factorized
 Quaternion Algorithm (FQA) and has some computational advantages.</p><p>In <a ref-type="bibr" anchor="ref5" id="context_ref_5_1">[5]</a>
 an Unscented Kalman filter is used instead of the traditional Extended 
Kalman filter, because the Unscented filter is considered to be more 
accurate and less costly to implement. In <a ref-type="bibr" anchor="ref6" id="context_ref_6_1">[6]</a>
 there is a comparison between the Extended Kalman filter and the 
Unscented Kalman filter: the resulting precision is found comparable, 
but the Unscented filter requires much more computation time.</p><p>Discrete
 sensors are widely used in previous works. The purpose of this work is 
to design a very simplified and flexible algorithm to be integrated 
within the logic of a 6D sensor. The algorithm must be flexible to 
process data from the 6D unit only or also from a 9D unit.</p><p>In this
 work a new method to process data from 9D IMU is proposed: instead of 
using a complex Kalman filter with a read equation composed by 6 
elements, the filter is composed by two separate stages (see <a ref-type="fig" anchor="fig1" class="fulltext-link">Figure 1</a>).
 The first stage processes accelerometer data to correct roll and pitch 
angles, while the second stage processes magnetic compass data to 
correct yaw angle.
</p><div class="figure figure-full" id="fig1"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6162919/6166268/6166315/6166315-fig-1-source-large.gif"><img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6166315-fig-1-source-small.gif" alt="Figure 1"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 1. </b><fig>Two stage Kalman filter algorithm</fig></div><p class="links"><a href="https://ieeexplore.ieee.org/document/6166315/all-figures" class="all">View All</a></p></div><p></p><p>With
 this method it is possible to separate the effects of the correction 
between the three angles, so that a magnetic anomaly does not influence 
precision in roll and pitch estimation, in a similar way to what happens
 in a FQA algorithm. The advantage of this kind of approach w.r.t. FQA 
is that in this case it is very simple to adapt the same algorithm to 
work with accelerometer correction only, if the magnetic compass isn't 
available, simply switching off the second stage of the filter. This is 
very desirable, because this algorithm is designed to work with a 6D IMU
 that could be optionally interfaced with an external magnetic compass: 
if the magnetic compass is available, the IMU will process the entire 
algorithm having an optimal angle estimation, otherwise it will process 
the first part of the algorithm only, losing the correct estimation of 
the heading angle.</p><p>The other big advantage of this two stage 
filter w.r.t. a unique EKF filter is that it is less computationally 
intensive to work with two systems having smaller matrices than having a
 unique system with bigger matrices.</p><p>This paper is so organized: in <a ref-type="sec" anchor="sec2" class="fulltext-link">Section II</a> the system model and algorithm is exposed and in <a ref-type="sec" anchor="sec3" class="fulltext-link">Section III</a>
 some algorithm simplifications are presented. The algorithm was first 
tested with synthetic data on MathWorks Simulink, then an Applications 
Specific Instruction Set Processor (ASIP) was specifically designed to 
process the algorithm. This is illustrated in <a ref-type="sec" anchor="sec4" class="fulltext-link">Section IV</a>, while in <a ref-type="sec" anchor="sec5" class="fulltext-link">Section V</a> the experimental results are presented. Finally, conclusions are in <a ref-type="sec" anchor="sec6" class="fulltext-link">Section VI</a>.</p></div>
<div class="section" id="sec2"><div class="header article-hdr"><div class="kicker">
		                        SECTION II.</div><h2>System modelling</h2></div><p>The
 Kalman filter designed in this work uses the direct formulation 
approach. The state equation is composed by the quaternion only, because
 the addition of other variables does not significantly increase the 
precision of the angular estimation, but requires a lot more hardware 
requirements. The a priori estimation of the angular position is 
calculated using gyro data in the state update equation. Following 
quaternion algebra, the state equation is the following:
<disp-formula id="deqn1" class="display-formula"><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-1-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1" style="width: 100%; display: inline-block; min-width: 10.273em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 123%; min-width: 10.273em;"><span style="position: absolute; clip: rect(2.584em, 1006.04em, 4.938em, -1000em); top: -4.011em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-2"><span class="mtable" id="MathJax-Span-3" style="min-width: 10.273em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 10.273em;"><span style="display: inline-block; position: absolute; width: 6.117em; height: 0px; clip: rect(-1.427em, 1006.04em, 0.927em, -1000em); top: 0em; left: 50%; margin-left: -3.059em;"><span style="position: absolute; clip: rect(2.584em, 1006.04em, 4.938em, -1000em); top: -4.011em; left: 0em;"><span style="display: inline-block; position: relative; width: 6.117em; height: 0px;"><span style="position: absolute; clip: rect(2.506em, 1006.04em, 4.859em, -1000em); top: -3.933em; left: 50%; margin-left: -3.059em;"><span class="mtd" id="MathJax-Span-13"><span class="mrow" id="MathJax-Span-14"><span class="msubsup" id="MathJax-Span-15"><span style="display: inline-block; position: relative; width: 1.117em; height: 0px;"><span style="position: absolute; clip: rect(3.151em, 1000.48em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="texatom" id="MathJax-Span-16"><span class="mrow" id="MathJax-Span-17"><span class="munderover" id="MathJax-Span-18"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0.02em;"><span class="mi" id="MathJax-Span-19" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.179em, 1000.31em, 3.624em, -1000em); top: -4.039em; left: 0.117em;"><span class="mo" id="MathJax-Span-20" style="font-family: MathJax_Main;">˙</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.38em, 4.181em, -1000em); top: -4.435em; left: 0.617em;"><span class="texatom" id="MathJax-Span-21"><span class="mrow" id="MathJax-Span-22"><span class="mi" id="MathJax-Span-23" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.536em, 1000.5em, 4.181em, -1000em); top: -3.764em; left: 0.617em;"><span class="texatom" id="MathJax-Span-24"><span class="mrow" id="MathJax-Span-25"><span class="mi" id="MathJax-Span-26" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-27" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="texatom" id="MathJax-Span-28" style="padding-left: 0.278em;"><span class="mrow" id="MathJax-Span-29"><span class="mfrac" id="MathJax-Span-30"><span style="display: inline-block; position: relative; width: 0.62em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.182em, 1000.43em, 4.173em, -1000em); top: -4.687em; left: 50%; margin-left: -0.25em;"><span class="mn" id="MathJax-Span-31" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1000.45em, 4.173em, -1000em); top: -3.325em; left: 50%; margin-left: -0.25em;"><span class="mn" id="MathJax-Span-32" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(0.854em, 1000.62em, 1.247em, -1000em); top: -1.304em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.62em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.084em;"></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-33"><span style="display: inline-block; position: relative; width: 1.583em; height: 0px;"><span style="position: absolute; clip: rect(3.144em, 1000.68em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-34" style="font-family: MathJax_Main;">Ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.536em, 1000.47em, 4.173em, -1000em); top: -4.355em; left: 0.722em;"><span class="texatom" id="MathJax-Span-35"><span class="mrow" id="MathJax-Span-36"><span class="mi" id="MathJax-Span-37" style="font-size: 70.7%; font-family: MathJax_Main;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.86em, 4.181em, -1000em); top: -3.685em; left: 0.722em;"><span class="texatom" id="MathJax-Span-38"><span class="mrow" id="MathJax-Span-39"><span class="mi" id="MathJax-Span-40" style="font-size: 70.7%; font-family: MathJax_Main;">n</span><span class="mi" id="MathJax-Span-41" style="font-size: 70.7%; font-family: MathJax_Main;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-42"><span style="display: inline-block; position: relative; width: 0.945em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-43" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.38em, 4.181em, -1000em); top: -4.363em; left: 0.514em;"><span class="texatom" id="MathJax-Span-44"><span class="mrow" id="MathJax-Span-45"><span class="mi" id="MathJax-Span-46" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.536em, 1000.5em, 4.181em, -1000em); top: -3.863em; left: 0.446em;"><span class="texatom" id="MathJax-Span-47"><span class="mrow" id="MathJax-Span-48"><span class="mi" id="MathJax-Span-49" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-50" style="font-family: MathJax_Main;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.278em; height: 0px; clip: rect(-0.834em, 1001.18em, 0.491em, -1000em); top: 0em; right: 0em; margin-right: 0em;"><span style="position: absolute; clip: rect(3.098em, 1001.18em, 4.423em, -1000em); top: -3.933em; right: 0em;"><span class="mtd" id="mjx-eqn-${\hbox{(1)}}$"><span class="mrow" id="MathJax-Span-5"><span class="texatom" id="MathJax-Span-6"><span class="mrow" id="MathJax-Span-7"><span class="texatom" id="MathJax-Span-8"><span class="mrow" id="MathJax-Span-9"><span class="mstyle" id="MathJax-Span-10"><span class="mrow" id="MathJax-Span-11"><span class="mtext" id="MathJax-Span-12" style="font-family: MathJax_Main;">(1)</span></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.007em; border-left: 0px solid; width: 0px; height: 2.628em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">\dot{q}_{n}^{b}={1\over 2}\Omega_{\rm nb}^{\rm n}q_{n}^{b}.
\eqno{\hbox{(1)}}</script></tex-math><span class="formula"><span class="link">View Source</span><img aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" class="qtooltip moreInfo" alt="Right-click on figure for MathML and additional features." src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/icon.gif" width="24" height="20" border="0"><span class="tex tex2jax_ignore" style="display:none;">\dot{q}_{n}^{b}={1\over 2}\Omega_{\rm nb}^{\rm n}q_{n}^{b}.
\eqno{\hbox{(1)}}</span></span></disp-formula></p><p>Where <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-51" style="width: 1.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.921em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.217em, 1000.92em, 2.579em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-52"><span class="msubsup" id="MathJax-Span-53"><span style="display: inline-block; position: relative; width: 0.945em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-54" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.38em, 4.181em, -1000em); top: -4.363em; left: 0.514em;"><span class="texatom" id="MathJax-Span-55"><span class="mrow" id="MathJax-Span-56"><span class="mi" id="MathJax-Span-57" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.536em, 1000.5em, 4.181em, -1000em); top: -3.863em; left: 0.446em;"><span class="texatom" id="MathJax-Span-58"><span class="mrow" id="MathJax-Span-59"><span class="mi" id="MathJax-Span-60" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.305em; border-left: 0px solid; width: 0px; height: 1.409em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2">q_{n}^{b}</script></tex-math></inline-formula>
 is the quaternion representing the rotation of the body-frame, united 
to the IMU sensor, with respect to the inertial n-frame, and <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-61" style="width: 1.954em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.572em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.356em, 1001.57em, 2.719em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-62"><span class="msubsup" id="MathJax-Span-63"><span style="display: inline-block; position: relative; width: 1.583em; height: 0px;"><span style="position: absolute; clip: rect(3.144em, 1000.68em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-64" style="font-family: MathJax_Main;">Ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.536em, 1000.47em, 4.173em, -1000em); top: -4.355em; left: 0.722em;"><span class="texatom" id="MathJax-Span-65"><span class="mrow" id="MathJax-Span-66"><span class="texatom" id="MathJax-Span-67"><span class="mrow" id="MathJax-Span-68"><span class="mi" id="MathJax-Span-69" style="font-size: 70.7%; font-family: MathJax_Main;">n</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.86em, 4.181em, -1000em); top: -3.685em; left: 0.722em;"><span class="texatom" id="MathJax-Span-70"><span class="mrow" id="MathJax-Span-71"><span class="texatom" id="MathJax-Span-72"><span class="mrow" id="MathJax-Span-73"><span class="mi" id="MathJax-Span-74" style="font-size: 70.7%; font-family: MathJax_Main;">n</span><span class="mi" id="MathJax-Span-75" style="font-size: 70.7%; font-family: MathJax_Main;">b</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.478em; border-left: 0px solid; width: 0px; height: 1.41em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3">\Omega_{{\rm nb}}^{{\rm n}}</script></tex-math></inline-formula> is the rotational matrix, derived from the quaternions properties.
<disp-formula id="deqn2" class="display-formula"><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-4-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-76" style="width: 100%; display: inline-block; min-width: 18.427em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 123%; min-width: 18.427em;"><span style="position: absolute; clip: rect(3.356em, 1013.95em, 9.261em, -1000em); top: -6.558em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-77"><span class="mtable" id="MathJax-Span-78" style="min-width: 18.427em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 18.427em;"><span style="display: inline-block; position: absolute; width: 14.271em; height: 0px; clip: rect(-3.203em, 1013.95em, 2.703em, -1000em); top: 0em; left: 50%; margin-left: -7.136em;"><span style="position: absolute; clip: rect(3.356em, 1013.95em, 9.261em, -1000em); top: -6.558em; left: 0em;"><span style="display: inline-block; position: relative; width: 14.271em; height: 0px;"><span style="position: absolute; clip: rect(3.356em, 1013.95em, 9.261em, -1000em); top: -6.558em; left: 50%; margin-left: -7.136em;"><span class="mtd" id="MathJax-Span-88"><span class="mrow" id="MathJax-Span-89"><span class="msubsup" id="MathJax-Span-90"><span style="display: inline-block; position: relative; width: 1.583em; height: 0px;"><span style="position: absolute; clip: rect(3.144em, 1000.68em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-91" style="font-family: MathJax_Main;">Ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.536em, 1000.47em, 4.173em, -1000em); top: -4.355em; left: 0.722em;"><span class="texatom" id="MathJax-Span-92"><span class="mrow" id="MathJax-Span-93"><span class="mi" id="MathJax-Span-94" style="font-size: 70.7%; font-family: MathJax_Main;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.86em, 4.181em, -1000em); top: -3.685em; left: 0.722em;"><span class="texatom" id="MathJax-Span-95"><span class="mrow" id="MathJax-Span-96"><span class="mi" id="MathJax-Span-97" style="font-size: 70.7%; font-family: MathJax_Main;">n</span><span class="mi" id="MathJax-Span-98" style="font-size: 70.7%; font-family: MathJax_Main;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-99" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mrow" id="MathJax-Span-100" style="padding-left: 0.278em;"><span class="mo" id="MathJax-Span-101" style="vertical-align: 3.04em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.925em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.695em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.178em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.662em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.145em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mtable" id="MathJax-Span-102" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 9.686em; height: 0px;"><span style="position: absolute; clip: rect(3.219em, 1001.1em, 8.853em, -1000em); top: -6.287em; left: 0em;"><span style="display: inline-block; position: relative; width: 1.101em; height: 0px;"><span style="position: absolute; clip: rect(3.182em, 1000.46em, 4.195em, -1000em); top: -6.251em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-103"><span class="mrow" id="MathJax-Span-104"><span class="mn" id="MathJax-Span-105" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.405em, 1001.1em, 4.331em, -1000em); top: -4.756em; left: 50%; margin-left: -0.551em;"><span class="mtd" id="MathJax-Span-130"><span class="mrow" id="MathJax-Span-131"><span class="msubsup" id="MathJax-Span-132"><span style="display: inline-block; position: relative; width: 1.101em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-133" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-134"><span class="mrow" id="MathJax-Span-135"><span class="mi" id="MathJax-Span-136" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.405em, 1001.05em, 4.468em, -1000em); top: -3.261em; left: 50%; margin-left: -0.524em;"><span class="mtd" id="MathJax-Span-155"><span class="mrow" id="MathJax-Span-156"><span class="msubsup" id="MathJax-Span-157"><span style="display: inline-block; position: relative; width: 1.048em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-158" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-159"><span class="mrow" id="MathJax-Span-160"><span class="mi" id="MathJax-Span-161" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.405em, 1001.03em, 4.331em, -1000em); top: -1.766em; left: 50%; margin-left: -0.514em;"><span class="mtd" id="MathJax-Span-180"><span class="mrow" id="MathJax-Span-181"><span class="msubsup" id="MathJax-Span-182"><span style="display: inline-block; position: relative; width: 1.028em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-183" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-184"><span class="mrow" id="MathJax-Span-185"><span class="mi" id="MathJax-Span-186" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.287em;"></span></span><span style="position: absolute; clip: rect(3.356em, 1001.88em, 9.044em, -1000em); top: -6.341em; left: 2.101em;"><span style="display: inline-block; position: relative; width: 1.879em; height: 0px;"><span style="position: absolute; clip: rect(3.265em, 1001.88em, 4.331em, -1000em); top: -6.251em; left: 50%; margin-left: -0.94em;"><span class="mtd" id="MathJax-Span-106"><span class="mrow" id="MathJax-Span-107"><span class="mo" id="MathJax-Span-108" style="font-family: MathJax_Main;">−</span><span class="msubsup" id="MathJax-Span-109"><span style="display: inline-block; position: relative; width: 1.101em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-110" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-111"><span class="mrow" id="MathJax-Span-112"><span class="mi" id="MathJax-Span-113" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1000.46em, 4.195em, -1000em); top: -4.756em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-137"><span class="mrow" id="MathJax-Span-138"><span class="mn" id="MathJax-Span-139" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.265em, 1001.81em, 4.331em, -1000em); top: -3.261em; left: 50%; margin-left: -0.903em;"><span class="mtd" id="MathJax-Span-162"><span class="mrow" id="MathJax-Span-163"><span class="mo" id="MathJax-Span-164" style="font-family: MathJax_Main;">−</span><span class="msubsup" id="MathJax-Span-165"><span style="display: inline-block; position: relative; width: 1.028em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-166" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-167"><span class="mrow" id="MathJax-Span-168"><span class="mi" id="MathJax-Span-169" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.405em, 1001.05em, 4.468em, -1000em); top: -1.766em; left: 50%; margin-left: -0.524em;"><span class="mtd" id="MathJax-Span-187"><span class="mrow" id="MathJax-Span-188"><span class="msubsup" id="MathJax-Span-189"><span style="display: inline-block; position: relative; width: 1.048em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-190" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-191"><span class="mrow" id="MathJax-Span-192"><span class="mi" id="MathJax-Span-193" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.341em;"></span></span><span style="position: absolute; clip: rect(3.248em, 1001.88em, 8.798em, -1000em); top: -6.233em; left: 4.981em;"><span style="display: inline-block; position: relative; width: 1.879em; height: 0px;"><span style="position: absolute; clip: rect(3.265em, 1001.83em, 4.468em, -1000em); top: -6.251em; left: 50%; margin-left: -0.913em;"><span class="mtd" id="MathJax-Span-114"><span class="mrow" id="MathJax-Span-115"><span class="mo" id="MathJax-Span-116" style="font-family: MathJax_Main;">−</span><span class="msubsup" id="MathJax-Span-117"><span style="display: inline-block; position: relative; width: 1.048em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-118" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-119"><span class="mrow" id="MathJax-Span-120"><span class="mi" id="MathJax-Span-121" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.405em, 1001.03em, 4.331em, -1000em); top: -4.756em; left: 50%; margin-left: -0.514em;"><span class="mtd" id="MathJax-Span-140"><span class="mrow" id="MathJax-Span-141"><span class="msubsup" id="MathJax-Span-142"><span style="display: inline-block; position: relative; width: 1.028em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-143" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-144"><span class="mrow" id="MathJax-Span-145"><span class="mi" id="MathJax-Span-146" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1000.46em, 4.195em, -1000em); top: -3.261em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-170"><span class="mrow" id="MathJax-Span-171"><span class="mn" id="MathJax-Span-172" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.265em, 1001.88em, 4.331em, -1000em); top: -1.766em; left: 50%; margin-left: -0.94em;"><span class="mtd" id="MathJax-Span-194"><span class="mrow" id="MathJax-Span-195"><span class="mo" id="MathJax-Span-196" style="font-family: MathJax_Main;">−</span><span class="msubsup" id="MathJax-Span-197"><span style="display: inline-block; position: relative; width: 1.101em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-198" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-199"><span class="mrow" id="MathJax-Span-200"><span class="mi" id="MathJax-Span-201" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.233em;"></span></span><span style="position: absolute; clip: rect(3.085em, 1001.83em, 8.5em, -1000em); top: -6.07em; left: 7.86em;"><span style="display: inline-block; position: relative; width: 1.826em; height: 0px;"><span style="position: absolute; clip: rect(3.265em, 1001.81em, 4.331em, -1000em); top: -6.251em; left: 50%; margin-left: -0.903em;"><span class="mtd" id="MathJax-Span-122"><span class="mrow" id="MathJax-Span-123"><span class="mo" id="MathJax-Span-124" style="font-family: MathJax_Main;">−</span><span class="msubsup" id="MathJax-Span-125"><span style="display: inline-block; position: relative; width: 1.028em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-126" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-127"><span class="mrow" id="MathJax-Span-128"><span class="mi" id="MathJax-Span-129" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.265em, 1001.83em, 4.468em, -1000em); top: -4.756em; left: 50%; margin-left: -0.913em;"><span class="mtd" id="MathJax-Span-147"><span class="mrow" id="MathJax-Span-148"><span class="mo" id="MathJax-Span-149" style="font-family: MathJax_Main;">−</span><span class="msubsup" id="MathJax-Span-150"><span style="display: inline-block; position: relative; width: 1.048em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-151" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-152"><span class="mrow" id="MathJax-Span-153"><span class="mi" id="MathJax-Span-154" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.405em, 1001.1em, 4.331em, -1000em); top: -3.261em; left: 50%; margin-left: -0.551em;"><span class="mtd" id="MathJax-Span-173"><span class="mrow" id="MathJax-Span-174"><span class="msubsup" id="MathJax-Span-175"><span style="display: inline-block; position: relative; width: 1.101em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-176" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-177"><span class="mrow" id="MathJax-Span-178"><span class="mi" id="MathJax-Span-179" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1000.46em, 4.195em, -1000em); top: -1.766em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-202"><span class="mrow" id="MathJax-Span-203"><span class="mn" id="MathJax-Span-204" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-205" style="vertical-align: 3.04em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.925em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.695em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.178em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.662em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.145em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 6.558em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.558em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.278em; height: 0px; clip: rect(-0.913em, 1001.18em, 0.413em, -1000em); top: 0em; right: 0em; margin-right: 0em;"><span style="position: absolute; clip: rect(3.098em, 1001.18em, 4.423em, -1000em); top: -4.011em; right: 0em;"><span class="mtd" id="mjx-eqn-${\hbox{(2)}}$"><span class="mrow" id="MathJax-Span-80"><span class="texatom" id="MathJax-Span-81"><span class="mrow" id="MathJax-Span-82"><span class="texatom" id="MathJax-Span-83"><span class="mrow" id="MathJax-Span-84"><span class="mstyle" id="MathJax-Span-85"><span class="mrow" id="MathJax-Span-86"><span class="mtext" id="MathJax-Span-87" style="font-family: MathJax_Main;">(2)</span></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 6.558em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -3.191em; border-left: 0px solid; width: 0px; height: 6.997em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-4">\Omega_{\rm nb}^{\rm n}=\left[\matrix{
0 & -\omega_{x}& -\omega_{y}&-\omega_{z}\cr
\omega_{x}& 0 & \omega_{z} & -\omega_{y}\cr
\omega_{y} & -\omega_{z} & 0 & \omega_{x}\cr
\omega_{z} & \omega_{y} & -\omega_{x} & 0}\right]
\eqno{\hbox{(2)}}</script></tex-math><span class="formula"><span class="link">View Source</span><img aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" class="qtooltip moreInfo" alt="Right-click on figure for MathML and additional features." src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/icon.gif" width="24" height="20" border="0"><span class="tex tex2jax_ignore" style="display:none;">\Omega_{\rm nb}^{\rm n}=\left[\matrix{
0 &amp; -\omega_{x}&amp; -\omega_{y}&amp;-\omega_{z}\cr
\omega_{x}&amp; 0 &amp; \omega_{z} &amp; -\omega_{y}\cr
\omega_{y} &amp; -\omega_{z} &amp; 0 &amp; \omega_{x}\cr
\omega_{z} &amp; \omega_{y} &amp; -\omega_{x} &amp; 0}\right]
\eqno{\hbox{(2)}}</span></span></disp-formula></p><p>This matrix is formed by the angular velocities <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-206" style="width: 3.201em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.602em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.671em, 1002.6em, 2.734em, -1000em); top: -2.276em; left: 0em;"><span class="mrow" id="MathJax-Span-207"><span class="msubsup" id="MathJax-Span-208"><span style="display: inline-block; position: relative; width: 1.101em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-209" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-210"><span class="mrow" id="MathJax-Span-211"><span class="mi" id="MathJax-Span-212" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-213" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-214" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.048em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-215" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-216"><span class="mrow" id="MathJax-Span-217"><span class="mi" id="MathJax-Span-218" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.004em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.429em; border-left: 0px solid; width: 0px; height: 1.041em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5">\omega_{x}, \omega_{y}</script></tex-math></inline-formula> and <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-219" style="width: 1.304em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.03em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.617em, 1001.03em, 2.543em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-220"><span class="msubsup" id="MathJax-Span-221"><span style="display: inline-block; position: relative; width: 1.028em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.6em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-222" style="font-family: MathJax_Math; font-style: italic;">ω</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.622em;"><span class="texatom" id="MathJax-Span-223"><span class="mrow" id="MathJax-Span-224"><span class="mi" id="MathJax-Span-225" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.261em; border-left: 0px solid; width: 0px; height: 0.872em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-6">\omega_{z}</script></tex-math></inline-formula> measured by the gyro. Equation <a ref-type="disp-formula" anchor="deqn1" href="#deqn1" class="fulltext-link">(1)</a> can be easily transformed from the time-continuous form into the time-discrete one, obtaining the <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-226" style="width: 1.466em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.192em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.344em, 1001.19em, 2.543em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-227"><span class="msubsup" id="MathJax-Span-228"><span style="display: inline-block; position: relative; width: 1.193em; height: 0px;"><span style="position: absolute; clip: rect(3.132em, 1000.73em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-229" style="font-family: MathJax_Math; font-style: italic;">A</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.75em;"><span class="texatom" id="MathJax-Span-230"><span class="mrow" id="MathJax-Span-231"><span class="mi" id="MathJax-Span-232" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.261em; border-left: 0px solid; width: 0px; height: 1.208em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-7">A_{k}</script></tex-math></inline-formula> matrix that relates the state evolution of the system.</p><p>To
 ensure that the output quaternion represents an angular position, this 
output must be normalized. It was discovered that, when the filter is 
active, it is self-normalizing.</p><p>As seen in Kalman filter theory, 
the system state, i.e. the angular position, is not directly observable,
 but there are some outputs of the system that are observable. Now there
 are two outputs, also called read equations: the accelerometer data and
 magnetic compass data. The first stage of the filter calculates an 
estimated gravity vector <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-233" style="width: 0.707em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.542em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.319em, 1000.48em, 2.59em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-234"><span class="texatom" id="MathJax-Span-235"><span class="mrow" id="MathJax-Span-236"><span class="munderover" id="MathJax-Span-237"><span style="display: inline-block; position: relative; width: 0.555em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.48em, 4.378em, -1000em); top: -4.011em; left: 0.01em;"><span class="mi" id="MathJax-Span-238" style="font-family: MathJax_Math; font-style: italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.154em, 1000.39em, 3.642em, -1000em); top: -4.057em; left: 0.055em;"><span class="mo" id="MathJax-Span-239" style="font-family: MathJax_Main;">^</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.319em; border-left: 0px solid; width: 0px; height: 1.296em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-8">\hat{g}</script></tex-math></inline-formula> using the direction cosine matrix <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-240" style="width: 1.575em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.247em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.217em, 1001.25em, 2.541em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-241"><span class="msubsup" id="MathJax-Span-242"><span style="display: inline-block; position: relative; width: 1.258em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.76em, 4.194em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-243" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.38em, 4.181em, -1000em); top: -4.363em; left: 0.759em;"><span class="texatom" id="MathJax-Span-244"><span class="mrow" id="MathJax-Span-245"><span class="mi" id="MathJax-Span-246" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.536em, 1000.5em, 4.181em, -1000em); top: -3.863em; left: 0.759em;"><span class="texatom" id="MathJax-Span-247"><span class="mrow" id="MathJax-Span-248"><span class="mi" id="MathJax-Span-249" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.258em; border-left: 0px solid; width: 0px; height: 1.362em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-9">R_{n}^{b}</script></tex-math></inline-formula>.
<disp-formula id="deqn3" class="display-formula"><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-10-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-250" style="width: 100%; display: inline-block; min-width: 22.261em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 123%; min-width: 22.261em;"><span style="position: absolute; clip: rect(2.551em, 1018.03em, 6.814em, -1000em); top: -4.932em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-251"><span class="mtable" id="MathJax-Span-252" style="min-width: 22.261em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 22.261em;"><span style="display: inline-block; position: absolute; width: 18.105em; height: 0px; clip: rect(-2.381em, 1018.03em, 1.881em, -1000em); top: 0em; left: 50%; margin-left: -9.053em;"><span style="position: absolute; clip: rect(2.551em, 1018.03em, 6.814em, -1000em); top: -4.932em; left: 0em;"><span style="display: inline-block; position: relative; width: 18.105em; height: 0px;"><span style="position: absolute; clip: rect(2.551em, 1018.03em, 6.814em, -1000em); top: -4.932em; left: 50%; margin-left: -9.053em;"><span class="mtd" id="MathJax-Span-262"><span class="mrow" id="MathJax-Span-263"><span class="texatom" id="MathJax-Span-264"><span class="mrow" id="MathJax-Span-265"><span class="munderover" id="MathJax-Span-266"><span style="display: inline-block; position: relative; width: 0.555em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.48em, 4.378em, -1000em); top: -4.011em; left: 0.01em;"><span class="mi" id="MathJax-Span-267" style="font-family: MathJax_Math; font-style: italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.154em, 1000.39em, 3.642em, -1000em); top: -4.057em; left: 0.055em;"><span class="mo" id="MathJax-Span-268" style="font-family: MathJax_Main;">^</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-269" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-270" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.258em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.76em, 4.194em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-271" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.38em, 4.181em, -1000em); top: -4.363em; left: 0.759em;"><span class="texatom" id="MathJax-Span-272"><span class="mrow" id="MathJax-Span-273"><span class="mi" id="MathJax-Span-274" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.536em, 1000.5em, 4.181em, -1000em); top: -3.863em; left: 0.759em;"><span class="texatom" id="MathJax-Span-275"><span class="mrow" id="MathJax-Span-276"><span class="mi" id="MathJax-Span-277" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mrow" id="MathJax-Span-278" style="padding-left: 0.167em;"><span class="mo" id="MathJax-Span-279" style="vertical-align: 2.175em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.806em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.785em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mtable" id="MathJax-Span-280" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(2.512em, 1000.92em, 6.553em, -1000em); top: -4.715em; left: 0em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(3.182em, 1000.46em, 4.195em, -1000em); top: -5.385em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-281"><span class="mrow" id="MathJax-Span-282"><span class="mn" id="MathJax-Span-283" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1000.46em, 4.195em, -1000em); top: -3.985em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-284"><span class="mrow" id="MathJax-Span-285"><span class="mn" id="MathJax-Span-286" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.098em, 1000.92em, 4.422em, -1000em); top: -2.585em; left: 50%; margin-left: -0.518em;"><span class="mtd" id="MathJax-Span-287"><span class="mrow" id="MathJax-Span-288"><span class="mo" id="MathJax-Span-289" style="font-family: MathJax_Main;">|</span><span class="mi" id="MathJax-Span-290" style="font-family: MathJax_Math; font-style: italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-291" style="font-family: MathJax_Main;">|</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.715em;"></span></span></span></span><span class="mo" id="MathJax-Span-292" style="vertical-align: 2.175em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.806em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.785em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-293" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mo" id="MathJax-Span-294" style="font-family: MathJax_Main; padding-left: 0.278em;">|</span><span class="mi" id="MathJax-Span-295" style="font-family: MathJax_Math; font-style: italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-296" style="font-family: MathJax_Main;">|</span><span class="mrow" id="MathJax-Span-297" style="padding-left: 0.167em;"><span class="mo" id="MathJax-Span-298" style="vertical-align: 2.219em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.717em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.741em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mtable" id="MathJax-Span-299" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 7.437em; height: 0px;"><span style="position: absolute; clip: rect(2.577em, 1007.44em, 6.705em, -1000em); top: -4.824em; left: 0em;"><span style="display: inline-block; position: relative; width: 7.437em; height: 0px;"><span style="position: absolute; clip: rect(3.182em, 1005.72em, 4.367em, -1000em); top: -5.43em; left: 50%; margin-left: -2.86em;"><span class="mtd" id="MathJax-Span-300"><span class="mrow" id="MathJax-Span-301"><span class="mn" id="MathJax-Span-302" style="font-family: MathJax_Main;">2</span><span class="msubsup" id="MathJax-Span-303"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-304" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-305"><span class="mrow" id="MathJax-Span-306"><span class="mn" id="MathJax-Span-307" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-308"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-309" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-310"><span class="mrow" id="MathJax-Span-311"><span class="mn" id="MathJax-Span-312" style="font-size: 70.7%; font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-313" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mn" id="MathJax-Span-314" style="font-family: MathJax_Main; padding-left: 0.222em;">2</span><span class="msubsup" id="MathJax-Span-315"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-316" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-317"><span class="mrow" id="MathJax-Span-318"><span class="mn" id="MathJax-Span-319" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-320"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-321" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-322"><span class="mrow" id="MathJax-Span-323"><span class="mn" id="MathJax-Span-324" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1005.72em, 4.367em, -1000em); top: -4.03em; left: 50%; margin-left: -2.86em;"><span class="mtd" id="MathJax-Span-325"><span class="mrow" id="MathJax-Span-326"><span class="mn" id="MathJax-Span-327" style="font-family: MathJax_Main;">2</span><span class="msubsup" id="MathJax-Span-328"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-329" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-330"><span class="mrow" id="MathJax-Span-331"><span class="mn" id="MathJax-Span-332" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-333"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-334" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-335"><span class="mrow" id="MathJax-Span-336"><span class="mn" id="MathJax-Span-337" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-338" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-339" style="font-family: MathJax_Main; padding-left: 0.222em;">2</span><span class="msubsup" id="MathJax-Span-340"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-341" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-342"><span class="mrow" id="MathJax-Span-343"><span class="mn" id="MathJax-Span-344" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-345"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-346" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-347"><span class="mrow" id="MathJax-Span-348"><span class="mn" id="MathJax-Span-349" style="font-size: 70.7%; font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.033em, 1007.44em, 4.495em, -1000em); top: -2.614em; left: 50%; margin-left: -3.719em;"><span class="mtd" id="MathJax-Span-350"><span class="mrow" id="MathJax-Span-351"><span class="msubsup" id="MathJax-Span-352"><span style="display: inline-block; position: relative; width: 0.943em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-353" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -4.355em; left: 0.514em;"><span class="texatom" id="MathJax-Span-354"><span class="mrow" id="MathJax-Span-355"><span class="mn" id="MathJax-Span-356" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.189em, -1000em); top: -3.704em; left: 0.446em;"><span class="texatom" id="MathJax-Span-357"><span class="mrow" id="MathJax-Span-358"><span class="mn" id="MathJax-Span-359" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-360" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-361" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.943em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-362" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -4.355em; left: 0.514em;"><span class="texatom" id="MathJax-Span-363"><span class="mrow" id="MathJax-Span-364"><span class="mn" id="MathJax-Span-365" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -3.704em; left: 0.446em;"><span class="texatom" id="MathJax-Span-366"><span class="mrow" id="MathJax-Span-367"><span class="mn" id="MathJax-Span-368" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-369" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-370" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.943em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-371" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -4.355em; left: 0.514em;"><span class="texatom" id="MathJax-Span-372"><span class="mrow" id="MathJax-Span-373"><span class="mn" id="MathJax-Span-374" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -3.704em; left: 0.446em;"><span class="texatom" id="MathJax-Span-375"><span class="mrow" id="MathJax-Span-376"><span class="mn" id="MathJax-Span-377" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-378" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="msubsup" id="MathJax-Span-379" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.943em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-380" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -4.355em; left: 0.514em;"><span class="texatom" id="MathJax-Span-381"><span class="mrow" id="MathJax-Span-382"><span class="mn" id="MathJax-Span-383" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.378em, 1000.43em, 4.189em, -1000em); top: -3.705em; left: 0.446em;"><span class="texatom" id="MathJax-Span-384"><span class="mrow" id="MathJax-Span-385"><span class="mn" id="MathJax-Span-386" style="font-size: 70.7%; font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.824em;"></span></span></span></span><span class="mo" id="MathJax-Span-387" style="vertical-align: 2.219em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.717em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.741em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-388" style="font-family: MathJax_Main; padding-left: 0.167em;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.932em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.932em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.278em; height: 0px; clip: rect(-0.913em, 1001.18em, 0.413em, -1000em); top: 0em; right: 0em; margin-right: 0em;"><span style="position: absolute; clip: rect(3.098em, 1001.18em, 4.423em, -1000em); top: -4.011em; right: 0em;"><span class="mtd" id="mjx-eqn-${\hbox{(3)}}$"><span class="mrow" id="MathJax-Span-254"><span class="texatom" id="MathJax-Span-255"><span class="mrow" id="MathJax-Span-256"><span class="texatom" id="MathJax-Span-257"><span class="mrow" id="MathJax-Span-258"><span class="mstyle" id="MathJax-Span-259"><span class="mrow" id="MathJax-Span-260"><span class="mtext" id="MathJax-Span-261" style="font-family: MathJax_Main;">(3)</span></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.932em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.181em; border-left: 0px solid; width: 0px; height: 4.976em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-10">\hat{g}=R_{n}^{b}\left[\matrix{0 \cr 0 \cr \vert
g\vert}\right]=\vert g\vert
\left[\matrix{2q_{1}q_{3}-2q_{0}q_{2}\cr
2q_{0}q_{1}+2q_{2}q_{3}\cr
q^{2}_{0}-q_{1}^{2}-q^{2}_{2}+q_{3}^{2}}\right].\eqno{\hbox{(3)}}</script></tex-math><span class="formula"><span class="link">View Source</span><img aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" class="qtooltip moreInfo" alt="Right-click on figure for MathML and additional features." src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/icon.gif" width="24" height="20" border="0"><span class="tex tex2jax_ignore" style="display:none;">\hat{g}=R_{n}^{b}\left[\matrix{0 \cr 0 \cr \vert
g\vert}\right]=\vert g\vert
\left[\matrix{2q_{1}q_{3}-2q_{0}q_{2}\cr
2q_{0}q_{1}+2q_{2}q_{3}\cr
q^{2}_{0}-q_{1}^{2}-q^{2}_{2}+q_{3}^{2}}\right].\eqno{\hbox{(3)}}</span></span></disp-formula></p><p>This gravity vector is compared with the accelerometer data and a correction quaternion <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-389" style="width: 1.412em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.138em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.618em, 1001.14em, 2.579em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-390"><span class="msubsup" id="MathJax-Span-391"><span style="display: inline-block; position: relative; width: 1.162em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-392" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-393"><span class="mrow" id="MathJax-Span-394"><span class="mi" id="MathJax-Span-395" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">ϵ</span><span class="mn" id="MathJax-Span-396" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.305em; border-left: 0px solid; width: 0px; height: 0.916em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-11">q_{\epsilon 1}</script></tex-math></inline-formula> is calculated multiplying this difference, called residual, with a gain factor called Kalman gain <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-397" style="width: 2.008em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.377em, 1001.63em, 2.543em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-398"><span class="msubsup" id="MathJax-Span-399"><span style="display: inline-block; position: relative; width: 1.646em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.89em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-400" style="font-family: MathJax_Math; font-style: italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.849em;"><span class="texatom" id="MathJax-Span-401"><span class="mrow" id="MathJax-Span-402"><span class="mi" id="MathJax-Span-403" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span class="mn" id="MathJax-Span-404" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.261em; border-left: 0px solid; width: 0px; height: 1.167em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-12">K_{k1}</script></tex-math></inline-formula>,
 The correction quaternion represents an angular rotation, it has 
non-null terms for all three angles, but from the theory it is known 
that with the gravity vector it is possible to correct two angles only. 
So the third vectorial part <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-405" style="width: 1.087em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.867em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.618em, 1000.87em, 2.579em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-406"><span class="msubsup" id="MathJax-Span-407"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-408" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-409"><span class="mrow" id="MathJax-Span-410"><span class="mn" id="MathJax-Span-411" style="font-size: 70.7%; font-family: MathJax_Main;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.305em; border-left: 0px solid; width: 0px; height: 0.916em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-13">q_{4}</script></tex-math></inline-formula> of the quaternion is set to zero to ensure that the yaw angle is not influenced from the first correction stage.
<disp-formula id="deqn4" class="display-formula"><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-14-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-412" style="width: 100%; display: inline-block; min-width: 15.038em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 123%; min-width: 15.038em;"><span style="position: absolute; clip: rect(3.073em, 1010.88em, 4.448em, -1000em); top: -4.011em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-413"><span class="mtable" id="MathJax-Span-414" style="min-width: 15.038em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 15.038em;"><span style="display: inline-block; position: absolute; width: 10.882em; height: 0px; clip: rect(-0.938em, 1010.88em, 0.438em, -1000em); top: 0em; left: 50%; margin-left: -5.441em;"><span style="position: absolute; clip: rect(3.207em, 1010.88em, 4.392em, -1000em); top: -4.011em; left: 0em;"><span style="display: inline-block; position: relative; width: 10.882em; height: 0px;"><span style="position: absolute; clip: rect(3.182em, 1010.88em, 4.367em, -1000em); top: -3.986em; left: 50%; margin-left: -5.441em;"><span class="mtd" id="MathJax-Span-424"><span class="mrow" id="MathJax-Span-425"><span class="msubsup" id="MathJax-Span-426"><span style="display: inline-block; position: relative; width: 1.162em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-427" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-428"><span class="mrow" id="MathJax-Span-429"><span class="mi" id="MathJax-Span-430" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">ϵ</span><span class="mn" id="MathJax-Span-431" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-432" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-433" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-434" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-435"><span class="mrow" id="MathJax-Span-436"><span class="mn" id="MathJax-Span-437" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-438" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="msubsup" id="MathJax-Span-439" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-440" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-441"><span class="mrow" id="MathJax-Span-442"><span class="mn" id="MathJax-Span-443" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-444" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="msubsup" id="MathJax-Span-445" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-446" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-447"><span class="mrow" id="MathJax-Span-448"><span class="mn" id="MathJax-Span-449" style="font-size: 70.7%; font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-450" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-451" style="font-family: MathJax_Main; padding-left: 0.222em;">0</span><span class="mo" id="MathJax-Span-452" style="font-family: MathJax_Main; padding-left: 0.222em;">⋅</span><span class="msubsup" id="MathJax-Span-453" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-454" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-455"><span class="mrow" id="MathJax-Span-456"><span class="mn" id="MathJax-Span-457" style="font-size: 70.7%; font-family: MathJax_Main;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.278em; height: 0px; clip: rect(-0.888em, 1001.18em, 0.438em, -1000em); top: 0em; right: 0em; margin-right: 0em;"><span style="position: absolute; clip: rect(3.098em, 1001.18em, 4.423em, -1000em); top: -3.986em; right: 0em;"><span class="mtd" id="mjx-eqn-${\hbox{(4)}}$"><span class="mrow" id="MathJax-Span-416"><span class="texatom" id="MathJax-Span-417"><span class="mrow" id="MathJax-Span-418"><span class="texatom" id="MathJax-Span-419"><span class="mrow" id="MathJax-Span-420"><span class="mstyle" id="MathJax-Span-421"><span class="mrow" id="MathJax-Span-422"><span class="mtext" id="MathJax-Span-423" style="font-family: MathJax_Main;">(4)</span></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.405em; border-left: 0px solid; width: 0px; height: 1.425em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-14">q_{\epsilon 1}=q_{1}+q_{2}+q_{3}+0\cdot q_{4}
\eqno{\hbox{(4)}}</script></tex-math><span class="formula"><span class="link">View Source</span><img aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" class="qtooltip moreInfo" alt="Right-click on figure for MathML and additional features." src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/icon.gif" width="24" height="20" border="0"><span class="tex tex2jax_ignore" style="display: none;">q_{\epsilon 1}=q_{1}+q_{2}+q_{3}+0\cdot q_{4}
\eqno{\hbox{(4)}}</span></span></disp-formula></p><p>The Kalman gain is 
calculated from the statistics of the noise covariance matrices of the 
system, and usually is a small quantity, because accelerometers do not 
measure the gravity only, but also the external accelerations of the 
system. These accelerations are considered as noise in the filter 
formulation.</p><p>The formula to calculate the Kalman gain in the original filter formulation is the following:
<disp-formula id="deqn5" class="display-formula"><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-15-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-458" style="width: 100%; display: inline-block; min-width: 20.685em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 123%; min-width: 20.685em;"><span style="position: absolute; clip: rect(2.989em, 1016.53em, 4.532em, -1000em); top: -4.011em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-459"><span class="mtable" id="MathJax-Span-460" style="min-width: 20.685em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 20.685em;"><span style="display: inline-block; position: absolute; width: 16.529em; height: 0px; clip: rect(-1.022em, 1016.53em, 0.522em, -1000em); top: 0em; left: 50%; margin-left: -8.265em;"><span style="position: absolute; clip: rect(2.989em, 1016.53em, 4.532em, -1000em); top: -4.011em; left: 0em;"><span style="display: inline-block; position: relative; width: 16.529em; height: 0px;"><span style="position: absolute; clip: rect(2.964em, 1016.53em, 4.508em, -1000em); top: -3.986em; left: 50%; margin-left: -8.265em;"><span class="mtd" id="MathJax-Span-470"><span class="mrow" id="MathJax-Span-471"><span class="msubsup" id="MathJax-Span-472"><span style="display: inline-block; position: relative; width: 1.292em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.89em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-473" style="font-family: MathJax_Math; font-style: italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.849em;"><span class="texatom" id="MathJax-Span-474"><span class="mrow" id="MathJax-Span-475"><span class="mi" id="MathJax-Span-476" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-477" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-478" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.459em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.75em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-479" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.436em, 1000.63em, 4.231em, -1000em); top: -4.413em; left: 0.834em;"><span class="texatom" id="MathJax-Span-480"><span class="mrow" id="MathJax-Span-481"><span class="mo" id="MathJax-Span-482" style="font-size: 70.7%; font-family: MathJax_Main;">−</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.44em, 4.181em, -1000em); top: -3.685em; left: 0.642em;"><span class="texatom" id="MathJax-Span-483"><span class="mrow" id="MathJax-Span-484"><span class="mi" id="MathJax-Span-485" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-486"><span style="display: inline-block; position: relative; width: 1.528em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.89em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-487" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.37em, 1000.57em, 4.173em, -1000em); top: -4.355em; left: 0.955em;"><span class="texatom" id="MathJax-Span-488"><span class="mrow" id="MathJax-Span-489"><span class="mi" id="MathJax-Span-490" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.085em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.44em, 4.181em, -1000em); top: -3.685em; left: 0.831em;"><span class="texatom" id="MathJax-Span-491"><span class="mrow" id="MathJax-Span-492"><span class="mi" id="MathJax-Span-493" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-494" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-495"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.89em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-496" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.831em;"><span class="texatom" id="MathJax-Span-497"><span class="mrow" id="MathJax-Span-498"><span class="mi" id="MathJax-Span-499" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-500"><span style="display: inline-block; position: relative; width: 1.459em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.75em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-501" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.436em, 1000.63em, 4.231em, -1000em); top: -4.413em; left: 0.834em;"><span class="texatom" id="MathJax-Span-502"><span class="mrow" id="MathJax-Span-503"><span class="mo" id="MathJax-Span-504" style="font-size: 70.7%; font-family: MathJax_Main;">−</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.44em, 4.181em, -1000em); top: -3.685em; left: 0.642em;"><span class="texatom" id="MathJax-Span-505"><span class="mrow" id="MathJax-Span-506"><span class="mi" id="MathJax-Span-507" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-508"><span style="display: inline-block; position: relative; width: 1.528em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.89em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-509" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.37em, 1000.57em, 4.173em, -1000em); top: -4.355em; left: 0.955em;"><span class="texatom" id="MathJax-Span-510"><span class="mrow" id="MathJax-Span-511"><span class="mi" id="MathJax-Span-512" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.085em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.44em, 4.181em, -1000em); top: -3.685em; left: 0.831em;"><span class="texatom" id="MathJax-Span-513"><span class="mrow" id="MathJax-Span-514"><span class="mi" id="MathJax-Span-515" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-516" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="msubsup" id="MathJax-Span-517" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 1.026em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.77em, 4.195em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-518" style="font-family: MathJax_Math; font-style: italic; text-rendering: optimizelegibility;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.186em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.583em;"><span class="texatom" id="MathJax-Span-519"><span class="mrow" id="MathJax-Span-520"><span class="mi" id="MathJax-Span-521" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-522"><span style="display: inline-block; position: relative; width: 1.202em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.76em, 4.194em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-523" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.759em;"><span class="texatom" id="MathJax-Span-524"><span class="mrow" id="MathJax-Span-525"><span class="mi" id="MathJax-Span-526" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-527"><span style="display: inline-block; position: relative; width: 1.448em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.77em, 4.195em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-528" style="font-family: MathJax_Math; font-style: italic; text-rendering: optimizelegibility;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.186em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.37em, 1000.57em, 4.173em, -1000em); top: -4.355em; left: 0.875em;"><span class="texatom" id="MathJax-Span-529"><span class="mrow" id="MathJax-Span-530"><span class="mi" id="MathJax-Span-531" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.085em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.44em, 4.181em, -1000em); top: -3.685em; left: 0.583em;"><span class="texatom" id="MathJax-Span-532"><span class="mrow" id="MathJax-Span-533"><span class="mi" id="MathJax-Span-534" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-535"><span style="display: inline-block; position: relative; width: 1.368em; height: 0px;"><span style="position: absolute; clip: rect(3.098em, 1000.29em, 4.423em, -1000em); top: -4.011em; left: 0em;"><span class="mo" id="MathJax-Span-536" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -4.424em; left: 0.389em;"><span class="texatom" id="MathJax-Span-537"><span class="mrow" id="MathJax-Span-538"><span class="mo" id="MathJax-Span-539" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-540" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.278em; height: 0px; clip: rect(-0.888em, 1001.18em, 0.437em, -1000em); top: 0em; right: 0em; margin-right: 0em;"><span style="position: absolute; clip: rect(3.098em, 1001.18em, 4.423em, -1000em); top: -3.986em; right: 0em;"><span class="mtd" id="mjx-eqn-${\hbox{(5)}}$"><span class="mrow" id="MathJax-Span-462"><span class="texatom" id="MathJax-Span-463"><span class="mrow" id="MathJax-Span-464"><span class="texatom" id="MathJax-Span-465"><span class="mrow" id="MathJax-Span-466"><span class="mstyle" id="MathJax-Span-467"><span class="mrow" id="MathJax-Span-468"><span class="mtext" id="MathJax-Span-469" style="font-family: MathJax_Main;">(5)</span></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.508em; border-left: 0px solid; width: 0px; height: 1.631em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-15">K_{k}=P_{k}^{-}H_{k}^{T}(H_{k}P_{k}^{-}H_{k}^{T}+V_{k}R_{k}V_{k}^{T})^{-1}
\eqno{\hbox{(5)}}</script></tex-math><span class="formula"><span class="link">View Source</span><img aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" class="qtooltip moreInfo" alt="Right-click on figure for MathML and additional features." src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/icon.gif" width="24" height="20" border="0"><span class="tex tex2jax_ignore" style="display:none;">K_{k}=P_{k}^{-}H_{k}^{T}(H_{k}P_{k}^{-}H_{k}^{T}+V_{k}R_{k}V_{k}^{T})^{-1}
\eqno{\hbox{(5)}}</span></span></disp-formula><inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-541" style="width: 1.846em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.463em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.245em, 1001.46em, 2.719em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-542"><span class="msubsup" id="MathJax-Span-543"><span style="display: inline-block; position: relative; width: 1.459em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.75em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-544" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.436em, 1000.63em, 4.231em, -1000em); top: -4.413em; left: 0.834em;"><span class="texatom" id="MathJax-Span-545"><span class="mrow" id="MathJax-Span-546"><span class="mo" id="MathJax-Span-547" style="font-size: 70.7%; font-family: MathJax_Main;">−</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.44em, 4.181em, -1000em); top: -3.685em; left: 0.642em;"><span class="texatom" id="MathJax-Span-548"><span class="mrow" id="MathJax-Span-549"><span class="mi" id="MathJax-Span-550" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.478em; border-left: 0px solid; width: 0px; height: 1.546em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-16">P_{k}^{-}</script></tex-math></inline-formula> and <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-551" style="width: 1.358em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.084em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.377em, 1001.08em, 2.543em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-552"><span class="msubsup" id="MathJax-Span-553"><span style="display: inline-block; position: relative; width: 1.085em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.75em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-554" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.642em;"><span class="texatom" id="MathJax-Span-555"><span class="mrow" id="MathJax-Span-556"><span class="mi" id="MathJax-Span-557" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.261em; border-left: 0px solid; width: 0px; height: 1.167em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-17">P_{k}</script></tex-math></inline-formula> are the a priori and a posteriori error covariance matrices, <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-558" style="width: 1.466em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.192em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.377em, 1001.19em, 2.543em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-559"><span class="msubsup" id="MathJax-Span-560"><span style="display: inline-block; position: relative; width: 1.202em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.76em, 4.194em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-561" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.759em;"><span class="texatom" id="MathJax-Span-562"><span class="mrow" id="MathJax-Span-563"><span class="mi" id="MathJax-Span-564" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.261em; border-left: 0px solid; width: 0px; height: 1.167em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-18">R_{k}</script></tex-math></inline-formula> and <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-565" style="width: 1.575em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.247em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.356em, 1001.25em, 2.579em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-566"><span class="msubsup" id="MathJax-Span-567"><span style="display: inline-block; position: relative; width: 1.234em; height: 0px;"><span style="position: absolute; clip: rect(3.144em, 1000.74em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-568" style="font-family: MathJax_Math; font-style: italic;">Q</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.791em;"><span class="texatom" id="MathJax-Span-569"><span class="mrow" id="MathJax-Span-570"><span class="mi" id="MathJax-Span-571" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.305em; border-left: 0px solid; width: 0px; height: 1.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-19">Q_{k}</script></tex-math></inline-formula> are the error covariance matrices of the read and the state equation of the filter, assumed constant at each filter iteration. <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-572" style="width: 1.629em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.301em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.377em, 1001.3em, 2.543em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-573"><span class="msubsup" id="MathJax-Span-574"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.89em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-575" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.831em;"><span class="texatom" id="MathJax-Span-576"><span class="mrow" id="MathJax-Span-577"><span class="mi" id="MathJax-Span-578" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.261em; border-left: 0px solid; width: 0px; height: 1.167em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-20">H_{k}</script></tex-math></inline-formula> and <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-579" style="width: 1.304em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.03em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.377em, 1001.03em, 2.543em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-580"><span class="msubsup" id="MathJax-Span-581"><span style="display: inline-block; position: relative; width: 1.026em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.77em, 4.195em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-582" style="font-family: MathJax_Math; font-style: italic; text-rendering: optimizelegibility;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.186em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.583em;"><span class="texatom" id="MathJax-Span-583"><span class="mrow" id="MathJax-Span-584"><span class="mi" id="MathJax-Span-585" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.261em; border-left: 0px solid; width: 0px; height: 1.167em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-21">V_{k}</script></tex-math></inline-formula> are the Jacobean matrices of the partial derivatives with respect to the quaternion and to the noise of the nonlinear equation <a ref-type="disp-formula" anchor="deqn3" href="#deqn3" class="fulltext-link">(3)</a>, which relates the quaternion to the estimated gravity.</p><p>In
 a similar way, the second stage of the filter is developed. The 
expected magnetic vector is calculated from the estimated angular 
position, normalizing its value to 1.
<disp-formula id="deqn6" class="display-formula"><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-22-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-586" style="width: 100%; display: inline-block; min-width: 20.845em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 123%; min-width: 20.845em;"><span style="position: absolute; clip: rect(2.551em, 1016.61em, 6.814em, -1000em); top: -4.932em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-587"><span class="mtable" id="MathJax-Span-588" style="min-width: 20.845em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 20.845em;"><span style="display: inline-block; position: absolute; width: 16.689em; height: 0px; clip: rect(-2.381em, 1016.61em, 1.881em, -1000em); top: 0em; left: 50%; margin-left: -8.345em;"><span style="position: absolute; clip: rect(2.551em, 1016.61em, 6.814em, -1000em); top: -4.932em; left: 0em;"><span style="display: inline-block; position: relative; width: 16.689em; height: 0px;"><span style="position: absolute; clip: rect(2.551em, 1016.61em, 6.814em, -1000em); top: -4.932em; left: 50%; margin-left: -8.345em;"><span class="mtd" id="MathJax-Span-598"><span class="mrow" id="MathJax-Span-599"><span class="texatom" id="MathJax-Span-600"><span class="mrow" id="MathJax-Span-601"><span class="munderover" id="MathJax-Span-602"><span style="display: inline-block; position: relative; width: 0.878em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.86em, 4.184em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-603" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.154em, 1000.39em, 3.642em, -1000em); top: -4.057em; left: 0.189em;"><span class="mo" id="MathJax-Span-604" style="font-family: MathJax_Main;">^</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-605" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-606" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.258em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.76em, 4.194em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-607" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.38em, 4.181em, -1000em); top: -4.363em; left: 0.759em;"><span class="texatom" id="MathJax-Span-608"><span class="mrow" id="MathJax-Span-609"><span class="mi" id="MathJax-Span-610" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.536em, 1000.5em, 4.181em, -1000em); top: -3.863em; left: 0.759em;"><span class="texatom" id="MathJax-Span-611"><span class="mrow" id="MathJax-Span-612"><span class="mi" id="MathJax-Span-613" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mrow" id="MathJax-Span-614" style="padding-left: 0.167em;"><span class="mo" id="MathJax-Span-615" style="vertical-align: 2.15em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.855em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.81em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mtable" id="MathJax-Span-616" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(2.32em, 1000.46em, 6.133em, -1000em); top: -4.499em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.182em, 1000.46em, 4.195em, -1000em); top: -5.361em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-617"><span class="mrow" id="MathJax-Span-618"><span class="mn" id="MathJax-Span-619" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1000.43em, 4.173em, -1000em); top: -3.961em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-620"><span class="mrow" id="MathJax-Span-621"><span class="mn" id="MathJax-Span-622" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1000.46em, 4.195em, -1000em); top: -2.561em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-623"><span class="mrow" id="MathJax-Span-624"><span class="mn" id="MathJax-Span-625" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.499em;"></span></span></span></span><span class="mo" id="MathJax-Span-626" style="vertical-align: 2.15em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.855em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.81em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-627" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mrow" id="MathJax-Span-628" style="padding-left: 0.278em;"><span class="mo" id="MathJax-Span-629" style="vertical-align: 2.219em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.717em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.741em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mtable" id="MathJax-Span-630" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 7.437em; height: 0px;"><span style="position: absolute; clip: rect(2.577em, 1007.44em, 6.699em, -1000em); top: -4.824em; left: 0em;"><span style="display: inline-block; position: relative; width: 7.437em; height: 0px;"><span style="position: absolute; clip: rect(3.182em, 1005.72em, 4.367em, -1000em); top: -5.43em; left: 50%; margin-left: -2.86em;"><span class="mtd" id="MathJax-Span-631"><span class="mrow" id="MathJax-Span-632"><span class="mn" id="MathJax-Span-633" style="font-family: MathJax_Main;">2</span><span class="msubsup" id="MathJax-Span-634"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-635" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-636"><span class="mrow" id="MathJax-Span-637"><span class="mn" id="MathJax-Span-638" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-639"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-640" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-641"><span class="mrow" id="MathJax-Span-642"><span class="mn" id="MathJax-Span-643" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-644" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-645" style="font-family: MathJax_Main; padding-left: 0.222em;">2</span><span class="msubsup" id="MathJax-Span-646"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-647" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-648"><span class="mrow" id="MathJax-Span-649"><span class="mn" id="MathJax-Span-650" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-651"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-652" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-653"><span class="mrow" id="MathJax-Span-654"><span class="mn" id="MathJax-Span-655" style="font-size: 70.7%; font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.033em, 1007.44em, 4.495em, -1000em); top: -4.014em; left: 50%; margin-left: -3.719em;"><span class="mtd" id="MathJax-Span-656"><span class="mrow" id="MathJax-Span-657"><span class="msubsup" id="MathJax-Span-658"><span style="display: inline-block; position: relative; width: 0.943em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-659" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -4.355em; left: 0.514em;"><span class="texatom" id="MathJax-Span-660"><span class="mrow" id="MathJax-Span-661"><span class="mn" id="MathJax-Span-662" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.189em, -1000em); top: -3.704em; left: 0.446em;"><span class="texatom" id="MathJax-Span-663"><span class="mrow" id="MathJax-Span-664"><span class="mn" id="MathJax-Span-665" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-666" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-667" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.943em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-668" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -4.355em; left: 0.514em;"><span class="texatom" id="MathJax-Span-669"><span class="mrow" id="MathJax-Span-670"><span class="mn" id="MathJax-Span-671" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -3.704em; left: 0.446em;"><span class="texatom" id="MathJax-Span-672"><span class="mrow" id="MathJax-Span-673"><span class="mn" id="MathJax-Span-674" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-675" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-676" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.943em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-677" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -4.355em; left: 0.514em;"><span class="texatom" id="MathJax-Span-678"><span class="mrow" id="MathJax-Span-679"><span class="mn" id="MathJax-Span-680" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -3.704em; left: 0.446em;"><span class="texatom" id="MathJax-Span-681"><span class="mrow" id="MathJax-Span-682"><span class="mn" id="MathJax-Span-683" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-684" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-685" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.943em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-686" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.377em, 1000.43em, 4.173em, -1000em); top: -4.355em; left: 0.514em;"><span class="texatom" id="MathJax-Span-687"><span class="mrow" id="MathJax-Span-688"><span class="mn" id="MathJax-Span-689" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.378em, 1000.43em, 4.189em, -1000em); top: -3.705em; left: 0.446em;"><span class="texatom" id="MathJax-Span-690"><span class="mrow" id="MathJax-Span-691"><span class="mn" id="MathJax-Span-692" style="font-size: 70.7%; font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1005.72em, 4.367em, -1000em); top: -2.492em; left: 50%; margin-left: -2.86em;"><span class="mtd" id="MathJax-Span-693"><span class="mrow" id="MathJax-Span-694"><span class="mn" id="MathJax-Span-695" style="font-family: MathJax_Main;">2</span><span class="msubsup" id="MathJax-Span-696"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-697" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-698"><span class="mrow" id="MathJax-Span-699"><span class="mn" id="MathJax-Span-700" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-701"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-702" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-703"><span class="mrow" id="MathJax-Span-704"><span class="mn" id="MathJax-Span-705" style="font-size: 70.7%; font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-706" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mn" id="MathJax-Span-707" style="font-family: MathJax_Main; padding-left: 0.222em;">2</span><span class="msubsup" id="MathJax-Span-708"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-709" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-710"><span class="mrow" id="MathJax-Span-711"><span class="mn" id="MathJax-Span-712" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-713"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-714" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-715"><span class="mrow" id="MathJax-Span-716"><span class="mn" id="MathJax-Span-717" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.824em;"></span></span></span></span><span class="mo" id="MathJax-Span-718" style="vertical-align: 2.219em;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.857em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.717em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.741em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-719" style="font-family: MathJax_Main; padding-left: 0.167em;">.</span></span></span><span style="display: inline-block; width: 0px; height: 4.932em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.932em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.278em; height: 0px; clip: rect(-0.913em, 1001.18em, 0.413em, -1000em); top: 0em; right: 0em; margin-right: 0em;"><span style="position: absolute; clip: rect(3.098em, 1001.18em, 4.423em, -1000em); top: -4.011em; right: 0em;"><span class="mtd" id="mjx-eqn-${\hbox{(6)}}$"><span class="mrow" id="MathJax-Span-590"><span class="texatom" id="MathJax-Span-591"><span class="mrow" id="MathJax-Span-592"><span class="texatom" id="MathJax-Span-593"><span class="mrow" id="MathJax-Span-594"><span class="mstyle" id="MathJax-Span-595"><span class="mrow" id="MathJax-Span-596"><span class="mtext" id="MathJax-Span-597" style="font-family: MathJax_Main;">(6)</span></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.932em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.181em; border-left: 0px solid; width: 0px; height: 4.976em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-22">\hat{m}=R_{n}^{b}\left[\matrix{0\cr 1 \cr 0}\right]=\left[\matrix{2q_{1}q_{2}+2q_{0}q_{3}\cr
q_{0}^{2}-q_{1}^{2}-q_{2}^{2}-q_{3}^{2}\cr
2q_{2}q_{3}-2q_{0}q_{1}}\right].\eqno{\hbox{(6)}}</script></tex-math><span class="formula"><span class="link">View Source</span><img aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" class="qtooltip moreInfo" alt="Right-click on figure for MathML and additional features." src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/icon.gif" width="24" height="20" border="0"><span class="tex tex2jax_ignore" style="display:none;">\hat{m}=R_{n}^{b}\left[\matrix{0\cr 1 \cr 0}\right]=\left[\matrix{2q_{1}q_{2}+2q_{0}q_{3}\cr
q_{0}^{2}-q_{1}^{2}-q_{2}^{2}-q_{3}^{2}\cr
2q_{2}q_{3}-2q_{0}q_{1}}\right].\eqno{\hbox{(6)}}</span></span></disp-formula></p><p>For this calculation the earth magnetic vector was considered directed along <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-720" style="width: 0.599em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.488em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.618em, 1000.49em, 2.59em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-721"><span class="mi" id="MathJax-Span-722" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.319em; border-left: 0px solid; width: 0px; height: 0.929em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-23">y</script></tex-math></inline-formula>
 axis only and the vertical component was neglected. This because this 
component is dependent from the geographical position and is not 
necessary for north estimation. Also the magnetic field intensity is 
variable: it is between 0.25 to 0.65 gauss, weaker near the equator and 
stronger at the poles. For this reason the magnetic compass readings are
 normalized to 1.</p><p>A residual is calculated subtracting the estimated value to the read one and with a second computed Kalman gain <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-24-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-723" style="width: 2.008em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.626em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.377em, 1001.63em, 2.543em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-724"><span class="msubsup" id="MathJax-Span-725"><span style="display: inline-block; position: relative; width: 1.646em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.89em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-726" style="font-family: MathJax_Math; font-style: italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.04em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.849em;"><span class="texatom" id="MathJax-Span-727"><span class="mrow" id="MathJax-Span-728"><span class="mi" id="MathJax-Span-729" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span class="mn" id="MathJax-Span-730" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.261em; border-left: 0px solid; width: 0px; height: 1.167em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-24">K_{k2}</script></tex-math></inline-formula>
 a second correction factor is calculated. To uncouple the effects of 
this correction from roll and pitch correction, the first and second 
vector parts <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-731" style="width: 1.087em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.867em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.618em, 1000.87em, 2.579em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-732"><span class="msubsup" id="MathJax-Span-733"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-734" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-735"><span class="mrow" id="MathJax-Span-736"><span class="mn" id="MathJax-Span-737" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.305em; border-left: 0px solid; width: 0px; height: 0.916em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-25">q_{2}</script></tex-math></inline-formula> and <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-26-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-738" style="width: 1.087em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.867em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.618em, 1000.87em, 2.579em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-739"><span class="msubsup" id="MathJax-Span-740"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-741" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-742"><span class="mrow" id="MathJax-Span-743"><span class="mn" id="MathJax-Span-744" style="font-size: 70.7%; font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.305em; border-left: 0px solid; width: 0px; height: 0.916em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-26">q_{3}</script></tex-math></inline-formula> of the quatenion are set to 0:
<disp-formula id="deqn7" class="display-formula"><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-27-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-745" style="width: 100%; display: inline-block; min-width: 16.26em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 123%; min-width: 16.26em;"><span style="position: absolute; clip: rect(3.073em, 1012.1em, 4.448em, -1000em); top: -4.011em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-746"><span class="mtable" id="MathJax-Span-747" style="min-width: 16.26em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 16.26em;"><span style="display: inline-block; position: absolute; width: 12.104em; height: 0px; clip: rect(-0.938em, 1012.1em, 0.438em, -1000em); top: 0em; left: 50%; margin-left: -6.052em;"><span style="position: absolute; clip: rect(3.207em, 1012.1em, 4.392em, -1000em); top: -4.011em; left: 0em;"><span style="display: inline-block; position: relative; width: 12.104em; height: 0px;"><span style="position: absolute; clip: rect(3.182em, 1012.1em, 4.367em, -1000em); top: -3.986em; left: 50%; margin-left: -6.052em;"><span class="mtd" id="MathJax-Span-757"><span class="mrow" id="MathJax-Span-758"><span class="msubsup" id="MathJax-Span-759"><span style="display: inline-block; position: relative; width: 1.162em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-760" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-761"><span class="mrow" id="MathJax-Span-762"><span class="mi" id="MathJax-Span-763" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">ϵ</span><span class="mn" id="MathJax-Span-764" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-765" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-766" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-767" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-768"><span class="mrow" id="MathJax-Span-769"><span class="mn" id="MathJax-Span-770" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-771" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-772" style="font-family: MathJax_Main; padding-left: 0.222em;">0</span><span class="mo" id="MathJax-Span-773" style="font-family: MathJax_Main; padding-left: 0.222em;">⋅</span><span class="msubsup" id="MathJax-Span-774" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-775" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-776"><span class="mrow" id="MathJax-Span-777"><span class="mn" id="MathJax-Span-778" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-779" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-780" style="font-family: MathJax_Main; padding-left: 0.222em;">0</span><span class="mo" id="MathJax-Span-781" style="font-family: MathJax_Main; padding-left: 0.222em;">⋅</span><span class="msubsup" id="MathJax-Span-782" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-783" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-784"><span class="mrow" id="MathJax-Span-785"><span class="mn" id="MathJax-Span-786" style="font-size: 70.7%; font-family: MathJax_Main;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span><span class="mo" id="MathJax-Span-787" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="msubsup" id="MathJax-Span-788" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.875em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1000.46em, 4.367em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-789" style="font-family: MathJax_Math; font-style: italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.446em;"><span class="texatom" id="MathJax-Span-790"><span class="mrow" id="MathJax-Span-791"><span class="mn" id="MathJax-Span-792" style="font-size: 70.7%; font-family: MathJax_Main;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.278em; height: 0px; clip: rect(-0.888em, 1001.18em, 0.438em, -1000em); top: 0em; right: 0em; margin-right: 0em;"><span style="position: absolute; clip: rect(3.098em, 1001.18em, 4.423em, -1000em); top: -3.986em; right: 0em;"><span class="mtd" id="mjx-eqn-${\hbox{(7)}}$"><span class="mrow" id="MathJax-Span-749"><span class="texatom" id="MathJax-Span-750"><span class="mrow" id="MathJax-Span-751"><span class="texatom" id="MathJax-Span-752"><span class="mrow" id="MathJax-Span-753"><span class="mstyle" id="MathJax-Span-754"><span class="mrow" id="MathJax-Span-755"><span class="mtext" id="MathJax-Span-756" style="font-family: MathJax_Main;">(7)</span></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.405em; border-left: 0px solid; width: 0px; height: 1.425em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-27">q_{\epsilon 2}=q_{1}+0\cdot q_{2}+0\cdot q_{3}+q_{4}
\eqno{\hbox{(7)}}</script></tex-math><span class="formula"><span class="link">View Source</span><img aria-describedby="qtip-0" style="display:inline;" title="Right-click on figure or equation for MathML and additional features." data-hasqtip="0" class="qtooltip moreInfo" alt="Right-click on figure for MathML and additional features." src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/icon.gif" width="24" height="20" border="0"><span class="tex tex2jax_ignore" style="display:none;">q_{\epsilon 2}=q_{1}+0\cdot q_{2}+0\cdot q_{3}+q_{4}
\eqno{\hbox{(7)}}</span></span></disp-formula>The two stages of the filter work sequentially and can be switched off separately.</p></div>
<div class="section" id="sec3"><div class="header article-hdr"><div class="kicker">
		                        SECTION III.</div><h2>Algorithm simplifications</h2></div><p>Kalman
 filter algorithms may be very computationally intensive, especially if 
the system state has a lot of elements because it includes also the 
biases. For this reason in this work the system state equation was 
maintained as simple as possible to save computational power. Also the 
use of a two stage filter is in this direction, because it allows the 
use of two separated read equations, each with 3 elements only, instead 
of a unique read equation with 6 elements (the 3 accelerations plus the 3
 magnetic elements). As it is known, it is simpler to execute matrix 
operations, such as matrix inversion, on two <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-28-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-793" style="width: 2.713em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.168em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.449em, 1002.13em, 2.461em, -1000em); top: -2.276em; left: 0em;"><span class="mrow" id="MathJax-Span-794"><span class="mn" id="MathJax-Span-795" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-796" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-797" style="font-family: MathJax_Main; padding-left: 0.222em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.094em; border-left: 0px solid; width: 0px; height: 0.978em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-28">3\times3</script></tex-math></inline-formula> matrices than on a bigger <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-29-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-798" style="width: 2.713em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.168em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.448em, 1002.12em, 2.461em, -1000em); top: -2.276em; left: 0em;"><span class="mrow" id="MathJax-Span-799"><span class="mn" id="MathJax-Span-800" style="font-family: MathJax_Main;">6</span><span class="mo" id="MathJax-Span-801" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-802" style="font-family: MathJax_Main; padding-left: 0.222em;">6</span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.094em; border-left: 0px solid; width: 0px; height: 0.98em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-29">6\times6</script></tex-math></inline-formula> matrix.</p><p>To
 allow system silicon integration and to run this algorithm on an ASIP 
with minimal hardware requirements, the current Kalman filter algorithm 
was further simplified. In particular, it was chosen to calculate the 
noise covariance matrices offline, so that the online calculation of the
 Kalman gain is simpler. The a priori error covariance <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-30-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-803" style="width: 1.846em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.463em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.245em, 1001.46em, 2.719em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-804"><span class="msubsup" id="MathJax-Span-805"><span style="display: inline-block; position: relative; width: 1.459em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.75em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-806" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.436em, 1000.63em, 4.231em, -1000em); top: -4.413em; left: 0.834em;"><span class="texatom" id="MathJax-Span-807"><span class="mrow" id="MathJax-Span-808"><span class="mo" id="MathJax-Span-809" style="font-size: 70.7%; font-family: MathJax_Main;">−</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; clip: rect(3.358em, 1000.44em, 4.181em, -1000em); top: -3.685em; left: 0.642em;"><span class="texatom" id="MathJax-Span-810"><span class="mrow" id="MathJax-Span-811"><span class="mi" id="MathJax-Span-812" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.478em; border-left: 0px solid; width: 0px; height: 1.546em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-30">P_{k}^{-}</script></tex-math></inline-formula> is approximated with the a posteriori error covariance <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-31-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-813" style="width: 1.358em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.084em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.377em, 1001.08em, 2.543em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-814"><span class="msubsup" id="MathJax-Span-815"><span style="display: inline-block; position: relative; width: 1.085em; height: 0px;"><span style="position: absolute; clip: rect(3.165em, 1000.75em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-816" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -3.861em; left: 0.642em;"><span class="texatom" id="MathJax-Span-817"><span class="mrow" id="MathJax-Span-818"><span class="mi" id="MathJax-Span-819" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.261em; border-left: 0px solid; width: 0px; height: 1.167em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-31">P_{k}</script></tex-math></inline-formula>
 and a fixed precomputed value is used. It is relevant that the overall 
algorithm performance is not affected by this simplification and it has 
negligible performance degradation.</p><p>A variable gain was introduced
 to compensate startup performance, because the system must be able to 
quickly correct the initial angular position even if the system starts 
upside down. During the first filter iterations, accelerometer and 
magnetic compass data are weighted more in the correction equation, so 
that the real position is quickly hooked. It was seen that it is 
possible to correct the initial angular position in less than half a 
second. In the future, a variable gain might be introduced also to 
increase the performance and reducing errors when the system is 
subjected to high external accelerations or to magnetic anomalies, 
reducing the weights of the corrections.</p><p>An effort was done to 
eliminate all the division operations, to avoid the use of a divider 
into the ASIP. So, it was verified that the normalization operation on 
the quatenion can be eliminated when the Kalman filter is working, 
because the norm of the quatenion is controlled by the filter itself. 
Furthermore, with some matrix algebra approximation it was possible to 
reduce the complexity of the Kalman gain calculation and to avoid 
divisions.</p></div>
<div class="section" id="sec4"><div class="header article-hdr"><div class="kicker">
		                        SECTION IV.</div><h2>ASIP design</h2></div><p>The system constraints to integrate the ASIP within sensor logic were the use of a TSMC 0.18 <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-32-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-820" style="width: 1.737em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.409em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.672em, 1001.4em, 2.655em, -1000em); top: -2.276em; left: 0em;"><span class="mrow" id="MathJax-Span-821"><span class="mi" id="MathJax-Span-822" style="font-family: MathJax_Math; font-style: italic;">μ</span><span class="texatom" id="MathJax-Span-823"><span class="mrow" id="MathJax-Span-824"><span class="mi" id="MathJax-Span-825" style="font-family: MathJax_Main;">m</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.332em; border-left: 0px solid; width: 0px; height: 0.943em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-32">\mu {\rm m}</script></tex-math></inline-formula> technology and area and power consumption requirements of 0.5 <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-33-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-826" style="width: 2.604em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.114em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.226em, 1002.11em, 2.385em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-827"><span class="msubsup" id="MathJax-Span-828"><span style="display: inline-block; position: relative; width: 2.095em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1001.65em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="texatom" id="MathJax-Span-829"><span class="mrow" id="MathJax-Span-830"><span class="mi" id="MathJax-Span-831" style="font-family: MathJax_Main;">m</span><span class="mi" id="MathJax-Span-832" style="font-family: MathJax_Main;">m</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -4.374em; left: 1.666em;"><span class="texatom" id="MathJax-Span-833"><span class="mrow" id="MathJax-Span-834"><span class="mn" id="MathJax-Span-835" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.067em; border-left: 0px solid; width: 0px; height: 1.159em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-33">{\rm mm}^{2}</script></tex-math></inline-formula> and 100 <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-34-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-836" style="width: 1.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.355em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.398em, 1001.32em, 2.655em, -1000em); top: -2.276em; left: 0em;"><span class="mrow" id="MathJax-Span-837"><span class="mi" id="MathJax-Span-838" style="font-family: MathJax_Math; font-style: italic;">μ</span><span class="texatom" id="MathJax-Span-839"><span class="mrow" id="MathJax-Span-840"><span class="mi" id="MathJax-Span-841" style="font-family: MathJax_Main;">A</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.332em; border-left: 0px solid; width: 0px; height: 1.28em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-34">\mu {\rm A}</script></tex-math></inline-formula>
 respectively. It was chosen to implement an ASIP because this allowed a
 good balance between performance, flexibility for future algorithm 
upgrades and a reduced area occupation.</p><p>For the ASIP design a 
custom Instruction Set Architecture was designed to maximize the 
performance in Kalman filter processing and special attentions were paid
 to power and area occupation.</p><p>The ASIP has three main blocks, the
 ALU, the control unit and the regbank. The ALU has a RISC architecture 
because this allows low area occupation. It is possible to implement a 
RISC architecture because the operations to be executed are much lower 
than the available clock cycles: the filter has an update rate of 1 kHz,
 meanwhile the ASIP has a clock frequency of more than 1 MHz. The ALU is
 capable of operations on 20 bit data, because this is the minimum 
precision required for the Kalman filter algorithm.</p><p>The operations
 to be executed by the ALU are stored on a program ROM, so it is 
possible to upgrade the algorithm simply changing the ROM that stores 
the operations to be executed.</p><p>The control unit has a mixed 
approach between the hardwired and the programmed solution because it 
was found to be more efficient and also flexible. A regbank was 
instantiated to store the data and it was divided into two main 
registers blocks to optimize ALU access time to data.</p><p>The synthesis of the DSP on TSMC 0.18 <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-35-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-842" style="width: 1.737em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.409em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.672em, 1001.4em, 2.655em, -1000em); top: -2.276em; left: 0em;"><span class="mrow" id="MathJax-Span-843"><span class="mi" id="MathJax-Span-844" style="font-family: MathJax_Math; font-style: italic;">μ</span><span class="texatom" id="MathJax-Span-845"><span class="mrow" id="MathJax-Span-846"><span class="mi" id="MathJax-Span-847" style="font-family: MathJax_Main;">m</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.332em; border-left: 0px solid; width: 0px; height: 0.943em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-35">\mu{\rm m}</script></tex-math></inline-formula> technology showed an area occupation of 0.36 <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-36-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-848" style="width: 2.604em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.114em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.226em, 1002.11em, 2.385em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-849"><span class="msubsup" id="MathJax-Span-850"><span style="display: inline-block; position: relative; width: 2.095em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1001.65em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="texatom" id="MathJax-Span-851"><span class="mrow" id="MathJax-Span-852"><span class="mi" id="MathJax-Span-853" style="font-family: MathJax_Main;">m</span><span class="mi" id="MathJax-Span-854" style="font-family: MathJax_Main;">m</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -4.374em; left: 1.666em;"><span class="texatom" id="MathJax-Span-855"><span class="mrow" id="MathJax-Span-856"><span class="mn" id="MathJax-Span-857" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.067em; border-left: 0px solid; width: 0px; height: 1.159em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-36">{\rm mm}^{2}</script></tex-math></inline-formula>, that is equivalent to 28.8 kgate. The estimated current consumption is 75 <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-37-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-858" style="width: 1.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.355em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.398em, 1001.32em, 2.655em, -1000em); top: -2.276em; left: 0em;"><span class="mrow" id="MathJax-Span-859"><span class="mi" id="MathJax-Span-860" style="font-family: MathJax_Math; font-style: italic;">μ</span><span class="texatom" id="MathJax-Span-861"><span class="mrow" id="MathJax-Span-862"><span class="mi" id="MathJax-Span-863" style="font-family: MathJax_Main;">A</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.332em; border-left: 0px solid; width: 0px; height: 1.28em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-37">\mu {\rm A}</script></tex-math></inline-formula> in active mode and 1.5 <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-38-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-864" style="width: 1.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.355em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.398em, 1001.32em, 2.655em, -1000em); top: -2.276em; left: 0em;"><span class="mrow" id="MathJax-Span-865"><span class="mi" id="MathJax-Span-866" style="font-family: MathJax_Math; font-style: italic;">μ</span><span class="texatom" id="MathJax-Span-867"><span class="mrow" id="MathJax-Span-868"><span class="mi" id="MathJax-Span-869" style="font-family: MathJax_Main;">A</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.332em; border-left: 0px solid; width: 0px; height: 1.28em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-38">\mu {\rm A}</script></tex-math></inline-formula> for the leakage current.</p></div>
<div class="section" id="sec5"><div class="header article-hdr"><div class="kicker">
		                        SECTION V.</div><h2>Simulations</h2></div><p>A proof-of-concept demonstrator was implemented on FPGA (<a ref-type="fig" anchor="fig2" class="fulltext-link">Figure 2</a>)
 to verify the correct operation and to test its performance. The FPGA 
was interfaced via SPI with an existing prototype of 6D IMU sensor, 
SD746 by SensorDynamics. A magnetic compass HMC5843 from Honeywell was 
interfaced with I2C bus and the board was connected via UART to a PC for
 data recording and to perform a live demo. The output data update rate 
was set at 1 kHz, which is high enough to track also high bandwidth 
human body movements.
</p><div class="figure figure-full" id="fig2"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6162919/6166268/6166315/6166315-fig-2-source-large.gif"><img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6166315-fig-2-source-small.gif" alt="Figure 2"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 2. </b><fig>FPGA board with SensorDynamics SD746 gyro plus accelerometer and Honeywell HMC5843 Magnetic compass.</fig></div><p class="links"><a href="https://ieeexplore.ieee.org/document/6166315/all-figures" class="all">View All</a></p></div><p></p><p>In the first test (<a ref-type="fig" anchor="fig3" class="fulltext-link">Figure 3</a>–<a ref-type="fig" anchor="fig5" class="fulltext-link">5</a>)
 it was verified the ability of the filter to correct the angular 
position if the system starts up-down. After a first transient, the 
angular position is correctly hooked for all the three axes in about 
half a second.
</p><div class="figure figure-full" id="fig3"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6162919/6166268/6166315/6166315-fig-3-source-large.gif"><img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6166315-fig-3-source-small.gif" alt="Figure 3"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 3. </b><fig>Up-down startup for roll angle</fig></div><p class="links"><a href="https://ieeexplore.ieee.org/document/6166315/all-figures" class="all">View All</a></p></div>
<div class="figure figure-full" id="fig4"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6162919/6166268/6166315/6166315-fig-4-source-large.gif"><img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6166315-fig-4-source-small.gif" alt="Figure 4"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 4. </b><fig>Up-down startup for pitch angle</fig></div><p class="links"><a href="https://ieeexplore.ieee.org/document/6166315/all-figures" class="all">View All</a></p></div>
<div class="figure figure-full" id="fig5"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6162919/6166268/6166315/6166315-fig-5-source-large.gif"><img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6166315-fig-5-source-small.gif" alt="Figure 5"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 5. </b><fig>Up-down startup for yaw angle</fig></div><p class="links"><a href="https://ieeexplore.ieee.org/document/6166315/all-figures" class="all">View All</a></p></div><p></p><p>After that, it was verified that the sensor is able to correct the angular position drift due to gyro biases (<a ref-type="fig" anchor="fig6" class="fulltext-link">Figure 6</a>–<a ref-type="fig" anchor="fig8" class="fulltext-link">8</a>).
 A long acquisition was done with the still sensor, and it was evidenced
 that for all the three axes the drift is nonexistent and the angular 
position error is less than 1 degree for roll and pitch angles, while it
 is about 3 degrees for yaw angle estimation.
</p><div class="figure figure-full" id="fig6"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6162919/6166268/6166315/6166315-fig-6-source-large.gif"><img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6166315-fig-6-source-small.gif" alt="Figure 6"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 6. </b><fig>Roll angle position estimation with still sensor</fig></div><p class="links"><a href="https://ieeexplore.ieee.org/document/6166315/all-figures" class="all">View All</a></p></div>
<div class="figure figure-full" id="fig7"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6162919/6166268/6166315/6166315-fig-7-source-large.gif"><img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6166315-fig-7-source-small.gif" alt="Figure 7"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 7. </b><fig>Pitch angle position estimation with still sensor</fig></div><p class="links"><a href="https://ieeexplore.ieee.org/document/6166315/all-figures" class="all">View All</a></p></div>
<div class="figure figure-full" id="fig8"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6162919/6166268/6166315/6166315-fig-8-source-large.gif"><img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6166315-fig-8-source-small.gif" alt="Figure 8"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 8. </b><fig>Yaw angle position estimation with still sensor</fig></div><p class="links"><a href="https://ieeexplore.ieee.org/document/6166315/all-figures" class="all">View All</a></p></div><p></p><p>Finally,
 the sensor was placed on a test machine to perform a reproducible 
sequence of rotations. Due to the limits of the test machine, it was 
possible to rotate the sensor only around the roll angle. On <a ref-type="fig" anchor="fig9" class="fulltext-link">Figure 9</a>
 the roll angle estimation during this test is shown: the error between 
the true and the estimated position is less than 1 degree.
</p><div class="figure figure-full" id="fig9"><!--
          Workaround for combined images.Eg.- 1000116 Fig. 5
        --><div class="img-wrap"><a href="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6162919/6166268/6166315/6166315-fig-9-source-large.gif"><img src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/6166315-fig-9-source-small.gif" alt="Figure 9"><div class="zoom" title="View Larger Image"></div></a></div><div class="figcaption"><b class="title">Figure 9. </b><fig>Roll angle real and estimated position</fig></div><p class="links"><a href="https://ieeexplore.ieee.org/document/6166315/all-figures" class="all">View All</a></p></div>
<p></p></div>
<div class="section" id="sec6"><div class="header article-hdr"><div class="kicker">
		                        SECTION VI.</div><h2>Conclusions</h2></div><p>In
 this work a novel angular position estimation system to work with 9D 
IMU was successfully designed and tested with an FPGA prototype. The 
algorithm is based on a simplified two stage Kalman filter to process 
separately the data from the accelerometer and from the magnetic 
compass. The advantages of this algorithm are: the fact that a magnetic 
anomaly will not reduce estimation precision on roll and pitch angles; 
reduced computational requirements; flexibility, because the algorithm 
can be used with a 6D IMU only or also with a magnetic compass.</p><p>An
 Application Specific Instruction Set Processor was specifically 
designed to process the algorithm and a synthesis with TSMC 0.18 <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-39-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-870" style="width: 1.737em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.409em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.672em, 1001.4em, 2.655em, -1000em); top: -2.276em; left: 0em;"><span class="mrow" id="MathJax-Span-871"><span class="mi" id="MathJax-Span-872" style="font-family: MathJax_Math; font-style: italic;">μ</span><span class="texatom" id="MathJax-Span-873"><span class="mrow" id="MathJax-Span-874"><span class="mi" id="MathJax-Span-875" style="font-family: MathJax_Main;">m</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.276em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.332em; border-left: 0px solid; width: 0px; height: 0.943em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-39">\mu{\rm m}</script></tex-math></inline-formula> technology showed an area occupation of 0.36 <inline-formula id=""><tex-math notation="TeX"><span class="MathJax_Preview" style="display: none;"></span><span class="MathJax" id="MathJax-Element-40-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-876" style="width: 2.604em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.114em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.226em, 1002.11em, 2.385em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-877"><span class="msubsup" id="MathJax-Span-878"><span style="display: inline-block; position: relative; width: 2.095em; height: 0px;"><span style="position: absolute; clip: rect(3.406em, 1001.65em, 4.173em, -1000em); top: -4.011em; left: 0em;"><span class="texatom" id="MathJax-Span-879"><span class="mrow" id="MathJax-Span-880"><span class="mi" id="MathJax-Span-881" style="font-family: MathJax_Main;">m</span><span class="mi" id="MathJax-Span-882" style="font-family: MathJax_Main;">m</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span><span style="position: absolute; top: -4.374em; left: 1.666em;"><span class="texatom" id="MathJax-Span-883"><span class="mrow" id="MathJax-Span-884"><span class="mn" id="MathJax-Span-885" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.011em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.067em; border-left: 0px solid; width: 0px; height: 1.159em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-40">{\rm mm}^{2}</script></tex-math></inline-formula>
 that meets our requirements. The ASIP was synthesized on FPGA and 
interfaced with real sensors to completely verify his functionality.</p><p>In
 the future it will be possible to integrate the ASIP within the sensor 
logic of a 6D IMU sensor. Without a magnetic compass, roll and yaw angle
 estimation only will be possible. Optionally, it will be possible to 
use an I2C interface to connect an external magnetic compass and process
 the full algorithm, having also an optimal estimation of yaw angle.</p></div>
</div></div>
</div>

				
				<!---->
				<span _ngcontent-c11="" id="full-text-footer">
					
				</span>
			</div>
		</div>
		<!----><div _ngcontent-c11="" class="col-3-24 u-pr-1 u-pl-1 col-buttons stats-document-container-rh u-printing-invisible-ie u-printing-invisible-ff">
			<xpl-document-buttons _ngcontent-c11="" _nghost-c28=""><div _ngcontent-c28="" class="document-doc-buttons stats-document-container-buttons document-side-menu-stick" cssclasstostick="document-side-menu-stick" fromelementid="toc-wrapper" id="scroll-snap-buttons-container" offsetfrom="150" offsetto="-800" scrollreset="true" tillelementid="full-text-footer" xplscrollsnapmigr="">	
	<ul _ngcontent-c28="" class="tools">
		<li _ngcontent-c28="" animatecontainerelementid="search-popover" animateelementidposition="1" class="blue-tooltip increased-width special-left-tooltip" id="search-popover" xplpopoveranimateonscroll="">
			<a _ngcontent-c28="" class="btn-search" placement="left" triggers="click">
				<i _ngcontent-c28=""></i>
			</a>
		</li>
		<li _ngcontent-c28="" animatecontainerelementid="resizer-popover" animateelementidposition="1" class="blue-tooltip special-left-tooltip" id="resizer-popover" xplpopoveranimateonscroll="">
			<a _ngcontent-c28="" class="btn-resize" max-size="20" min-size="10" placement="left" triggers="click">
				<i _ngcontent-c28=""></i>
			</a>
		</li>
	</ul>

	<!---->

	<!---->

	<xpl-back-to-top-button _ngcontent-c28="" section="full-text-header" _nghost-c42=""><ul _ngcontent-c42="" class="back-to-top">
	<li _ngcontent-c42="">
		<a _ngcontent-c42="" class="btn-document back-to-top-btn">
			<i _ngcontent-c42="" class="icon--min icon-back-to-top-arrow"></i>
		</a>
	</li>
</ul>
</xpl-back-to-top-button>
</div></xpl-document-buttons>
		</div>
	</div>
	<!---->
</section></xpl-document-full-text>
						<xpl-accordian-section _ngcontent-c4="" _nghost-c12=""><div _ngcontent-c12="" class="document-accordion-section-container hide-mobile">
	<xpl-document-accordion _ngcontent-c12="" class="accordion-panel-container" _nghost-c29=""><!---->
	<div _ngcontent-c29="">
		<div _ngcontent-c29="" class="accordion-header accordion-button" role="tab" id="authors-header" aria-expanded="false" aria-disabled="false">
			<!---->
				<h3 _ngcontent-c12="" id="authors">Authors</h3>
			
			<!----><div _ngcontent-c29="" class="accordion-chevron">
				<i _ngcontent-c29="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>

	<div _ngcontent-c29="">
		<div _ngcontent-c29="" class="accordion-header accordion-button" role="tab" id="figures-header" aria-expanded="false" aria-disabled="false">
			<!---->
				<h3 _ngcontent-c12="" id="figures">Figures</h3>
			
			<!----><div _ngcontent-c29="" class="accordion-chevron">
				<i _ngcontent-c29="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>

	<div _ngcontent-c29="">
		<div _ngcontent-c29="" class="accordion-header accordion-button" role="tab" id="references-header" aria-expanded="false" aria-disabled="false">
			<!---->
				<h3 _ngcontent-c12="" id="references">References</h3>
			
			<!----><div _ngcontent-c29="" class="accordion-chevron">
				<i _ngcontent-c29="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>

	<div _ngcontent-c29="">
		<div _ngcontent-c29="" class="accordion-header accordion-button" role="tab" id="citations-header" aria-expanded="false" aria-disabled="false">
			<!---->
				<h3 _ngcontent-c12="" id="citations">Citations</h3>
			
			<!----><div _ngcontent-c29="" class="accordion-chevron">
				<i _ngcontent-c29="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>

	<div _ngcontent-c29="">
		<div _ngcontent-c29="" class="accordion-header accordion-button" role="tab" id="keywords-header" aria-expanded="false" aria-disabled="false">
			<!---->
				<h3 _ngcontent-c12="" id="keywords">Keywords</h3>
			
			<!----><div _ngcontent-c29="" class="accordion-chevron">
				<i _ngcontent-c29="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>

	<div _ngcontent-c29="">
		<div _ngcontent-c29="" class="accordion-header accordion-button" role="tab" id="metrics-header" aria-expanded="false" aria-disabled="false">
			<!---->
				<h3 _ngcontent-c12="" id="metrics">Metrics</h3>
			
			<!----><div _ngcontent-c29="" class="accordion-chevron">
				<i _ngcontent-c29="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>
</xpl-document-accordion>
	<!---->
</div></xpl-accordian-section>
					</div>
				</section>

				
			</div>

			<div _ngcontent-c4="" class="document-disqus-container col-24-24">
				<div _ngcontent-c4="" class="row">
					<!---->
				</div>
			</div>
		</div>
	</div>

	<div _ngcontent-c4="" class="document-sidebar col-3 top-spacing">
		<!----><div _ngcontent-c4="" class="header-rel-art-toggle-mobile">
			<i _ngcontent-c4="" class="header-rel-art-toggle-icon"></i>
		</div>
		
		<div _ngcontent-c4="" class="document-sidebar-content">
			<!---->
	
			<div _ngcontent-c4="" class="hide-mobile">
				<!----><xpl-leaderboard-ad _ngcontent-c4="" _nghost-c5=""><!----><div _ngcontent-c5="" class="Ads-leaderboard">
	<div _ngcontent-c5="" class="row u-flex-wrap-nowrap">
		<div _ngcontent-c5="" class="ad-leaderboard-title">Advertisement</div>
		<!---->
	</div>
	
	<div _ngcontent-c5="" class="ad-leaderboard-ad-container">
		<!----><div _ngcontent-c5="" xplgoogleadmigr=""><div id="div-gpt-ad-1531324580046-0" style="width: 300px; height: 250px; display: block; margin: 0px auto;"><div id="google_ads_iframe_/4250/IEEEXplore/DocDetailsTop_2__container__" style="border: 0pt none; width: 300px; height: 250px;"></div></div><script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1531324580046-0"); });</script></div>
		<!---->
		<!---->
	</div>
</div>
</xpl-leaderboard-ad>
			</div>
	
			<!----><div _ngcontent-c4="" class="document-sidebar-rel-art">
				<xpl-related-article-list _ngcontent-c4="" _nghost-c14=""><div _ngcontent-c14="" class="stats-document-header-relatedArticles">
	<div _ngcontent-c14="" class="header-rel-art">
		<div _ngcontent-c14="" class="header-rel-art-title">
			More Like This
		</div>
		<div _ngcontent-c14="" class="header-rel-art-list">
			<!----><div _ngcontent-c14="" class="header-rel-art-item">
				<div _ngcontent-c14="" class="row">
					<a _ngcontent-c14="" target="_self" href="https://ieeexplore.ieee.org/document/8524610/">
						<span _ngcontent-c14="">A Real-Time Pose Estimation Algorithm Based on FPGA and Sensor Fusion</span>
					</a>
					<!---->
				</div>
				<!----><p _ngcontent-c14="" class="header-rel-art-pub">2018 IEEE 16th International Symposium on Intelligent Systems and Informatics (SISY)</p>
				<p _ngcontent-c14="" class="header-rel-art-pub">Published: 2018</p>
			</div><div _ngcontent-c14="" class="header-rel-art-item">
				<div _ngcontent-c14="" class="row">
					<a _ngcontent-c14="" target="_self" href="https://ieeexplore.ieee.org/document/4586845/">
						<span _ngcontent-c14="">Fast inverse compensation of Preisach-type hysteresis operators using field-programmable gate arrays</span>
					</a>
					<!---->
				</div>
				<!----><p _ngcontent-c14="" class="header-rel-art-pub">2008 American Control Conference</p>
				<p _ngcontent-c14="" class="header-rel-art-pub">Published: 2008</p>
			</div>
		</div>
		<!----><div _ngcontent-c14="" class="header-rel-art-action">
			
			<!----><a _ngcontent-c14="">View More</a>
			<!---->
		</div>
	</div>
</div></xpl-related-article-list>
			</div>
	
			<!----><div _ngcontent-c4="" class="document-sidebar-iq-plus">
				<xpl-iq-plus-widget _ngcontent-c4="" _nghost-c15=""><div _ngcontent-c15="" class="iq-plus-container row">
	<div _ngcontent-c15="" class="iq-plus-inner-container col-12 stats-iq-plus-data-count" data-tealium_data="{&quot;iqPlusData&quot;: &quot;&quot;}">
		<div _ngcontent-c15="" class="iq-plus-top-header col-12">
			<div _ngcontent-c15="" class="col iq-plus-top-header-borders">
			</div>
			<div _ngcontent-c15="" class="iq-plus-top-header-logo">
				<i _ngcontent-c15="" class="icon--min logo-ieee-sm-white"></i>
			</div>
		</div>
		<div _ngcontent-c15="" class="iq-plus-header col-12">
			See the top organizations patenting in technologies mentioned in this article
		</div>

		<div _ngcontent-c15="" class="iq-plus-graph">
			<!----><div _ngcontent-c15="">
				<a _ngcontent-c15="">
					<!---->
					<!----><img _ngcontent-c15="" class="img-responsive" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/img-iqplus-default.png">
				</a>
			</div>
			<!---->

			<!---->

			<div _ngcontent-c15="" class="iq-plus-expand-container">
				<!----><button _ngcontent-c15="" class="iq-plus-expand-btn layout-btn-blue">
					<span _ngcontent-c15="">Click to Expand</span>
					<i _ngcontent-c15="" class="icon--min icon-chevron-sm-white-thin"></i>
				</button>

				<!---->

				<!---->
			</div>
		</div>

		<div _ngcontent-c15="" class="iq-plus-footer">
			<a _ngcontent-c15="" target="_blank" href="https://innovationqplus.ieee.org/resources/ieee-xplore-technology-landscape/?lt=ieeexplorewidget"><img _ngcontent-c15="" class="img-responsive" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/logo-iqplus.png"></a>
		</div>
	</div>
</div></xpl-iq-plus-widget>
			</div>
	
			<div _ngcontent-c4="" class="hide-mobile">
				<!----><xpl-leaderboard-middle-ad _ngcontent-c4="" _nghost-c10=""><!----><div _ngcontent-c10="" class="Ads-leaderboard">
	<div _ngcontent-c10="" class="row u-flex-wrap-nowrap">
		<div _ngcontent-c10="" class="ad-leaderboard-title">Advertisement</div>
		<!---->
	</div>

	<div _ngcontent-c10="" class="ad-leaderboard-ad-container">
		<!----><div _ngcontent-c10="" xplgoogleadmigr=""><div id="div-gpt-ad-1531324238723-0" style="width: 300px; height: 600px; display: block; margin: 0px auto;"><div id="google_ads_iframe_/4250/IEEEXplore/DocDetailsMiddle_0__container__" style="border: 0pt none; width: 300px; height: 600px;"></div></div><script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1531324238723-0"); });</script></div>
		<!---->
		<!---->
	</div>
</div></xpl-leaderboard-middle-ad>
			</div>
		</div>
	</div>
</div>

<!----></xpl-document-details>

<xpl-footer _ngcontent-c0="" _nghost-c2=""><footer _ngcontent-c2="" class="stats-footer ng-Footer hide-desktop">
	<nav _ngcontent-c2="" class="footer-nav">
		<div _ngcontent-c2="" class="row">
			<div _ngcontent-c2="" class="col-12">
				<xpl-accordion _ngcontent-c2="" styleclassname="footer-nav-accordion" _nghost-c3=""><!---->
	<div _ngcontent-c3="" class="footer-nav-accordion">
		<div _ngcontent-c3="" class="accordion-header" role="tab" id="xpl-accordion-1562682881999-0-header" aria-expanded="false" aria-disabled="false">
			<!---->
							<h3 _ngcontent-c2="" class="footer-nav-subheader">IEEE Account</h3>
						
			<!----><div _ngcontent-c3="" class="accordion-chevron">
				<i _ngcontent-c3="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>

	<div _ngcontent-c3="" class="footer-nav-accordion">
		<div _ngcontent-c3="" class="accordion-header" role="tab" id="xpl-accordion-1562682882000-1-header" aria-expanded="false" aria-disabled="false">
			<!---->
							<h3 _ngcontent-c2="" class="footer-nav-subheader">Profile Information</h3>
						
			<!----><div _ngcontent-c3="" class="accordion-chevron">
				<i _ngcontent-c3="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>

	<div _ngcontent-c3="" class="footer-nav-accordion">
		<div _ngcontent-c3="" class="accordion-header" role="tab" id="xpl-accordion-1562682882000-2-header" aria-expanded="false" aria-disabled="false">
			<!---->
							<h3 _ngcontent-c2="" class="footer-nav-subheader">Purchase Details</h3>
						
			<!----><div _ngcontent-c3="" class="accordion-chevron">
				<i _ngcontent-c3="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>

	<div _ngcontent-c3="" class="footer-nav-accordion">
		<div _ngcontent-c3="" class="accordion-header" role="tab" id="xpl-accordion-1562682882001-3-header" aria-expanded="false" aria-disabled="false">
			<!---->
							<h3 _ngcontent-c2="" class="footer-nav-subheader">Need Help?</h3>
						
			<!----><div _ngcontent-c3="" class="accordion-chevron">
				<i _ngcontent-c3="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>

	<div _ngcontent-c3="" class="footer-nav-accordion">
		<div _ngcontent-c3="" class="accordion-header" role="tab" id="xpl-accordion-1562682882001-4-header" aria-expanded="false" aria-disabled="false">
			<!---->
							<h3 _ngcontent-c2="" class="footer-nav-subheader">Other</h3>
						
			<!----><div _ngcontent-c3="" class="accordion-chevron">
				<i _ngcontent-c3="" class="fa fa-angle-down"></i>
			</div> 
		</div>
		<!---->
	</div>
</xpl-accordion>
			</div>
		</div>
	</nav>
	<div _ngcontent-c2="" class="footer-bottom">
		<div _ngcontent-c2="" class="row">
			<div _ngcontent-c2="" class="col-12">
				<div _ngcontent-c2="" class="footer-bottom-terms">
					A not-for-profit organization, IEEE is the world's largest 
technical professional organization dedicated to advancing technology 
for the benefit of humanity.
					<br _ngcontent-c2="">
					© Copyright 2019 IEEE - All rights reserved. Use of this web site signifies your agreement to the terms and conditions.
				</div>
			</div>
			<div _ngcontent-c2="" class="col-12">
				<div _ngcontent-c2="" class="footer-bottom-info-container">
					<div _ngcontent-c2="" class="footer-bottom-info">
						<div _ngcontent-c2="">
							US &amp; Canada: <a _ngcontent-c2="" href="tel:+18006784333">+1 800 678 4333</a>
						</div>
						<div _ngcontent-c2="">
							Worldwide: <a _ngcontent-c2="" href="tel:+17329810060">+1 732 981 0060</a>
						</div>
					</div>
					<div _ngcontent-c2="" class="footer-bottom-logo-container">
						<i _ngcontent-c2="" class="footer-bottom-logo logo-ieee-white"></i>
					</div>
				</div>
			</div>
		</div>
	</div>
</footer>
</xpl-footer>
</xpl-root>
	</div>
	
	<!-- START: Angular 2+ Migration: Due to Angualr2+ migration AngualrJs router place holder commented -->
<!-- 	<div ng-show="stateIsLoading" class="Spinner"></div>
	<div ui-view class="{{stateIsLoading ? 'loading': ''}}"
		autoscroll="false"></div>
 -->	<!-- END: Angular 2+ Migration-->
</div>

						




<section id="xploreFooter">
	
	<div class="Footer stats-footer hide-mobile">
		<div class="pure-g Footer-sections">
			<div class="pure-u-1-4">
				<h3 class="Footer-header">IEEE Account</h3>
				<ul class="Footer-list">
					<li><a href="https://www.ieee.org/profile/changeusrpwd/showChangeUsrPwdPage.html?refSite=http://ieeexplore.ieee.org&amp;refSiteName=IEEE%20Xplore">Change Username/Password</a></li>
					<li><a href="https://www.ieee.org/profile/address/getAddrInfoPage.html?refSite=http://ieeexplore.ieee.org&amp;refSiteName=IEEE%20Xplore">Update Address</a></li>
				</ul>
			</div>
			<div class="pure-u-1-4">
				<h3 class="Footer-header">Purchase Details</h3>
				<ul class="Footer-list">
					<li><a href="https://www.ieee.org/profile/payment/showPaymentHome.html?refSite=http://ieeexplore.ieee.org&amp;refSiteName=IEEE%20Xplore">Payment Options</a></li>
					<li><a href="https://www.ieee.org/profile/vieworder/showOrderHistory.html?refSite=http://ieeexplore.ieee.org&amp;refSiteName=IEEE%20Xplore">Order History</a></li>
					<li><a href="https://ieeexplore.ieee.org/articleSale/purchaseHistory.jsp">View Purchased Documents</a></li>
				</ul>
			</div>
			<div class="pure-u-1-4">
				<h3 class="Footer-header">Profile Information</h3>
				<ul class="Footer-list">
					<li><a href="https://www.ieee.org/profile/commprefs/showcommPrefpage.html?refSite=http://ieeexplore.ieee.org&amp;refSiteName=IEEE%20Xplore">Communications Preferences</a></li>
					<li><a href="https://www.ieee.org/profile/profedu/getProfEduInformation.html?refSite=http://ieeexplore.ieee.org&amp;refSiteName=IEEE%20Xplore">Profession and Education</a></li>
					<li><a href="https://www.ieee.org/profile/tips/getTipsInfo.html?refSite=http://ieeexplore.ieee.org&amp;refSiteName=IEEE%20Xplore">Technical Interests</a></li>
				</ul>
			</div>
			<div class="pure-u-1-4">
				<h3 class="Footer-header">Need Help?</h3>
				<ul class="Footer-list">
					<li><strong>US &amp; Canada:</strong> +1 800 678 4333</li>
					<li><strong>Worldwide: </strong> +1 732 981 0060<br>
					</li>
					<li><a href="https://ieeexplore.ieee.org/xpl/techform.jsp">Contact &amp; Support</a></li>
				</ul>
			</div>
		</div>
		<div class="row">
			<div class="col-12 Footer-bottom">
				<div class="Footer-bottom-inner-div row">
					<div class="col">
						<ul class="Menu Menu--horizontal Menu--dividers u-mb-1">
							<li class="Menu-item"><a href="https://ieeexplore.ieee.org/Xplorehelp/about-ieee-xplore.html">About IEEE <em>Xplore</em></a></li>
							<li class="Menu-item"><a href="https://ieeexplore.ieee.org/xpl/techform.jsp">Contact Us</a></li>
							<li class="Menu-item"><a href="https://ieeexplore.ieee.org/Xplorehelp/Help_start.html" target="blank">Help</a></li>
							<li class="Menu-item"><a href="https://ieeexplore.ieee.org/Xplorehelp/accessibility-statement.html" target="blank">Accessibility</a></li> 
							<li class="Menu-item"><a href="https://ieeexplore.ieee.org/Xplorehelp/Help_Terms_of_Use.html" target="_blank">Terms of Use</a></li>
							<li class="Menu-item"><a href="http://www.ieee.org/web/aboutus/whatis/policies/p9-26.html">Nondiscrimination Policy</a></li>
							<li class="Menu-item"><a href="https://ieeexplore.ieee.org/xpl/sitemap.jsp">Sitemap</a></li>
							<li class="Menu-item"><a href="http://www.ieee.org/about/help/security_privacy.html" target="blank">Privacy &amp; Opting Out of Cookies</a></li>
						</ul>
						<p class="Footer-bottom-terms">
							A not-for-profit organization, IEEE is the world's largest 
technical professional organization dedicated to advancing technology 
for the benefit of humanity.<br>© Copyright 2019 IEEE - All rights reserved. Use of this web site signifies your agreement to the terms and conditions.
						</p>
					</div>

					<div><i class="logo-ieee-white"></i></div>
				</div>
				
			</div>
		</div>
	</div>

	
	
</section>

						<!-- BEGIN: tealium in v2/common/template.jsp. We need to include tealiumAnalytics.js here since Angular 2+ app load if you load after commnon.js then tealium value will not be available in angular 2+ app  -->
						






		<!-- BEGIN: TealiumAnalytics.jsp -->
		
		
		
		
		
		
		
		
		
		
		
		
			
			
			
			
				
			
		
		
		
		
		
		
			
				
			
		
			
				
					
					
				
			
	
			
	
			
				
			
		
		

			<script type="text/javascript">
 				// tealium config vars
				var TEALIUM_CONFIG_TAGGING_ENABLED = true;		
				var TEALIUM_CONFIG_CDN_URL = '//tags.tiqcdn.com/utag/';
				var TEALIUM_CONFIG_ACCOUNT_PROFILE_ENV = 'ieeexplore/main/prod';
				
				// tealium utag_data values for user 
				var TEALIUM_userType = 'Institute';
				var TEALIUM_userInstitutionId = '44497';
				var TEALIUM_userId = '';
				var TEALIUM_user_third_party = '';
				
				var TEALIUM_products = 'NOKIA BELL LABS|ISOL55|MCCIS5|EBOOKS:2015:2017|NOWCSEC:2018:2018|IEL|MITPJRNLS|MCCIS6|IBM|MCCIS7|ISOL85|MCCIS8|VDE|NOKIA BELL LABS|';
			</script>


			<script type="text/javascript">
			// asynchronously load tealium's utag.js , which declares tealium JS variables like; utag_data, utag
			(function(a,b,c,d){
			
				a=TEALIUM_CONFIG_CDN_URL + TEALIUM_CONFIG_ACCOUNT_PROFILE_ENV + '/utag.js';
				b=document;c='script';d=b.createElement(c);d.src=a;
				d.type='text/java'+c;d.async=true;
				a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
			})();
			</script>

			<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/tealiumTagsData.js"></script>
			<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/tealiumAnalytics.js"></script>


		
 		
		<!-- END: TealiumAnalytics.jsp -->
			 

						<!-- END: tealium in v2/common/template.jsp -->
						







<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/MathJax.js"></script>











<link rel="stylesheet" href="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/ie7Sniffer.css">
<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/js.js"></script>
<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/fingerprint2.js"></script>
<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/fingerprint.js"></script>


	

		
		
		
		
		

		
			
		
		
		

		

		
		


		

		
		
		
		
		
		
		
		
		
		
	
	






<div style="width: 1263px;" id="popup_overlay"></div>

<g:compress>








		
		
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/modernizr.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/vendor_002.js" charset="utf-8"></script>
					
								
			
				
					
						








 
<script>
	var $j = jQuery.noConflict();
	var j$ = jQuery.noConflict();
	var membershipIncomplete;
    var IS_INDIVIDUAL_USER=false;

	var searchPropertiesParamQueryText = 'queryText';
	var searchPropertiesParamNewSearch = 'newsearch';
	var searchPropertiesParamMatchBoolean = 'matchBoolean';
	var searchPropertiesParamSearchWithin = 'searchWithin';
	var searchInterfaceArticleIndexTermReference = 'Search_Index_Terms';
	var searchPropertiesParamRecordsPerPage = 'rowsPerPage';
	var searchPropertiesParamPageNumber = 'pageNumber';
	var searchPropertiesParamRemoveRefinement = 'removeRefinement';	
	var searchPropertiesParamSearchField = 'searchField';
	var searchPropertiesParamArticleNumber = 'arnumber';
	
	var authorsGetDisplay = 'Authors';
	var authorsFirstNameProperty = 'First Name';
	var authorsLastNameProperty = 'Last Name';
	var authorsMiddleNameProperty = 'Middle Name';
	var pubTitleDispNameProperty = 'Publication Title';
	var volumeDispNameProperty = 'Volume';
	var issueDispNameProperty = 'Issue';
	var startPageDispNameProperty = 'Start Page';
	var endPageDispNameProperty = 'Start Page';

	var searchIcsTermProperty = 'Standards ICS Terms';
	var SearchMapperParamSearchField = 'searchField';
	
	var SearchMapperParamNewSearch = 'newsearch';
	var SearchMapperParamArticleNumber = 'arnumber';	
	
	var NTPT_IMAGE_LOCATION = '';
	var XPLORE_SSL_HOST = 'https://ieeexplore.ieee.org';	
	var SSL_YES_NO = 'yes';
	if (SSL_YES_NO.toUpperCase() == "NO"){
		var XPLORE_SSL_YES_NO = false;
	}else{
		var XPLORE_SSL_YES_NO = true;
	}
	var WEBSERVICES_SSL_YES_NO = 'yes';
	if (WEBSERVICES_SSL_YES_NO.toUpperCase() == "NO"){
		var XPLORE_WEBSERV_YES_NO = false;
	}else{
		var XPLORE_WEBSERV_YES_NO = true;
	}
	
	var AUTHOR_PROFILE = 'ON';
	if (AUTHOR_PROFILE.toUpperCase() == "OFF"){
		var AUTHOR_PROFILE_ENABLED = false;
	}else{
		var AUTHOR_PROFILE_ENABLED = true;
	}
	
	var ILN_SWITCH = 'OFF';
	if (ILN_SWITCH.toUpperCase() == "OFF"){
		var ILN_ENABLED = false;
	}else{
		var ILN_ENABLED = true;
	}
	
	var IBP_MEMBEER_SIGNIN_TIME_WAIT_IN_MILLIES = '800';
	var ASSETS_RELATIVE_PATH = '/assets'; // NOTE: AngularJS code relies on this
	var ASSETS_RELATIVE_PATH_NO_SERVER = '/assets';
	var ASSETS_VERSION = '20190618_000001'; // NOTE: AngularJS code relies on this
	var IBP_WS_ASSETS='https://www.ieee.org';
	var IBP_WS_ENABLED_FLAG = true;
	var ENTERPRISE_CART_URL = 'https://www.ieee.org/cart/public/myCart/page.html?refSite=http://ieeexplore.ieee.org&refSiteName=IEEE%20Xplore';

	var SPECIAL_CHARACTER_MAPS = '&:.AND.,=:.EQ.,+:.PLS.,#:.HSH.';
	var SPECIAL_CHARACTERS = new Array();
	var SPECIAL_CHARACTER_REPLACEMENTS = new Array();
	var characterMaps = SPECIAL_CHARACTER_MAPS.split(",");
	for (var i = 0; i < characterMaps.length; i++) {
		parts = characterMaps[i].split(":");
		SPECIAL_CHARACTERS[i] = parts[0];
		SPECIAL_CHARACTER_REPLACEMENTS[i] = parts[1];
	}

	var ALL_SEARCH_FIELDS = 'Search_Index_Terms:Index Terms,Search_All_Text:Full Text & Metadata,Search_All:Metadata Only,Search_Publication_Title:Search Publication Title,Search_Related_Terms:Search Related Terms,Search_Authors:Author Name,Search_Standard_Ics_Title:ICE Terms,id:Article Number,id:ID,moduleNumber:Module Number,part_num:Part_Num,issn:ISSN,isbn:ISBN,eisbn:EISBN,issueId:IS Number,pubIssueId:Pub Issue Id,accessionNumber:Accession Number,copyrightHolder:Copyright Holder,copyrightYear:Copyright Year,license:License,documentAbstract:Abstract,publicationId:Publication Number,parentPublicationId:Parent Publication Number,parentId:Parent Id,standardArticleId:Standard Article Id,title:Document Title,parentTitle:Parent Publication Title,publicationTitle:Publication Title,publicationDisplayTitle:Publication Display Title,volume:Volume,issue:Issue,paddedIssueNumber:Padded Issue Number,part:Part,startPage:Start Page,endPage:End Page,filePath:File Path,publicationDate:Publication Date,PublicationYear:Publication_Year,onlineDate:Online Date,month:Month,Author:Author Pref Names,authorNormNames:Author Norm Names,author:Authors,authorIds:Author Ids,firstName:First Name,middleName:Middle Name,lastName:Last Name,Affiliation:Author Affiliations,authorBio:Author Bio,authorImg:Author Img,referenceCount:Reference Count,citationCount:Citation Count,patentCount:Patent Count,multimediaFlag:Multimedia Flag,biomedicalEngFlag:Biomedical Eng Flag,nonIeee:Non IEEE,stdsProductNumber:STDS Product Number,bmsProductNumber:Bms Product Number,status:Status,doi:DOI,pdfPath:Pdf Path,pdfSize:Pdf Size,contentType:Content Type,Publisher:Publisher,ControlledTerms:INSPEC Controlled Terms,freeTerms:INSPEC Non-Controlled Terms,ieeeTerms:IEEE Terms,authorTerms:Author Keywords,maiTerms:MAI Terms,meshTerms:Mesh_Terms,pacsTerms:PACS Terms,insertDate:Insert Date,ConferenceLocation:Conference Location,indexContent:Index Content,coden:CODEN,documentText:Document Text,standardNumber:Standard Number,preprintFlag:Preprint Flag,rapidPostFlag:Rapid Post Flag,lastUpdate:Last Update,newFlag:New Flag,openAccessFlag:Open Access Flag,publicationOpenAccess:Publication Open Access,promoFlag:Promo Flag,pubmedId:Pubmed Id,duration:Duration,society:Society,conference:Conference,ConferenceCountry:ConferenceCountry,societyUrl:Society URL,idSubject:Id Subject,bookNumber:Book Number,pages:Pages,editionNumber:Edition Number,sequence:Sequence,relatedInfoType:Related Info Type,relatedInfo:Related Info,formatIsbn:Format ISBN,meetingDate:Meeting Date,courseLevel:Course level,courseId:Course ID,aboutUrl:About Url,additionalUrl:Additional Url,authorsUrl:Authors Url,openAccessUrl:Open Access Url,openAccessFlag:Open Access flag,partnumVendorurlMediatype:Partnum VendorURL MediaType,brandingImageFile:Branding Image File,coverImageFile:Cover Image File,frequency:Frequency,fieldOfInterest:Field Of Interest,gParentPublicationNumber:G Parent Publication Number,msUrl:Ms Url,publicationRelationship:Relationship,societyImage:Society Image,visitUrl:Visit Url,visitWebsite:Visit Website,startYear:Start Year,endYear:End Year,publicationInactive:Publication Inactive,recordType:Record Type,epub:Epub,picCodeDescription:Pic Code Description,picCode:Pic Code,sponsors:Sponsors,issueNotes:Notes,conferenceDate:Conference Date,publicationContact:Publication Contact,isbuyable:isBuyable,publicationFiles:Publication Files,standardRelationships:Standard Relationships,unavailableForSale:Unavailable for Sale,availableForSale:Available for Sale,standardFamily:Standard Family,standardGroup:Standard Group,productUrl:Product Url,isbnMediatype:ISBN MediaType,htmlFlag:Html Flag,rightslinkFlag:Rightslink Flag,pageCount:Page Count,name:Name,tableOfContents:Table of Contents,timeStamp:Time Stamp,subTitle:Sub Title,relatedItem:Related Item,referenceMaterial:Reference Material,latestIssueTime:Latest Issue Time,insertDate:Search Latest Date,pbdFlag:Pbd Flag,lmsUrl:Lms Url,currentVolume:Current Volume,graphicalFile:Graphical File,graphicalCoverImage:Graphical Cover Image,graphicalSummary:Graphical Summary,graphicalType:Graphical Type,authorNativeNames:Native Name,externalId:Article Page Number,standardBundles:Standard Bundles,standardBundleParts:Standard Bundle Parts,virtualTitle:Virtual Title,seriesName:Series Name,seriesId:Series Id,mlHtmlFlag:ML Html flag,promoDates:Promo Dates,promoStartDate:Promo Start Date,promoEndDate:Promo End Date,issueCompleteFlag:Issue Complete Flag,scope:Scope,purpose:Purpose,standardFamilyTitle:Standard Family Title,thumbnailImg:Thumbnail Img,supplementFile:Supplement File,courseFile:Course File,supplement:Supplement,courseAuthor:Course Author,pdhs:Pdhs,ceus:Ceus,courseFirstFrame:FirstFrame Img,idSubTopic:Id Sub Topic,certificateUrl:Certificate Url,standardRoot:Standard Root,icsTerms:Standards ICS Terms,impactStatement:Impact Statement,plagiarizedFlag:Plagiarized Flag,affirmedDate:Affirmed Date,sourcePdf:Source Pdf,orcid:Author ORCID,algorithmFlag:Algorithm Flag,fundingAgency:Funding Agency,pricingKey:Map Pricing Key,publicationRollup:Rollup Key,collection:Collection,previewImage:Preview Image,regularDate:Regular Date,ContentType:Content Type,TypeAheadTerms:Type Ahead Terms,IeeeTerm:IEEE Term,ContentType:Content Type,Author:Author,Affiliation:Affiliation,Topic:Topic,PublicationTitle:Publication Title,PublicationYear:Year,Publisher:Publisher,ConferenceCountry:Conference Country,ConferenceLocation:Conference Location,StandardStatus:Standard Status,ConferenceYear:Conference Year,PublicationPackage:Subscribed Content,StandardPackage:Standard Package,StandardTitle:Standard Title,StdDictionaryTerms:Standards Dictionary Terms,TitleRange:Publication Range,StandardRange:Standard Range,RecordType:Record Type,MediaType:Media Type,BookType:Book Type,CourseType:Course Type,PublicationStandardRange:Publication Standard Range,PerpetualYear:Perpetual Year,OpacTitleRange:Opac Title Range,BookSeries:Book Series,SubjectCategory:Subject Category,Sessions:Sessions,TypeAheadPublication:Type Ahead Publication,SubTopic:Sub Topic,CourseDuration:Course Duration,CourseLevel:Course Level,StandardType:Standard Type,StandardSubtype:Standard SubType,Topic:Standard Topic,StandardModifier:Standard Modifier,IcsTerms1:Ics Terms 1,IcsTerms2:Ics Terms 2,IcsTerms3:Ics Terms 3,SupplementalItem:Supplemental Items,CourseDuration:Course Duration,SpecialSection:Topics,ControlledTerms:Index Terms';
	var SEARCH_FIELD_REFERENCES = new Array();
	var SEARCH_FIELD_DISPLAYS = new Array();
	var searchFields = ALL_SEARCH_FIELDS.split(",");
	for (var j = 0; j < searchFields.length; j++) {
		parts = searchFields[j].split(":");
		SEARCH_FIELD_REFERENCES[j] = parts[0];
		SEARCH_FIELD_DISPLAYS[j] = parts[1];
	}
	

	var refSite='https://ieeexplore.ieee.org';
	var refSiteName="IEEE Xplore";
	var applicationName = 'Xplore';
	var MC_OPERATION_DELAY_TIMEOUT='5000';
	var MC_ADDING_DELAY_MSG='Please wait.The selected item(s) is being added to the cart.';
	var MC_TIMEOUT='60000';
	var MC_OPERATION_DELAY_MSG_FLAG='true';

	var MEMBER_PROFILE_CHANGE_USERNAMEPASS_LINK = 'https://www.ieee.org/profile/changeusrpwd/showChangeUsrPwdPage.html?refSite=http://ieeexplore.ieee.org&refSiteName=IEEE Xplore';
	var MEMBER_PROFILE_ADDRESSINFO_LINK = 'https://www.ieee.org/profile/address/getAddrInfoPage.html?refSite=http://ieeexplore.ieee.org&refSiteName=IEEE Xplore';
	var MEMBER_PROFILE_PAYMENTINFO_LINK = 'https://www.ieee.org/profile/payment/showPaymentHome.html?refSite=http://ieeexplore.ieee.org&refSiteName=IEEE Xplore';
	var MEMBER_PROFILE_ORDER_HISTORY_LINK = 'https://www.ieee.org/profile/vieworder/showOrderHistory.html?refSite=http://ieeexplore.ieee.org&refSiteName=IEEE Xplore';
	var MEMBER_USER_COMMUNICATION_LINK = 'https://www.ieee.org/profile/commprefs/showcommPrefpage.html?refSite=http://ieeexplore.ieee.org&refSiteName=IEEE Xplore';
	var MEMBER_EDUCATIONAL_PROFILE_LINK = 'https://www.ieee.org/profile/profedu/getProfEduInformation.html?refSite=http://ieeexplore.ieee.org&refSiteName=IEEE Xplore';
	var MEMBER_TECHNICAL_INTERESTS_LINK = 'https://www.ieee.org/profile/tips/getTipsInfo.html?refSite=http://ieeexplore.ieee.org&refSiteName=IEEE Xplore';
	var HELPFILE_RELATIVE_PATH = '/Xplorehelp';
	
	//content types
	var CONTENT_TYPE_PARAM = 'contentType';
	var CONTENT_TYPE_BOOKS = 'Books';
	var CONTENT_TYPE_COURSES = 'Courses';
	var CONTENT_TYPE_STANDARDS = 'Standards';
	var CONTENT_TYPE_CONFERENCES = 'Conferences';
	var CONTENT_TYPE_JOURNALS = 'Journals & Magazines';
	var CONTENT_TYPE_EARLY_ACCESS = 'Early Access Articles';
	
	//User Preferences
	var citFormat = "";
	var dlFormat = "";
	
	//Google ReCaptcha public Key 
	var RECAPTCHA_PUBLIC_KEY = '6Ld6GEUUAAAAALdaAmeGUhZyz1KFFHnd5oCaTW-t';
</script>

					
					
								
			
				
					
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/history.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/cartScroll.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/minicart.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/core.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/xpl_003.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/xpl_004.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/xpl_002.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/xpl.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/templates.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/templates_002.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/templates_004.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/templates_003.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/inline.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/polyfills.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/vendor.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/main.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/ads.js" charset="utf-8"></script>
					
								
			
				
					
					
								<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/master.js" charset="utf-8"></script>
					
								
			
		
	






<script>

j$('document').ready(function(){
	if (Cookies.get('legacyUserName')) {
		if (IBP_WS_ENABLED_FLAG){
			Modal.refreshLegacyAccountTransition('/xpl/mwLegacyAccountTransition.jsp');
		}
	}
});

</script>












</g:compress>








		
			
					
			
					
			
					
			
				
					







<script>
	// Get/Set XPL namespace.
	window.xpl = window.xpl || {};
	
	// Set constants/application properties.
	xpl.properties = { 
			collabratec: { 
					url: 'https://ieee-collabratec.ieee.org/app/library'
			}
	};
	
	xpl.properties.details = {
			oqs: ''
	};
</script>
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
					
			
		
		
	





	<!--Begin Optional Configuration-->
	<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/jquery_003.js"></script>
	<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/postmessage-min.js"></script>
	<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/jquery_004.js"></script>
	<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/ieee-auth-constants-min.js"></script>
	<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/ieee-auth-include-min.js"></script>
	<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/ieee-mini-cart-constants-min.js"></script>


	<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/ieee-mashup-util-min.js"></script>
	<script type="text/javascript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/jquery_002.js"></script>
	<script type="text/javaScript" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/ieee-minicart-include-min.js"> </script>

	<!--End Optional Configuration-->




<!-- Removed due to network issues when loading in China -->
<!-- <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-5005a435228f9245" async="async"></script>-->

<!-- Load Mathjax and process the document for Mathjax characters -->


<!-- <script type="text/javascript" src="/xploreAssets/MathJax-274/MathJax.js?config=default"></script> -->


<script defer="defer">
	MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.body]);
</script>



					</div>
				</div>
			</div>

			
				<script>
					// set $ alias back to jQuery because noConflict mode is used in legacy pages
					window.$ = jQuery;
				</script>
			
		</div><!-- /#LayoutWrapper -->
	
<div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" role="dialog" tabindex="-1" style="display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><button type="button" id="cboxPrevious"></button><button type="button" id="cboxNext"></button><button id="cboxSlideshow"></button><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none; max-width: none;"></div></div><iframe sandbox="allow-scripts allow-same-origin" title="Adobe ID Syncing iFrame" id="destination_publishing_iframe_ieeexplore_undefined" name="destination_publishing_iframe_ieeexplore_undefined_name" style="display: none; width: 0px; height: 0px;" src="A%20double%20stage%20Kalman%20filter%20for%20sensor%20fusion%20and%20orientation%20tracking%20in%209D%20IMU%20-%20IEEE%20Conference%20Publication_files/dest5.html" class="aamIframeLoaded"></iframe><div class="ref" id="ref_popup"></div><div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px none; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; min-width: 0px; max-width: none; padding: 0px; border: 0px none; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-size-adjust: none; font-family: MathJax_Size4, sans-serif;"></div></div></body></html>